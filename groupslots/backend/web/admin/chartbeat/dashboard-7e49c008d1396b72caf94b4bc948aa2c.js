function g(a){throw a;}var j=void 0,q=null;function aa(){return function(){}}function ba(a){return function(b){this[a]=b}}function s(a){return function(){return this[a]}}var t,ca=ca||{},u=this;function da(a,b){var c=a.split("."),d=u;!(c[0]in d)&&d.execScript&&d.execScript("var "+c[0]);for(var e;c.length&&(e=c.shift());)!c.length&&ea(b)?d[e]=b:d=d[e]?d[e]:d[e]={}}function fa(a){for(var a=a.split("."),b=u,c;c=a.shift();)if(b[c]!=q)b=b[c];else return q;return b}function ga(){}
function ha(a){var b=typeof a;if(b=="object")if(a){if(a instanceof Array)return"array";else if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if(c=="[object Window]")return"object";if(c=="[object Array]"||typeof a.length=="number"&&typeof a.splice!="undefined"&&typeof a.propertyIsEnumerable!="undefined"&&!a.propertyIsEnumerable("splice"))return"array";if(c=="[object Function]"||typeof a.call!="undefined"&&typeof a.propertyIsEnumerable!="undefined"&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if(b=="function"&&typeof a.call=="undefined")return"object";return b}function ea(a){return a!==j}function v(a){return ha(a)=="array"}function ia(a){var b=ha(a);return b=="array"||b=="object"&&typeof a.length=="number"}function w(a){return typeof a=="string"}function ja(a){return typeof a=="number"}function ka(a){return ha(a)=="function"}function la(a){a=ha(a);return a=="object"||a=="array"||a=="function"}function ma(a){return a[na]||(a[na]=++qa)}
var na="closure_uid_"+Math.floor(Math.random()*2147483648).toString(36),qa=0;function ra(a,b,c){return a.call.apply(a.bind,arguments)}function sa(a,b,c){a||g(Error());if(arguments.length>2){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}else return function(){return a.apply(b,arguments)}}
function y(a,b,c){y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?ra:sa;return y.apply(q,arguments)}function ta(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=Array.prototype.slice.call(arguments);b.unshift.apply(b,c);return a.apply(this,b)}}var z=Date.now||function(){return+new Date};function ua(a,b){var c=b||{},d;for(d in c)var e=(""+c[d]).replace(/\$/g,"$$$$"),a=a.replace(RegExp("\\{\\$"+d+"\\}","gi"),e);return a}
function A(a,b){function c(){}c.prototype=b.prototype;a.f=b.prototype;a.prototype=new c;a.prototype.constructor=a};function va(a){this.stack=Error().stack||"";if(a)this.message=String(a)}A(va,Error);va.prototype.name="CustomError";function wa(a,b){for(var c=1;c<arguments.length;c++)var d=String(arguments[c]).replace(/\$/g,"$$$$"),a=a.replace(/\%s/,d);return a}function xa(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")}var ya=/^[a-zA-Z0-9\-_.!~*'()]*$/;function za(a){a=String(a);return!ya.test(a)?encodeURIComponent(a):a}function Ca(a){return decodeURIComponent(a.replace(/\+/g," "))}
function Da(a){if(!Ea.test(a))return a;a.indexOf("&")!=-1&&(a=a.replace(Fa,"&amp;"));a.indexOf("<")!=-1&&(a=a.replace(Ga,"&lt;"));a.indexOf(">")!=-1&&(a=a.replace(Ha,"&gt;"));a.indexOf('"')!=-1&&(a=a.replace(Ia,"&quot;"));return a}var Fa=/&/g,Ga=/</g,Ha=/>/g,Ia=/\"/g,Ea=/[&<>\"]/;function Ja(a,b){a.length>b&&(a=a.substring(0,b-3)+"...");return a}function B(a,b){var c=ea(j)?a.toFixed(j):String(a),d=c.indexOf(".");if(d==-1)d=c.length;d=Math.max(0,b-d);return Array(d+1).join("0")+c}
function Ka(a,b){for(var c=0,d=xa(String(a)).split("."),e=xa(String(b)).split("."),f=Math.max(d.length,e.length),h=0;c==0&&h<f;h++){var i=d[h]||"",k=e[h]||"",l=RegExp("(\\d*)(\\D*)","g"),m=RegExp("(\\d*)(\\D*)","g");do{var n=l.exec(i)||["","",""],o=m.exec(k)||["","",""];if(n[0].length==0&&o[0].length==0)break;c=La(n[1].length==0?0:parseInt(n[1],10),o[1].length==0?0:parseInt(o[1],10))||La(n[2].length==0,o[2].length==0)||La(n[2],o[2])}while(c==0)}return c}
function La(a,b){if(a<b)return-1;else if(a>b)return 1;return 0}var Ma={};function Na(a){return Ma[a]||(Ma[a]=String(a).replace(/\-([a-z])/g,function(a,c){return c.toUpperCase()}))};function Oa(a,b){b.unshift(a);va.call(this,wa.apply(q,b));b.shift();this.cn=a}A(Oa,va);Oa.prototype.name="AssertionError";function Pa(a,b){g(new Oa("Failure"+(a?": "+a:""),Array.prototype.slice.call(arguments,1)))};var Qa=Array.prototype,Ra=Qa.indexOf?function(a,b,c){return Qa.indexOf.call(a,b,c)}:function(a,b,c){c=c==q?0:c<0?Math.max(0,a.length+c):c;if(w(a))return!w(b)||b.length!=1?-1:a.indexOf(b,c);for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},D=Qa.forEach?function(a,b,c){Qa.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=w(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},Sa=Qa.map?function(a,b,c){return Qa.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),f=w(a)?
a.split(""):a,h=0;h<d;h++)h in f&&(e[h]=b.call(c,f[h],h,a));return e};function Ta(a,b){var c=Ra(a,b);c>=0&&Qa.splice.call(a,c,1)}function Ua(a){return Qa.concat.apply(Qa,arguments)}function Va(a){if(v(a))return Ua(a);else{for(var b=[],c=0,d=a.length;c<d;c++)b[c]=a[c];return b}}function Wa(a,b){for(var c=1;c<arguments.length;c++){var d=arguments[c],e;if(v(d)||(e=ia(d))&&d.hasOwnProperty("callee"))a.push.apply(a,d);else if(e)for(var f=a.length,h=d.length,i=0;i<h;i++)a[f+i]=d[i];else a.push(d)}}
function Xa(a,b,c,d){Qa.splice.apply(a,Ya(arguments,1))}function Ya(a,b,c){return arguments.length<=2?Qa.slice.call(a,b):Qa.slice.call(a,b,c)}function ab(a,b){Qa.sort.call(a,b||bb)}function cb(a){var b=bb;ab(a,function(a,d){return b(a.count,d.count)})}function bb(a,b){return a>b?1:a<b?-1:0};var db,eb,fb,gb,hb,ib,jb;function kb(){return u.navigator?u.navigator.userAgent:q}function mb(){return u.navigator}hb=gb=fb=eb=db=!1;var nb;if(nb=kb()){var ob=mb();db=nb.indexOf("Opera")==0;eb=!db&&nb.indexOf("MSIE")!=-1;gb=(fb=!db&&nb.indexOf("WebKit")!=-1)&&nb.indexOf("Mobile")!=-1;hb=!db&&!fb&&ob.product=="Gecko"}var pb=db,F=eb,G=hb,H=fb,qb=gb,rb,sb=mb();rb=sb&&sb.platform||"";ib=rb.indexOf("Mac")!=-1;jb=rb.indexOf("Win")!=-1;var tb=!!mb()&&(mb().appVersion||"").indexOf("X11")!=-1,ub;
a:{var vb="",wb;if(pb&&u.opera)var xb=u.opera.version,vb=typeof xb=="function"?xb():xb;else if(G?wb=/rv\:([^\);]+)(\)|;)/:F?wb=/MSIE\s+([^\);]+)(\)|;)/:H&&(wb=/WebKit\/(\S+)/),wb)var yb=wb.exec(kb()),vb=yb?yb[1]:"";if(F){var zb,Ab=u.document;zb=Ab?Ab.documentMode:j;if(zb>parseFloat(vb)){ub=String(zb);break a}}ub=vb}var Bb={};function I(a){return Bb[a]||(Bb[a]=Ka(ub,a)>=0)}var Cb={};function Db(){return Cb[9]||(Cb[9]=F&&document.documentMode&&document.documentMode>=9)};var Eb,Fb=!F||Db();!G&&!F||F&&Db()||G&&I("1.9.1");F&&I("9");function Gb(a){return(a=a.className)&&typeof a.split=="function"?a.split(/\s+/):[]}function Hb(a,b){var c=Gb(a),d=Ya(arguments,1),e;e=c;for(var f=0,h=0;h<d.length;h++)Ra(e,d[h])>=0||(e.push(d[h]),f++);e=f==d.length;a.className=c.join(" ");return e}function Ib(a,b){for(var c=Gb(a),d=Ya(arguments,1),e=c,f=0,h=0;h<e.length;h++)Ra(d,e[h])>=0&&(Xa(e,h--,1),f++);a.className=c.join(" ")}function Jb(a,b,c){c?Hb(a,b):Ib(a,b)};function J(a,b){this.x=ea(a)?a:0;this.y=ea(b)?b:0}J.prototype.clone=function(){return new J(this.x,this.y)};J.prototype.toString=function(){return"("+this.x+", "+this.y+")"};function Kb(a,b){return new J(a.x-b.x,a.y-b.y)};function Lb(a,b){this.width=a;this.height=b}t=Lb.prototype;t.clone=function(){return new Lb(this.width,this.height)};t.toString=function(){return"("+this.width+" x "+this.height+")"};t.ceil=function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};t.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};t.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};
t.scale=function(a){this.width*=a;this.height*=a;return this};function Mb(a,b,c){for(var d in a)b.call(c,a[d],d,a)}function Nb(a,b){var c={},d;for(d in a)b.call(j,a[d],d,a)&&(c[d]=a[d]);return c}function Ob(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b}function Pb(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b}function Qb(a){for(var b in a)return!1;return!0}function Rb(a,b){b in a&&delete a[b]}var Sb="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",");
function Tb(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<Sb.length;f++)c=Sb[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};function Ub(a){return a?new Vb(K(a)):Eb||(Eb=new Vb)}function L(a){return w(a)?document.getElementById(a):a}function Wb(){var a=document;Xb(a)?a=a.querySelector(".loading"):(a=document,a=Xb(a)?a.querySelectorAll(".loading"):a.getElementsByClassName?a.getElementsByClassName("loading"):Yb(),a=a[0]);return a||q}function Xb(a){return a.querySelectorAll&&a.querySelector&&(!H||Zb(document)||I("528"))}
function Yb(){var a,b,c,d;a=document;if(Xb(a))return a.querySelectorAll(".loading");if(a.getElementsByClassName){var e=a.getElementsByClassName("loading");return e}e=a.getElementsByTagName("*");d={};for(b=c=0;a=e[b];b++){var f=a.className;typeof f.split=="function"&&Ra(f.split(/\s+/),"loading")>=0&&(d[c++]=a)}d.length=c;return d}
function $b(a,b){Mb(b,function(b,d){d=="style"?a.style.cssText=b:d=="class"?a.className=b:d=="for"?a.htmlFor=b:d in ac?a.setAttribute(ac[d],b):d.lastIndexOf("aria-",0)==0?a.setAttribute(d,b):a[d]=b})}var ac={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",rowspan:"rowSpan",valign:"vAlign",height:"height",width:"width",usemap:"useMap",frameborder:"frameBorder",maxlength:"maxLength",type:"type"};function M(a,b,c){return bc(document,arguments)}
function bc(a,b){var c=b[0],d=b[1];if(!Fb&&d&&(d.name||d.type)){c=["<",c];d.name&&c.push(' name="',Da(d.name),'"');if(d.type){c.push(' type="',Da(d.type),'"');var e={};Tb(e,d);d=e;delete d.type}c.push(">");c=c.join("")}c=a.createElement(c);if(d)w(d)?c.className=d:v(d)?Hb.apply(q,[c].concat(d)):$b(c,d);b.length>2&&cc(a,c,b,2);return c}
function cc(a,b,c,d){function e(c){c&&b.appendChild(w(c)?a.createTextNode(c):c)}for(;d<c.length;d++){var f=c[d];ia(f)&&!(la(f)&&f.nodeType>0)?D(dc(f)?Va(f):f,e):e(f)}}function Zb(a){return a.compatMode=="CSS1Compat"}function ec(a,b){cc(K(a),a,arguments,1)}function fc(a){a&&a.parentNode&&a.parentNode.removeChild(a)}
function gc(a,b){if(a.contains&&b.nodeType==1)return a==b||a.contains(b);if(typeof a.compareDocumentPosition!="undefined")return a==b||Boolean(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a}function K(a){return a.nodeType==9?a:a.ownerDocument||a.document}function hc(a){return H?a.document||a.contentWindow.document:a.contentDocument||a.contentWindow.document}
function dc(a){if(a&&typeof a.length=="number")if(la(a))return typeof a.item=="function"||typeof a.item=="string";else if(ka(a))return typeof a.item=="function";return!1}function Vb(a){this.j=a||u.document||document}t=Vb.prototype;t.tf=Ub;t.h=function(a){return w(a)?this.j.getElementById(a):a};t.Ba=function(a,b,c){return bc(this.j,arguments)};t.createElement=function(a){return this.j.createElement(a)};t.createTextNode=function(a){return this.j.createTextNode(a)};function ic(a){return Zb(a.j)}
function jc(a){var b=a.j,a=!H&&Zb(b)?b.documentElement:b.body,b=b.parentWindow||b.defaultView;return new J(b.pageXOffset||a.scrollLeft,b.pageYOffset||a.scrollTop)}t.appendChild=function(a,b){a.appendChild(b)};t.append=ec;t.contains=gc;var kc,lc=!F||Db(),mc=F&&!I("8");function nc(){}nc.prototype.zh=!1;nc.prototype.G=function(){if(!this.zh)this.zh=!0,this.g()};nc.prototype.g=function(){this.ik&&oc.apply(q,this.ik)};function pc(a){a&&typeof a.G=="function"&&a.G()}function oc(a){for(var b=0,c=arguments.length;b<c;++b){var d=arguments[b];ia(d)?oc.apply(q,d):pc(d)}};function N(a,b){this.type=a;this.currentTarget=this.target=b}A(N,nc);t=N.prototype;t.g=function(){delete this.type;delete this.target;delete this.currentTarget};t.Pb=!1;t.gd=!0;t.stopPropagation=function(){this.Pb=!0};t.preventDefault=function(){this.gd=!1};function qc(a){a.preventDefault()};function rc(a){rc[" "](a);return a}rc[" "]=ga;function sc(a,b){a&&this.Ia(a,b)}A(sc,N);var tc=[1,4,2];t=sc.prototype;t.target=q;t.relatedTarget=q;t.offsetX=0;t.offsetY=0;t.clientX=0;t.clientY=0;t.screenX=0;t.screenY=0;t.button=0;t.keyCode=0;t.charCode=0;t.ctrlKey=!1;t.altKey=!1;t.shiftKey=!1;t.metaKey=!1;t.Tl=!1;t.R=q;
t.Ia=function(a,b){var c=this.type=a.type;N.call(this,c);this.target=a.target||a.srcElement;this.currentTarget=b;var d=a.relatedTarget;if(d){if(G){var e;a:{try{rc(d.nodeName);e=!0;break a}catch(f){}e=!1}e||(d=q)}}else if(c=="mouseover")d=a.fromElement;else if(c=="mouseout")d=a.toElement;this.relatedTarget=d;this.offsetX=a.offsetX!==j?a.offsetX:a.layerX;this.offsetY=a.offsetY!==j?a.offsetY:a.layerY;this.clientX=a.clientX!==j?a.clientX:a.pageX;this.clientY=a.clientY!==j?a.clientY:a.pageY;this.screenX=
a.screenX||0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||(c=="keypress"?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.Tl=ib?a.metaKey:a.ctrlKey;this.state=a.state;this.R=a;delete this.gd;delete this.Pb};t.stopPropagation=function(){sc.f.stopPropagation.call(this);this.R.stopPropagation?this.R.stopPropagation():this.R.cancelBubble=!0};
t.preventDefault=function(){sc.f.preventDefault.call(this);var a=this.R;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,mc)try{if(a.ctrlKey||a.keyCode>=112&&a.keyCode<=123)a.keyCode=-1}catch(b){}};t.Ak=s("R");t.g=function(){sc.f.g.call(this);this.relatedTarget=this.currentTarget=this.target=this.R=q};function uc(){}var vc=0;t=uc.prototype;t.key=0;t.Sb=!1;t.Ye=!1;t.Ia=function(a,b,c,d,e,f){ka(a)?this.ji=!0:a&&a.handleEvent&&ka(a.handleEvent)?this.ji=!1:g(Error("Invalid listener argument"));this.Va=a;this.proxy=b;this.src=c;this.type=d;this.capture=!!e;this.Td=f;this.Ye=!1;this.key=++vc;this.Sb=!1};t.handleEvent=function(a){return this.ji?this.Va.call(this.Td||this.src,a):this.Va.handleEvent.call(this.Va,a)};function wc(a,b){this.wi=b;this.Bb=[];a>this.wi&&g(Error("[goog.structs.SimplePool] Initial cannot be greater than max"));for(var c=0;c<a;c++)this.Bb.push(this.Sa?this.Sa():{})}A(wc,nc);wc.prototype.Sa=q;wc.prototype.yh=q;wc.prototype.getObject=function(){return this.Bb.length?this.Bb.pop():this.Sa?this.Sa():{}};function xc(a,b){a.Bb.length<a.wi?a.Bb.push(b):yc(a,b)}function yc(a,b){if(a.yh)a.yh(b);else if(la(b))if(ka(b.G))b.G();else for(var c in b)delete b[c]}
wc.prototype.g=function(){wc.f.g.call(this);for(var a=this.Bb;a.length;)yc(this,a.pop());delete this.Bb};var zc,Ac=(zc="ScriptEngine"in u&&u.ScriptEngine()=="JScript")?u.ScriptEngineMajorVersion()+"."+u.ScriptEngineMinorVersion()+"."+u.ScriptEngineBuildVersion():"0";var Cc,Dc,Ec,Fc,Gc,Hc,Ic,Jc,Kc,Lc,Mc;
(function(){function a(){return{b:0,ya:0}}function b(){return[]}function c(){function a(b){b=h.call(a.src,a.key,b);if(!b)return b}return a}function d(){return new uc}function e(){return new sc}var f=zc&&!(Ka(Ac,"5.7")>=0),h;Hc=function(a){h=a};if(f){Cc=function(){return i.getObject()};Dc=function(a){xc(i,a)};Ec=function(){return k.getObject()};Fc=function(a){xc(k,a)};Gc=function(){return l.getObject()};Ic=function(){xc(l,c())};Jc=function(){return m.getObject()};Kc=function(a){xc(m,a)};Lc=function(){return n.getObject()};
Mc=function(a){xc(n,a)};var i=new wc(0,600);i.Sa=a;var k=new wc(0,600);k.Sa=b;var l=new wc(0,600);l.Sa=c;var m=new wc(0,600);m.Sa=d;var n=new wc(0,600);n.Sa=e}else Cc=a,Dc=ga,Ec=b,Fc=ga,Gc=c,Ic=ga,Jc=d,Kc=ga,Lc=e,Mc=ga})();var Nc={},Oc={},Pc={},Qc={};
function P(a,b,c,d,e){if(b)if(v(b)){for(var f=0;f<b.length;f++)P(a,b[f],c,d,e);return q}else{var d=!!d,h=Oc;b in h||(h[b]=Cc());h=h[b];d in h||(h[d]=Cc(),h.b++);var h=h[d],i=ma(a),k;h.ya++;if(h[i]){k=h[i];for(f=0;f<k.length;f++)if(h=k[f],h.Va==c&&h.Td==e){if(h.Sb)break;return k[f].key}}else k=h[i]=Ec(),h.b++;f=Gc();f.src=a;h=Jc();h.Ia(c,f,a,b,d,e);c=h.key;f.key=c;k.push(h);Nc[c]=h;Pc[i]||(Pc[i]=Ec());Pc[i].push(h);a.addEventListener?(a==u||!a.ef)&&a.addEventListener(b,f,d):a.attachEvent(b in Qc?Qc[b]:
Qc[b]="on"+b,f);return c}else g(Error("Invalid event type"))}function Rc(a,b,c,d,e){if(v(b))for(var f=0;f<b.length;f++)Rc(a,b[f],c,d,e);else a=P(a,b,c,d,e),Nc[a].Ye=!0}function Sc(a,b,c,d,e){if(v(b))for(var f=0;f<b.length;f++)Sc(a,b[f],c,d,e);else if(d=!!d,a=Tc(a,b,d))for(f=0;f<a.length;f++)if(a[f].Va==c&&a[f].capture==d&&a[f].Td==e){Uc(a[f].key);break}}
function Uc(a){if(!Nc[a])return!1;var b=Nc[a];if(b.Sb)return!1;var c=b.src,d=b.type,e=b.proxy,f=b.capture;c.removeEventListener?(c==u||!c.ef)&&c.removeEventListener(d,e,f):c.detachEvent&&c.detachEvent(d in Qc?Qc[d]:Qc[d]="on"+d,e);c=ma(c);e=Oc[d][f][c];if(Pc[c]){var h=Pc[c];Ta(h,b);h.length==0&&delete Pc[c]}b.Sb=!0;e.Bi=!0;Vc(d,f,c,e);delete Nc[a];return!0}
function Vc(a,b,c,d){if(!d.be&&d.Bi){for(var e=0,f=0;e<d.length;e++)if(d[e].Sb){var h=d[e].proxy;h.src=q;Ic(h);Kc(d[e])}else e!=f&&(d[f]=d[e]),f++;d.length=f;d.Bi=!1;f==0&&(Fc(d),delete Oc[a][b][c],Oc[a][b].b--,Oc[a][b].b==0&&(Dc(Oc[a][b]),delete Oc[a][b],Oc[a].b--),Oc[a].b==0&&(Dc(Oc[a]),delete Oc[a]))}}
function Wc(a){var b,c=0,d=b==q;b=!!b;if(a==q)Mb(Pc,function(a){for(var e=a.length-1;e>=0;e--){var f=a[e];if(d||b==f.capture)Uc(f.key),c++}});else if(a=ma(a),Pc[a])for(var a=Pc[a],e=a.length-1;e>=0;e--){var f=a[e];if(d||b==f.capture)Uc(f.key),c++}}function Tc(a,b,c){var d=Oc;return b in d&&(d=d[b],c in d&&(d=d[c],a=ma(a),d[a]))?d[a]:q}
function Xc(a,b,c,d,e){var f=1,b=ma(b);if(a[b]){a.ya--;a=a[b];a.be?a.be++:a.be=1;try{for(var h=a.length,i=0;i<h;i++){var k=a[i];k&&!k.Sb&&(f&=Yc(k,e)!==!1)}}finally{a.be--,Vc(c,d,b,a)}}return Boolean(f)}function Yc(a,b){var c=a.handleEvent(b);a.Ye&&Uc(a.key);return c}
Hc(function(a,b){if(!Nc[a])return!0;var c=Nc[a],d=c.type,e=Oc;if(!(d in e))return!0;var e=e[d],f,h;kc===j&&(kc=F&&!u.addEventListener);if(kc){f=b||fa("window.event");var i=!0 in e,k=!1 in e;if(i){if(f.keyCode<0||f.returnValue!=j)return!0;a:{var l=!1;if(f.keyCode==0)try{f.keyCode=-1;break a}catch(m){l=!0}if(l||f.returnValue==j)f.returnValue=!0}}l=Lc();l.Ia(f,this);f=!0;try{if(i){for(var n=Ec(),o=l.currentTarget;o;o=o.parentNode)n.push(o);h=e[!0];h.ya=h.b;for(var r=n.length-1;!l.Pb&&r>=0&&h.ya;r--)l.currentTarget=
n[r],f&=Xc(h,n[r],d,!0,l);if(k){h=e[!1];h.ya=h.b;for(r=0;!l.Pb&&r<n.length&&h.ya;r++)l.currentTarget=n[r],f&=Xc(h,n[r],d,!1,l)}}else f=Yc(c,l)}finally{if(n)n.length=0,Fc(n);l.G();Mc(l)}return f}d=new sc(b,this);try{f=Yc(c,d)}finally{d.G()}return f});function Zc(a){this.j=a}var $c=/\s*;\s*/;t=Zc.prototype;t.set=function(a,b,c,d,e,f){/[;=\s]/.test(a)&&g(Error('Invalid cookie name "'+a+'"'));/[;\r\n]/.test(b)&&g(Error('Invalid cookie value "'+b+'"'));ea(c)||(c=-1);e=e?";domain="+e:"";d=d?";path="+d:"";f=f?";secure":"";c=c<0?"":c==0?";expires="+(new Date(1970,1,1)).toUTCString():";expires="+(new Date(z()+c*1E3)).toUTCString();this.j.cookie=a+"="+b+e+d+c+f};
t.get=function(a,b){for(var c=a+"=",d=(this.j.cookie||"").split($c),e=0,f;f=d[e];e++)if(f.indexOf(c)==0)return f.substr(c.length);return b};t.remove=function(a,b,c){var d=this.la(a);this.set(a,"",0,b,c);return d};t.Fa=function(){return ad(this).keys};t.C=function(){return ad(this).rb};t.la=function(a){return ea(this.get(a))};t.clear=function(){for(var a=ad(this).keys,b=a.length-1;b>=0;b--)this.remove(a[b])};
function ad(a){for(var a=(a.j.cookie||"").split($c),b=[],c=[],d,e,f=0;e=a[f];f++)d=e.indexOf("="),d==-1?(b.push(""),c.push(e)):(b.push(e.substring(0,d)),c.push(e.substring(d+1)));return{keys:b,rb:c}}var bd=new Zc(document);bd.Im=3950;function cd(a,b,c,d){this.top=a;this.right=b;this.bottom=c;this.left=d}cd.prototype.clone=function(){return new cd(this.top,this.right,this.bottom,this.left)};cd.prototype.toString=function(){return"("+this.top+"t, "+this.right+"r, "+this.bottom+"b, "+this.left+"l)"};cd.prototype.contains=function(a){return!this||!a?!1:a instanceof cd?a.left>=this.left&&a.right<=this.right&&a.top>=this.top&&a.bottom<=this.bottom:a.x>=this.left&&a.x<=this.right&&a.y>=this.top&&a.y<=this.bottom};function dd(a,b,c,d){this.left=a;this.top=b;this.width=c;this.height=d}dd.prototype.clone=function(){return new dd(this.left,this.top,this.width,this.height)};dd.prototype.toString=function(){return"("+this.left+", "+this.top+" - "+this.width+"w x "+this.height+"h)"};
dd.prototype.gi=function(a){var b=Math.max(this.left,a.left),c=Math.min(this.left+this.width,a.left+a.width);if(b<=c){var d=Math.max(this.top,a.top),a=Math.min(this.top+this.height,a.top+a.height);if(d<=a)return this.left=b,this.top=d,this.width=c-b,this.height=a-d,!0}return!1};
dd.prototype.contains=function(a){return a instanceof dd?this.left<=a.left&&this.left+this.width>=a.left+a.width&&this.top<=a.top&&this.top+this.height>=a.top+a.height:a.x>=this.left&&a.x<=this.left+this.width&&a.y>=this.top&&a.y<=this.top+this.height};function Q(a,b,c){w(b)?ed(a,c,b):Mb(b,ta(ed,a))}function ed(a,b,c){a.style[Na(c)]=b}function fd(a,b){var c=K(a);return c.defaultView&&c.defaultView.getComputedStyle&&(c=c.defaultView.getComputedStyle(a,q))?c[b]||c.getPropertyValue(b):""}function gd(a,b){return a.currentStyle?a.currentStyle[b]:q}function hd(a,b){return fd(a,b)||gd(a,b)||a.style[b]}function id(a,b,c){var d,e=G&&(ib||tb)&&I("1.9");b instanceof J?(d=b.x,b=b.y):(d=b,b=c);a.style.left=jd(d,e);a.style.top=jd(b,e)}
function kd(a){a=a?a.nodeType==9?a:K(a):document;return F&&!Db()&&!ic(Ub(a))?a.body:a.documentElement}function ld(a){var b=a.getBoundingClientRect();if(F)a=a.ownerDocument,b.left-=a.documentElement.clientLeft+a.body.clientLeft,b.top-=a.documentElement.clientTop+a.body.clientTop;return b}
function md(a){if(F)return a.offsetParent;for(var b=K(a),c=hd(a,"position"),d=c=="fixed"||c=="absolute",a=a.parentNode;a&&a!=b;a=a.parentNode)if(c=hd(a,"position"),d=d&&c=="static"&&a!=b.documentElement&&a!=b.body,!d&&(a.scrollWidth>a.clientWidth||a.scrollHeight>a.clientHeight||c=="fixed"||c=="absolute"||c=="relative"))return a;return q}
function nd(a){for(var b=new cd(0,Infinity,Infinity,0),c=Ub(a),d=c.j.body,e=c.j.documentElement,f=!H&&Zb(c.j)?c.j.documentElement:c.j.body;a=md(a);)if((!F||a.clientWidth!=0)&&(!H||a.clientHeight!=0||a!=d)&&a!=d&&a!=e&&hd(a,"overflow")!="visible"){var h=od(a),i;i=a;if(G&&!I("1.9")){var k=parseFloat(fd(i,"borderLeftWidth"));if(pd(i)){var l=i.offsetWidth-i.clientWidth-k-parseFloat(fd(i,"borderRightWidth"));k+=l}i=new J(k,parseFloat(fd(i,"borderTopWidth")))}else i=new J(i.clientLeft,i.clientTop);h.x+=
i.x;h.y+=i.y;b.top=Math.max(b.top,h.y);b.right=Math.min(b.right,h.x+a.clientWidth);b.bottom=Math.min(b.bottom,h.y+a.clientHeight);b.left=Math.max(b.left,h.x)}d=f.scrollLeft;f=f.scrollTop;b.left=Math.max(b.left,d);b.top=Math.max(b.top,f);c=c.j.parentWindow||c.j.defaultView||window;e=c.document;H&&!I("500")&&!qb?(typeof c.innerHeight=="undefined"&&(c=window),e=c.innerHeight,a=c.document.documentElement.scrollHeight,c==c.top&&a<e&&(e-=15),c=new Lb(c.innerWidth,e)):(c=Zb(e)?e.documentElement:e.body,c=
new Lb(c.clientWidth,c.clientHeight));b.right=Math.min(b.right,d+c.width);b.bottom=Math.min(b.bottom,f+c.height);return b.top>=0&&b.left>=0&&b.bottom>b.top&&b.right>b.left?b:q}
function od(a){var b,c=K(a),d=hd(a,"position"),e=G&&c.getBoxObjectFor&&!a.getBoundingClientRect&&d=="absolute"&&(b=c.getBoxObjectFor(a))&&(b.screenX<0||b.screenY<0),f=new J(0,0),h=kd(c);if(a==h)return f;if(a.getBoundingClientRect)b=ld(a),a=jc(Ub(c)),f.x=b.left+a.x,f.y=b.top+a.y;else if(c.getBoxObjectFor&&!e)b=c.getBoxObjectFor(a),a=c.getBoxObjectFor(h),f.x=b.screenX-a.screenX,f.y=b.screenY-a.screenY;else{b=a;do{f.x+=b.offsetLeft;f.y+=b.offsetTop;b!=a&&(f.x+=b.clientLeft||0,f.y+=b.clientTop||0);if(H&&
hd(b,"position")=="fixed"){f.x+=c.body.scrollLeft;f.y+=c.body.scrollTop;break}b=b.offsetParent}while(b&&b!=a);if(pb||H&&d=="absolute")f.y-=c.body.offsetTop;for(b=a;(b=md(b))&&b!=c.body&&b!=h;)if(f.x-=b.scrollLeft,!pb||b.tagName!="TR")f.y-=b.scrollTop}return f}
function qd(a){var b=new J;if(a.nodeType==1)if(a.getBoundingClientRect)a=ld(a),b.x=a.left,b.y=a.top;else{var c=jc(Ub(a)),a=od(a);b.x=a.x-c.x;b.y=a.y-c.y}else{var c=ka(a.Ak),d=a;a.targetTouches?d=a.targetTouches[0]:c&&a.R.targetTouches&&(d=a.R.targetTouches[0]);b.x=d.clientX;b.y=d.clientY}return b}function rd(a,b,c){b instanceof Lb?(c=b.height,b=b.width):c==j&&g(Error("missing height argument"));a.style.width=jd(b,!0);a.style.height=jd(c,!0)}
function jd(a,b){typeof a=="number"&&(a=(b?Math.round(a):a)+"px");return a}function sd(a){if(hd(a,"display")!="none")return td(a);var b=a.style,c=b.display,d=b.visibility,e=b.position;b.visibility="hidden";b.position="absolute";b.display="inline";a=td(a);b.display=c;b.position=e;b.visibility=d;return a}function td(a){var b=a.offsetWidth,c=a.offsetHeight,d=H&&!b&&!c;return(!ea(b)||d)&&a.getBoundingClientRect?(a=ld(a),new Lb(a.right-a.left,a.bottom-a.top)):new Lb(b,c)}
function ud(a,b){var c=a.style;if("opacity"in c)c.opacity=b;else if("MozOpacity"in c)c.MozOpacity=b;else if("filter"in c)c.filter=b===""?"":"alpha(opacity="+b*100+")"}function R(a,b){a.style.display=b?"":"none"}function pd(a){return"rtl"==hd(a,"direction")}function vd(a,b){if(/^\d+px?$/.test(b))return parseInt(b,10);else{var c=a.style.left,d=a.runtimeStyle.left;a.runtimeStyle.left=a.currentStyle.left;a.style.left=b;var e=a.style.pixelLeft;a.style.left=c;a.runtimeStyle.left=d;return e}}
var wd={thin:2,medium:4,thick:6};function xd(a,b){if(gd(a,b+"Style")=="none")return 0;var c=gd(a,b+"Width");return c in wd?wd[c]:vd(a,c)};function yd(a){if(typeof a.C=="function")return a.C();if(w(a))return a.split("");if(ia(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return Ob(a)}function zd(a){if(typeof a.Fa=="function")return a.Fa();if(typeof a.C!="function"){if(ia(a)||w(a)){for(var b=[],a=a.length,c=0;c<a;c++)b.push(c);return b}return Pb(a)}}
function Ad(a,b,c){if(typeof a.forEach=="function")a.forEach(b,c);else if(ia(a)||w(a))D(a,b,c);else for(var d=zd(a),e=yd(a),f=e.length,h=0;h<f;h++)b.call(c,e[h],d&&d[h],a)};function Bd(a,b){this.T={};this.D=[];var c=arguments.length;if(c>1){c%2&&g(Error("Uneven number of arguments"));for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else a&&this.xd(a)}t=Bd.prototype;t.b=0;t.sd=0;t.C=function(){Cd(this);for(var a=[],b=0;b<this.D.length;b++)a.push(this.T[this.D[b]]);return a};t.Fa=function(){Cd(this);return this.D.concat()};t.la=function(a){return Dd(this.T,a)};t.clear=function(){this.T={};this.sd=this.b=this.D.length=0};
t.remove=function(a){return Dd(this.T,a)?(delete this.T[a],this.b--,this.sd++,this.D.length>2*this.b&&Cd(this),!0):!1};function Cd(a){if(a.b!=a.D.length){for(var b=0,c=0;b<a.D.length;){var d=a.D[b];Dd(a.T,d)&&(a.D[c++]=d);b++}a.D.length=c}if(a.b!=a.D.length){for(var e={},c=b=0;b<a.D.length;)d=a.D[b],Dd(e,d)||(a.D[c++]=d,e[d]=1),b++;a.D.length=c}}t.get=function(a,b){return Dd(this.T,a)?this.T[a]:b};t.set=function(a,b){Dd(this.T,a)||(this.b++,this.D.push(a),this.sd++);this.T[a]=b};
t.xd=function(a){var b;a instanceof Bd?(b=a.Fa(),a=a.C()):(b=Pb(a),a=Ob(a));for(var c=0;c<b.length;c++)this.set(b[c],a[c])};t.clone=function(){return new Bd(this)};function Dd(a,b){return Object.prototype.hasOwnProperty.call(a,b)};var Ed=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([\\w\\d\\-\\u0100-\\uffff.%]*)(?::([0-9]+))?)?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$");function Fd(a,b){var c;a instanceof Fd?(this.zc(b==q?a.Ha:b),Gd(this,a.$a),Hd(this,a.rd),Id(this,a.eb),Jd(this,a.vc),this.ja(a.Oc()),Kd(this,a.ia.clone()),Ld(this,a.Nc)):a&&(c=String(a).match(Ed))?(this.zc(!!b),Gd(this,c[1]||"",!0),Hd(this,c[2]||"",!0),Id(this,c[3]||"",!0),Jd(this,c[4]),this.ja(c[5]||"",!0),this.setQuery(c[6]||"",!0),Ld(this,c[7]||"",!0)):(this.zc(!!b),this.ia=new Md(q,this,this.Ha))}t=Fd.prototype;t.$a="";t.rd="";t.eb="";t.vc=q;t.n="";t.Nc="";t.Wk=!1;t.Ha=!1;
t.toString=function(){if(this.ka)return this.ka;var a=[];this.$a&&a.push(Nd(this.$a,Od),":");this.eb&&(a.push("//"),this.rd&&a.push(Nd(this.rd,Od),"@"),a.push(w(this.eb)?encodeURIComponent(this.eb):q),this.vc!=q&&a.push(":",String(this.vc)));this.n&&(this.eb&&this.n.charAt(0)!="/"&&a.push("/"),a.push(Nd(this.n,this.n.charAt(0)=="/"?Pd:Qd)));var b=String(this.ia);b&&a.push("?",b);this.Nc&&a.push("#",Nd(this.Nc,Rd));return this.ka=a.join("")};
t.clone=function(){var a=this.$a,b=this.rd,c=this.eb,d=this.vc,e=this.n,f=this.ia.clone(),h=this.Nc,i=new Fd(q,this.Ha);a&&Gd(i,a);b&&Hd(i,b);c&&Id(i,c);d&&Jd(i,d);e&&i.ja(e);f&&Kd(i,f);h&&Ld(i,h);return i};function Gd(a,b,c){Sd(a);delete a.ka;a.$a=c?b?decodeURIComponent(b):"":b;if(a.$a)a.$a=a.$a.replace(/:$/,"")}function Hd(a,b,c){Sd(a);delete a.ka;a.rd=c?b?decodeURIComponent(b):"":b}function Id(a,b,c){Sd(a);delete a.ka;a.eb=c?b?decodeURIComponent(b):"":b}
function Jd(a,b){Sd(a);delete a.ka;b?(b=Number(b),(isNaN(b)||b<0)&&g(Error("Bad port number "+b)),a.vc=b):a.vc=q}t.Oc=s("n");t.ja=function(a,b){Sd(this);delete this.ka;this.n=b?a?decodeURIComponent(a):"":a;return this};function Kd(a,b,c){Sd(a);delete a.ka;b instanceof Md?(a.ia=b,a.ia.qd=a,a.ia.zc(a.Ha)):(c||(b=Nd(b,Td)),a.ia=new Md(b,a,a.Ha));return a}t.setQuery=function(a,b){return Kd(this,a,b)};function Ud(a,b,c){Sd(a);delete a.ka;a.ia.set(b,c)}
function Vd(a,b,c){Sd(a);delete a.ka;v(c)||(c=[String(c)]);a.ia.ye(b,c)}function Ld(a,b,c){Sd(a);delete a.ka;a.Nc=c?b?decodeURIComponent(b):"":b}function Sd(a){a.Wk&&g(Error("Tried to modify a read-only Uri"))}t.zc=function(a){this.Ha=a;this.ia&&this.ia.zc(a);return this};function Wd(a){return a instanceof Fd?a.clone():new Fd(a,j)}var Xd=/^[a-zA-Z0-9\-_.!~*'():\/;?]*$/;function Nd(a,b){var c=q;w(a)&&(c=a,Xd.test(c)||(c=encodeURI(a)),c.search(b)>=0&&(c=c.replace(b,Yd)));return c}
function Yd(a){a=a.charCodeAt(0);return"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var Od=/[#\/\?@]/g,Qd=/[\#\?:]/g,Pd=/[\#\?]/g,Td=/[\#\?@]/g,Rd=/#/g;function Md(a,b,c){this.Ua=a||q;this.qd=b||q;this.Ha=!!c}function Zd(a){if(!a.p&&(a.p=new Bd,a.b=0,a.Ua))for(var b=a.Ua.split("&"),c=0;c<b.length;c++){var d=b[c].indexOf("="),e=q,f=q;d>=0?(e=b[c].substring(0,d),f=b[c].substring(d+1)):e=b[c];e=Ca(e);e=$d(a,e);a.add(e,f?Ca(f):"")}}t=Md.prototype;t.p=q;t.b=q;
t.add=function(a,b){Zd(this);ae(this);a=$d(this,a);if(this.la(a)){var c=this.p.get(a);v(c)?c.push(b):this.p.set(a,[c,b])}else this.p.set(a,b);this.b++;return this};t.remove=function(a){Zd(this);a=$d(this,a);if(this.p.la(a)){ae(this);var b=this.p.get(a);v(b)?this.b-=b.length:this.b--;return this.p.remove(a)}return!1};t.clear=function(){ae(this);this.p&&this.p.clear();this.b=0};t.la=function(a){Zd(this);a=$d(this,a);return this.p.la(a)};
t.Fa=function(){Zd(this);for(var a=this.p.C(),b=this.p.Fa(),c=[],d=0;d<b.length;d++){var e=a[d];if(v(e))for(var f=0;f<e.length;f++)c.push(b[d]);else c.push(b[d])}return c};t.C=function(a){Zd(this);if(a)if(a=$d(this,a),this.la(a)){var b=this.p.get(a);if(v(b))return b;else a=[],a.push(b)}else a=[];else for(var b=this.p.C(),a=[],c=0;c<b.length;c++){var d=b[c];v(d)?Wa(a,d):a.push(d)}return a};
t.set=function(a,b){Zd(this);ae(this);a=$d(this,a);if(this.la(a)){var c=this.p.get(a);v(c)?this.b-=c.length:this.b--}this.p.set(a,b);this.b++;return this};t.get=function(a,b){Zd(this);a=$d(this,a);if(this.la(a)){var c=this.p.get(a);return v(c)?c[0]:c}else return b};t.ye=function(a,b){Zd(this);ae(this);a=$d(this,a);if(this.la(a)){var c=this.p.get(a);v(c)?this.b-=c.length:this.b--}b.length>0&&(this.p.set(a,b),this.b+=b.length)};
t.toString=function(){if(this.Ua)return this.Ua;if(!this.p)return"";for(var a=[],b=0,c=this.p.Fa(),d=0;d<c.length;d++){var e=c[d],f=za(e),e=this.p.get(e);if(v(e))for(var h=0;h<e.length;h++)b>0&&a.push("&"),a.push(f),e[h]!==""&&a.push("=",za(e[h])),b++;else b>0&&a.push("&"),a.push(f),e!==""&&a.push("=",za(e)),b++}return this.Ua=a.join("")};function ae(a){delete a.jf;delete a.Ua;a.qd&&delete a.qd.ka}
t.clone=function(){var a=new Md;if(this.jf)a.jf=this.jf;if(this.Ua)a.Ua=this.Ua;if(this.p)a.p=this.p.clone();return a};function $d(a,b){var c=String(b);a.Ha&&(c=c.toLowerCase());return c}t.zc=function(a){a&&!this.Ha&&(Zd(this),ae(this),Ad(this.p,function(a,c){var d=c.toLowerCase();c!=d&&(this.remove(c),this.add(d,a))},this));this.Ha=a};function S(){}A(S,nc);t=S.prototype;t.ef=!0;t.qe=q;t.rg=ba("qe");t.addEventListener=function(a,b,c,d){P(this,a,b,c,d)};t.removeEventListener=function(a,b,c,d){Sc(this,a,b,c,d)};
t.dispatchEvent=function(a){var b=a.type||a,c=Oc;if(b in c){if(w(a))a=new N(a,this);else if(a instanceof N)a.target=a.target||this;else{var d=a,a=new N(b,this);Tb(a,d)}var d=1,e,c=c[b],b=!0 in c,f;if(b){e=[];for(f=this;f;f=f.qe)e.push(f);f=c[!0];f.ya=f.b;for(var h=e.length-1;!a.Pb&&h>=0&&f.ya;h--)a.currentTarget=e[h],d&=Xc(f,e[h],a.type,!0,a)&&a.gd!=!1}if(!1 in c)if(f=c[!1],f.ya=f.b,b)for(h=0;!a.Pb&&h<e.length&&f.ya;h++)a.currentTarget=e[h],d&=Xc(f,e[h],a.type,!1,a)&&a.gd!=!1;else for(e=this;!a.Pb&&
e&&f.ya;e=e.qe)a.currentTarget=e,d&=Xc(f,e,a.type,!1,a)&&a.gd!=!1;a=Boolean(d)}else a=!0;return a};t.g=function(){S.f.g.call(this);Wc(this);this.qe=q};function be(a,b){this.qd=new Fd(a);this.Yj=b?b:"callback";this.Zb=5E3}var ce=0;
be.prototype.send=function(a,b,c,d){a=a||q;if(!document.documentElement.firstChild)return c&&c(a),q;d=d||"_"+(ce++).toString(36)+z().toString(36);u._callbacks_||(u._callbacks_={});var e=document.createElement("script"),f=q;this.Zb>0&&(f=u.setTimeout(de(d,e,a,c),this.Zb));c=this.qd.clone();if(a)for(var h in a)(!a.hasOwnProperty||a.hasOwnProperty(h))&&Vd(c,h,a[h]);b&&(u._callbacks_[d]=ee(d,e,b,f),Vd(c,this.Yj,"_callbacks_."+d));$b(e,{type:"text/javascript",id:d,charset:"UTF-8",src:c.toString()});document.getElementsByTagName("head")[0].appendChild(e);
return{Fb:d,Zb:f}};be.prototype.cancel=function(a){if(a&&a.Fb){var b=L(a.Fb);b&&b.tagName=="SCRIPT"&&typeof u._callbacks_[a.Fb]=="function"&&(a.Zb&&u.clearTimeout(a.Zb),fe(a.Fb,b,!1))}};function de(a,b,c,d){return function(){fe(a,b,!1);d&&d(c)}}function ee(a,b,c,d){return function(e){u.clearTimeout(d);fe(a,b,!0);c.apply(j,arguments)}}function fe(a,b,c){u.setTimeout(function(){fc(b)},0);u._callbacks_[a]&&(c?delete u._callbacks_[a]:u._callbacks_[a]=ga)};function ge(a){this.Zj=a||"jsonp";this.mg=this.Kc=this.Ib=q}A(ge,S);t=ge.prototype;t.ii=function(){return!!this.Ib};t.abort=function(){this.Ib&&this.mg&&this.Ib.cancel(this.mg)};t.send=function(a){this.Ib&&delete this.Ib;this.Kc=q;this.Ib=new be(a,this.Zj);this.mg=this.Ib.send({},y(this.rl,this),y(this.wl,this))};t.rl=function(a){this.Kc=a;this.dispatchEvent(he)};t.wl=function(){this.dispatchEvent(ie)};t.Mh=function(){return 0};t.Nh=s("Kc");t.Oh=function(){return q};function je(a,b){this.Uc=a||1;this.md=b||ke;this.Xe=y(this.vm,this);this.Mf=z()}A(je,S);je.prototype.enabled=!1;var ke=u.window;t=je.prototype;t.u=q;t.setInterval=function(a){this.Uc=a;this.u&&this.enabled?(this.stop(),this.start()):this.u&&this.stop()};t.vm=function(){if(this.enabled){var a=z()-this.Mf;if(a>0&&a<this.Uc*0.8)this.u=this.md.setTimeout(this.Xe,this.Uc-a);else if(this.dispatchEvent(le),this.enabled)this.u=this.md.setTimeout(this.Xe,this.Uc),this.Mf=z()}};
t.start=function(){this.enabled=!0;if(!this.u)this.u=this.md.setTimeout(this.Xe,this.Uc),this.Mf=z()};t.stop=function(){this.enabled=!1;if(this.u)this.md.clearTimeout(this.u),this.u=q};t.g=function(){je.f.g.call(this);this.stop();delete this.md};var le="tick";function me(a,b,c){ka(a)?c&&(a=y(a,c)):a&&typeof a.handleEvent=="function"?a=y(a.handleEvent,a):g(Error("Invalid listener argument"));return b>2147483647?-1:ke.setTimeout(a,b||0)};function ne(a){this.T=new Bd;a&&this.xd(a)}function oe(a){var b=typeof a;return b=="object"&&a||b=="function"?"o"+ma(a):b.substr(0,1)+a}t=ne.prototype;t.add=function(a){this.T.set(oe(a),a)};t.xd=function(a){for(var a=yd(a),b=a.length,c=0;c<b;c++)this.add(a[c])};t.removeAll=function(a){for(var a=yd(a),b=a.length,c=0;c<b;c++)this.remove(a[c])};t.remove=function(a){return this.T.remove(oe(a))};t.clear=function(){this.T.clear()};t.contains=function(a){return this.T.la(oe(a))};
t.gi=function(a){for(var b=new ne,a=yd(a),c=0;c<a.length;c++){var d=a[c];this.contains(d)&&b.add(d)}return b};t.C=function(){return this.T.C()};t.clone=function(){return new ne(this)};function pe(a){return qe(a||arguments.callee.caller,[])}
function qe(a,b){var c=[];if(Ra(b,a)>=0)c.push("[...circular reference...]");else if(a&&b.length<50){c.push(re(a)+"(");for(var d=a.arguments,e=0;e<d.length;e++){e>0&&c.push(", ");var f;f=d[e];switch(typeof f){case "object":f=f?"object":"null";break;case "string":break;case "number":f=String(f);break;case "boolean":f=f?"true":"false";break;case "function":f=(f=re(f))?f:"[fn]";break;default:f=typeof f}f.length>40&&(f=f.substr(0,40)+"...");c.push(f)}b.push(a);c.push(")\n");try{c.push(qe(a.caller,b))}catch(h){c.push("[exception trying to get caller]\n")}}else a?
c.push("[...long stack...]"):c.push("[end]");return c.join("")}function re(a){if(se[a])return se[a];a=String(a);if(!se[a]){var b=/function ([^\(]+)/.exec(a);se[a]=b?b[1]:"[Anonymous]"}return se[a]}var se={};function te(a,b,c,d,e){this.reset(a,b,c,d,e)}te.prototype.im=0;te.prototype.Gh=q;te.prototype.Fh=q;var ue=0;te.prototype.reset=function(a,b,c,d,e){this.im=typeof e=="number"?e:ue++;this.ln=d||z();this.Yc=a;this.jl=b;this.an=c;delete this.Gh;delete this.Fh};te.prototype.Xi=ba("Yc");te.prototype.getMessage=s("jl");function ve(a){this.kl=a}ve.prototype.na=q;ve.prototype.Yc=q;ve.prototype.$=q;ve.prototype.Zh=q;function we(a,b){this.name=a;this.value=b}we.prototype.toString=s("name");var xe=new we("SEVERE",1E3),ye=new we("WARNING",900),ze=new we("INFO",800),Ae=new we("CONFIG",700),Be=new we("FINE",500),Ce=new we("FINEST",300);t=ve.prototype;t.getParent=s("na");t.Xi=ba("Yc");function De(a){if(a.Yc)return a.Yc;if(a.na)return De(a.na);Pa("Root logger has no level set.");return q}
t.log=function(a,b,c){if(a.value>=De(this).value){a=this.Ck(a,b,c);b="log:"+a.getMessage();u.console&&(u.console.timeStamp?u.console.timeStamp(b):u.console.markTimeline&&u.console.markTimeline(b));u.msWriteProfilerMark&&u.msWriteProfilerMark(b);for(b=this;b;){var c=b,d=a;if(c.Zh)for(var e=0,f=j;f=c.Zh[e];e++)f(d);b=b.getParent()}}};
t.Ck=function(a,b,c){var d=new te(a,String(b),this.kl);if(c){d.Gh=c;var e;var f=arguments.callee.caller;try{var h;var i=fa("window.location.href");if(w(c))h={message:c,name:"Unknown error",lineNumber:"Not available",fileName:i,stack:"Not available"};else{var k,l,m=!1;try{k=c.lineNumber||c.qi||"Not available"}catch(n){k="Not available",m=!0}try{l=c.fileName||c.filename||c.sourceURL||i}catch(o){l="Not available",m=!0}h=m||!c.lineNumber||!c.fileName||!c.stack?{message:c.message,name:c.name,lineNumber:k,
fileName:l,stack:c.stack||"Not available"}:c}e="Message: "+Da(h.message)+'\nUrl: <a href="view-source:'+h.fileName+'" target="_new">'+h.fileName+"</a>\nLine: "+h.lineNumber+"\n\nBrowser stack:\n"+Da(h.stack+"-> ")+"[end]\n\nJS stack traversal:\n"+Da(pe(f)+"-> ")}catch(r){e="Exception trying to expose exception! You win, we lose. "+r}d.Fh=e}return d};function Ee(a,b){a.log(ye,b,j)}t.info=function(a,b){this.log(ze,a,b)};t.t=function(a,b){this.log(Ae,a,b)};function Fe(a,b){a.log(Be,b,j)}
var Ge={},He=q;function T(a){He||(He=new ve(""),Ge[""]=He,He.Xi(Ae));var b;if(!(b=Ge[a])){b=new ve(a);var c=a.lastIndexOf("."),d=a.substr(c+1),c=T(a.substr(0,c));if(!c.$)c.$={};c.$[d]=b;b.na=c;Ge[a]=b}return b};function Ie(a){a=String(a);if(/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x10-\x1f\x80-\x9f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(b){}g(Error("Invalid JSON string: "+a))};var he="success",ie="error";function Je(){}Je.prototype.kh=q;function Ke(a){var b;if(!(b=a.kh))b={},Le(a)&&(b[0]=!0,b[1]=!0),b=a.kh=b;return b};var Me;function Ne(){}A(Ne,Je);function Oe(a){return(a=Le(a))?new ActiveXObject(a):new XMLHttpRequest}Ne.prototype.Bf=q;
function Le(a){if(!a.Bf&&typeof XMLHttpRequest=="undefined"&&typeof ActiveXObject!="undefined"){for(var b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<b.length;c++){var d=b[c];try{return new ActiveXObject(d),a.Bf=d}catch(e){}}g(Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed"))}return a.Bf}Me=new Ne;function Pe(){if(G)this.ub={},this.Qe={},this.Ce=[]}Pe.prototype.c=T("goog.net.xhrMonitor");Pe.prototype.V=G;Pe.prototype.Vb=function(a){this.V=G&&a};function Qe(a){var b=Re;if(b.V){var c=w(a)?a:la(a)?ma(a):"";b.c.log(Ce,"Pushing context: "+a+" ("+c+")",j);b.Ce.push(c)}}function Se(){var a=Re;if(a.V){var b=a.Ce.pop();a.c.log(Ce,"Popping context: "+b,j);Te(a,b)}}
function Ue(a){var b=Re;if(b.V){a=ma(a);Fe(b.c,"Opening XHR : "+a);for(var c=0;c<b.Ce.length;c++){var d=b.Ce[c];Ve(b.ub,d,a);Ve(b.Qe,a,d)}}}function Te(a,b){var c=a.Qe[b],d=a.ub[b];c&&d&&(a.c.log(Ce,"Updating dependent contexts",j),D(c,function(a){D(d,function(b){Ve(this.ub,a,b);Ve(this.Qe,b,a)},this)},a))}function Ve(a,b,c){a[b]||(a[b]=[]);Ra(a[b],c)>=0||a[b].push(c)}var Re=new Pe;function We(a){this.headers=new Bd;this.Re=a||q}A(We,S);We.prototype.c=T("goog.net.XhrIo");var Xe=/^https?:?$/i,Ye=[];function Ze(a){a.G();Ta(Ye,a)}t=We.prototype;t.ab=!1;t.i=q;t.Pe=q;t.Jb="";t.ni="";t.qc=0;t.Wc="";t.qf=!1;t.Xd=!1;t.Cf=!1;t.Gb=!1;t.Ie=0;t.Yb=q;t.Ti="";t.Em=!1;
t.send=function(a,b,c,d){this.i&&g(Error("[goog.net.XhrIo] Object is active with another request"));b=b?b.toUpperCase():"GET";this.Jb=a;this.Wc="";this.qc=0;this.ni=b;this.qf=!1;this.ab=!0;this.i=this.Re?Oe(this.Re):Oe(Me);this.Pe=this.Re?Ke(this.Re):Ke(Me);Ue(this.i);this.i.onreadystatechange=y(this.Mi,this);try{Fe(this.c,$e(this,"Opening Xhr")),this.Cf=!0,this.i.open(b,a,!0),this.Cf=!1}catch(e){Fe(this.c,$e(this,"Error opening Xhr: "+e.message));af(this,e);return}var a=c||"",f=this.headers.clone();
d&&Ad(d,function(a,b){f.set(b,a)});b=="POST"&&!f.la("Content-Type")&&f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");Ad(f,function(a,b){this.i.setRequestHeader(b,a)},this);if(this.Ti)this.i.responseType=this.Ti;if("withCredentials"in this.i)this.i.withCredentials=this.Em;try{if(this.Yb)ke.clearTimeout(this.Yb),this.Yb=q;if(this.Ie>0)Fe(this.c,$e(this,"Will abort after "+this.Ie+"ms if incomplete")),this.Yb=ke.setTimeout(y(this.Zb,this),this.Ie);Fe(this.c,$e(this,"Sending request"));
this.Xd=!0;this.i.send(a);this.Xd=!1}catch(h){Fe(this.c,$e(this,"Send error: "+h.message)),af(this,h)}};t.dispatchEvent=function(a){if(this.i){Qe(this.i);try{return We.f.dispatchEvent.call(this,a)}finally{Se()}}else return We.f.dispatchEvent.call(this,a)};t.Zb=function(){if(typeof ca!="undefined"&&this.i)this.Wc="Timed out after "+this.Ie+"ms, aborting",this.qc=8,Fe(this.c,$e(this,this.Wc)),this.dispatchEvent("timeout"),this.abort(8)};
function af(a,b){a.ab=!1;if(a.i)a.Gb=!0,a.i.abort(),a.Gb=!1;a.Wc=b;a.qc=5;bf(a);cf(a)}function bf(a){if(!a.qf)a.qf=!0,a.dispatchEvent("complete"),a.dispatchEvent(ie)}t.abort=function(a){if(this.i&&this.ab)Fe(this.c,$e(this,"Aborting")),this.ab=!1,this.Gb=!0,this.i.abort(),this.Gb=!1,this.qc=a||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),cf(this)};t.g=function(){if(this.i){if(this.ab)this.ab=!1,this.Gb=!0,this.i.abort(),this.Gb=!1;cf(this,!0)}We.f.g.call(this)};
t.Mi=function(){!this.Cf&&!this.Xd&&!this.Gb?this.El():df(this)};t.El=function(){df(this)};
function df(a){if(a.ab&&typeof ca!="undefined")if(a.Pe[1]&&ef(a)==4&&ff(a)==2)Fe(a.c,$e(a,"Local request error detected and ignored"));else if(a.Xd&&ef(a)==4)ke.setTimeout(y(a.Mi,a),0);else if(a.dispatchEvent("readystatechange"),ef(a)==4){Fe(a.c,$e(a,"Request complete"));a.ab=!1;var b;a:switch(ff(a)){case 0:b=w(a.Jb)?a.Jb.match(Ed)[1]||q:a.Jb.$a;b=!(b?Xe.test(b):self.location?Xe.test(self.location.protocol):1);break a;case 200:case 201:case 202:case 204:case 304:case 1223:b=!0;break a;default:b=!1}if(b)a.dispatchEvent("complete"),
a.dispatchEvent(he);else{a.qc=6;var c;try{c=ef(a)>2?a.i.statusText:""}catch(d){Fe(a.c,"Can not get status: "+d.message),c=""}a.Wc=c+" ["+ff(a)+"]";bf(a)}cf(a)}}
function cf(a,b){if(a.i){var c=a.i,d=a.Pe[0]?ga:q;a.i=q;a.Pe=q;if(a.Yb)ke.clearTimeout(a.Yb),a.Yb=q;b||(Qe(c),a.dispatchEvent("ready"),Se());var e=Re;if(e.V){var f=ma(c);Fe(e.c,"Closing XHR : "+f);delete e.Qe[f];for(var h in e.ub)Ta(e.ub[h],f),e.ub[h].length==0&&delete e.ub[h]}try{c.onreadystatechange=d}catch(i){a.c.log(xe,"Problem encountered resetting onreadystatechange: "+i.message,j)}}}t.ii=function(){return!!this.i};function ef(a){return a.i?a.i.readyState:0}
function ff(a){try{return ef(a)>2?a.i.status:-1}catch(b){return Ee(a.c,"Can not get status: "+b.message),-1}}t.Oh=function(){try{return this.i?this.i.responseText:""}catch(a){return Fe(this.c,"Can not get responseText: "+a.message),""}};t.Nh=function(a){if(this.i){var b=this.i.responseText;a&&b.indexOf(a)==0&&(b=b.substring(a.length));return Ie(b)}};t.Mh=s("qc");function $e(a,b){return b+" ["+a.ni+" "+a.Jb+" "+ff(a)+"]"};function U(a,b,c){this.L=a;this.uri=b;this.Bm=this.yb=this.Hh=!1;this.O=this.hh=q;this.Xj=c||!1;this.W={};this.u=q;this.k={};if(this.L.host)this.k.host=this.L.host;if(this.L.fh)this.k.apikey=this.L.fh;else if(this.L.hd)this.k.sessionid=this.L.hd}A(U,S);var hf=T("chartbeat.feeds");t=U.prototype;t.o=function(){this.O||jf(this,this.Bm?new ge:new We);this.O.ii()&&(this.O.abort(),cf(this.O));this.O.send(this.Cd())};
function jf(a,b){a.O&&(Sc(a.O,he,a.Hi,!1,a),Sc(a.O,ie,a.Gi,!1,a));a.O=b;a.O&&(P(a.O,he,a.Hi,!1,a),P(a.O,ie,a.Gi,!1,a))}function kf(a){if(!a.u)a.u=new je;a.u.setInterval(1E4);P(a.u,le,y(function(){this.o()},a));a.u.start();a.o()}t.Cd=function(){var a=Wd(this.uri);this.hh&&(Id(a,this.hh),Gd(a,"http"));Mb(this.k,function(b,c){b!=q&&Ud(a,c,b)},this);Mb(this.W,function(b,c){b&&Ud(a,c,b)},this);this.Xj&&Ud(a,"rnd",Math.floor((new Date).getTime()/1E3));return a};t.yc=function(a,b){this.W[a]=b};
t.Gi=function(){this.O.Mh()!=7&&Ee(hf,"Error fetching url: "+String(this.O.Jb));this.data=q;this.yb=!0;this.pb();this.dispatchEvent("loaded");this.dispatchEvent("error")};
t.Hi=function(){try{this.data=this.O.Nh(),this.yb=!1}catch(a){Ee(hf,"Got an exception parsing JSON: "+a+"(uri: "+String(this.O.Jb)+")"),Ee(hf,"Data: "+this.O.Oh()),this.data=q,this.yb=!0}this.Hh=!0;if(this.data&&this.data.error)Ee(hf,"Feed contained an error: '"+this.data.error+"' (uri: "+this.uri+")"),this.data=q,this.yb=!0;this.pb();this.dispatchEvent("loaded")};t.getData=s("data");t.pb=aa();function lf(a){U.call(this,a,"/dashapi/twitterwords/");this.ud=q;Rc(this,"loaded",this.ek,!0,this)}A(lf,U);lf.prototype.ek=function(a){if(!this.data||!this.data.length)this.data=[this.L.host];this.ud=this.data;this.data=q;a.stopPropagation();this.Cd=function(){var a="http://search.twitter.com/search.json?rpp=30&q=";a+=encodeURIComponent(this.ud.join(" OR "));return a};jf(this,new ge("callback"));window.setTimeout(y(this.o,this),0)};
lf.prototype.pb=function(){var a=this.getData();if(a=a&&a.results){for(var b=RegExp("("+this.ud.join("|")+")","gi"),c=0;c<a.length;c++){a[c].vb=new Date(a[c].created_at);var d=a[c];d.text=(d.text||"").replace(b,'<span class="tweetHighlight">$1</span>')}this.data=a}};function mf(){}var nf=[1,2,3,4,5],of=[5,15,20,25,30];mf.prototype.setData=function(a,b){this.Nk=a;this.zi=b};mf.prototype.vf=function(){return this.zi>5E3?of:nf};function pf(a,b,c,d){(!v(a)||!v(b))&&g(Error("Start and end parameters must be arrays"));a.length!=b.length&&g(Error("Start and end points must be the same length"));this.kd=a;this.uk=b;this.duration=c;this.Zg=d;this.coords=[]}A(pf,S);var qf={},rf=q;function sf(){tf();var a=z(),b;for(b in qf)uf(qf[b],a);rf=Qb(qf)?q:ke.setTimeout(sf,20)}function tf(){rf&&(ke.clearTimeout(rf),rf=q)}function vf(a){a=ma(a);delete qf[a];Qb(qf)&&tf()}t=pf.prototype;t.Y=0;t.Jh=0;t.pa=0;t.startTime=q;t.Dh=q;t.If=q;
t.play=function(a){if(a||this.Y==0)this.pa=0,this.coords=this.kd;else if(this.Y==1)return!1;vf(this);this.startTime=a=z();this.Y==-1&&(this.startTime-=this.duration*this.pa);this.Dh=this.startTime+this.duration;this.If=this.startTime;this.pa||this.Mb();wf(this,"play");this.Y==-1&&wf(this,"resume");this.Y=1;var b=ma(this);b in qf||(qf[b]=this);rf||(rf=ke.setTimeout(sf,20));uf(this,a);return!0};t.stop=function(a){vf(this);this.Y=0;if(a)this.pa=1;xf(this,this.pa);wf(this,"stop");this.uc()};
t.pause=function(){if(this.Y==1)vf(this),this.Y=-1,wf(this,"pause")};t.g=function(){this.Y!=0&&this.stop(!1);wf(this,"destroy");pf.f.g.call(this)};function uf(a,b){a.pa=(b-a.startTime)/(a.Dh-a.startTime);if(a.pa>=1)a.pa=1;a.Jh=1E3/(b-a.If);a.If=b;xf(a,a.pa);a.pa==1?(a.Y=0,vf(a),wf(a,"finish"),a.uc()):a.Y==1&&a.$f()}function xf(a,b){ka(a.Zg)&&(b=a.Zg(b));a.coords=Array(a.kd.length);for(var c=0;c<a.kd.length;c++)a.coords[c]=(a.uk[c]-a.kd[c])*b+a.kd[c]}t.$f=function(){wf(this,"animate")};
t.Mb=function(){wf(this,"begin")};t.uc=function(){wf(this,"end")};function wf(a,b){a.dispatchEvent(new yf(b,a))}function yf(a,b){N.call(this,a);this.coords=b.coords;this.x=b.coords[0];this.y=b.coords[1];this.on=b.coords[2];this.duration=b.duration;this.pa=b.pa;this.Tm=b.Jh;this.state=b.Y;this.Mm=b}A(yf,N);function zf(a){return 3*a*a-2*a*a*a};function Af(a){return a*Math.PI/180};var Bf=/#(.)(.)(.)/;function Cf(a){var b=a[0],c=a[1],a=a[2],b=Number(b),c=Number(c),a=Number(a);(isNaN(b)||b<0||b>255||isNaN(c)||c<0||c>255||isNaN(a)||a<0||a>255)&&g(Error('"('+b+","+c+","+a+'") is not a valid RGB color'));b=Df(b.toString(16));c=Df(c.toString(16));a=Df(a.toString(16));return"#"+b+c+a}function Ef(a,b,c){c<0?c+=1:c>1&&(c-=1);if(6*c<1)return a+(b-a)*6*c;else if(2*c<1)return b;else if(3*c<2)return a+(b-a)*(2/3-c)*6;return a}
function Ff(a,b,c){var d=0,e=0,f=0;a/=360;if(b==0)d=e=f=c*255;else var h=f=0,h=c<0.5?c*(1+b):c+b-b*c,f=2*c-h,d=255*Ef(f,h,a+1/3),e=255*Ef(f,h,a),f=255*Ef(f,h,a-1/3);return[Math.round(d),Math.round(e),Math.round(f)]}var Gf=/^#(?:[0-9a-f]{3}){1,2}$/i;function Df(a){return a.length==1?"0"+a:a};function Hf(){return!0};/*
 Portions of this code are from the Dojo Toolkit, received by
 The Closure Library Authors under the BSD license. All other code is
 Copyright 2005-2009 The Closure Library Authors. All Rights Reserved.

 The "New" BSD License:

 Copyright (c) 2005-2009, The Dojo Foundation
 All rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are met:

 Redistributions of source code must retain the above copyright notice, this
 list of conditions and the following disclaimer.
 Redistributions in binary form must reproduce the above copyright notice,
 this list of conditions and the following disclaimer in the documentation
 and/or other materials provided with the distribution.
 Neither the name of the Dojo Foundation nor the names of its contributors
 may be used to endorse or promote products derived from this software
 without specific prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 DISCLAIMED.  IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE
 FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
 DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
 SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
 CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
 OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/
var If=function(){function a(a,c){if(!a)return[];if(a.constructor==Array)return a;if(!w(a))return[a];if(w(c)&&(c=L(c),!c))return[];var c=c||document,e=c.ownerDocument||c.documentElement;Za=c.contentType&&c.contentType=="application/xml"||pb&&(c.doctype||e.toString()=="[object XMLDocument]")||!!e&&(F?e.xml:c.xmlVersion||e.xmlVersion);return(e=d(a)(c))&&e.je?e:b(e)}function b(a){if(a&&a.je)return a;var b=[];if(!a||!a.length)return b;a[0]&&b.push(a[0]);if(a.length<2)return b;lb++;if(F&&Za){var c=lb+
"";a[0].setAttribute("_zipIdx",c);for(var d=1,e;e=a[d];d++)a[d].getAttribute("_zipIdx")!=c&&b.push(e),e.setAttribute("_zipIdx",c)}else if(F&&a.dk)try{for(d=1;e=a[d];d++)C(e)&&b.push(e)}catch(f){}else{a[0]&&(a[0]._zipIdx=lb);for(d=1;e=a[d];d++)a[d]._zipIdx!=lb&&b.push(e),e._zipIdx=lb}return b}function c(a,b){if(!b)return 1;var c=Qj(a);return!b[c]?b[c]=1:0}function d(a,b){if(uh){var c=vh[a];if(c&&!b)return c}if(c=wh[a])return c;var c=a.charAt(0),f=-1==a.indexOf(" ");a.indexOf("#")>=0&&f&&(b=!0);if(uh&&
!b&&">~+".indexOf(c)==-1&&(!F||a.indexOf(":")==-1)&&!(oa&&a.indexOf(".")>=0)&&a.indexOf(":contains")==-1&&a.indexOf("|=")==-1){var h=">~+".indexOf(a.charAt(a.length-1))>=0?a+" *":a;return vh[a]=function(b){try{9==b.nodeType||f||g("");var c=b.querySelectorAll(h);F?c.dk=!0:c.je=!0;return c}catch(e){return d(a,!0)(b)}}}else{var i=a.split(/\s*,\s*/);return wh[a]=i.length<2?e(a):function(a){for(var b=0,c=[],d;d=i[b++];)c=c.concat(e(d)(a));return c}}}function e(a){var b=Aa(xa(a));if(b.length==1){var c=
f(b[0]);return function(a){if(a=c(a,[]))a.je=!0;return a}}return function(a){for(var a=V(a),c,d,e=b.length,h,i,k=0;k<e;k++){i=[];c=b[k];d=a.length-1;if(d>0)h={},i.je=!0;d=f(c);for(var l=0;c=a[l];l++)d(c,i,h);if(!i.length)break;a=i}return i}}function f(a){var b=xh[a.wc];if(b)return b;var c=a.fi,c=c?c.oe:"",d=l(a,{lc:1}),e="*"==a.ea,f=document.getElementsByClassName;if(c){f={lc:1};if(e)f.ea=1;d=l(a,f);"+"==c?b=k(d):"~"==c?b=i(d):">"==c&&(b=h(d))}else if(a.id)d=!a.vi&&e?Hf:l(a,{lc:1,id:1}),b=function(b,
c){var e=Ub(b).h(a.id);if(e&&d(e))if(9==b.nodeType)return V(e,c);else{for(var f=e.parentNode;f;){if(f==b)break;f=f.parentNode}if(f)return V(e,c)}};else if(f&&/\{\s*\[native code\]\s*\}/.test(String(f))&&a.Qa.length&&!oa)var d=l(a,{lc:1,Qa:1,id:1}),m=a.Qa.join(" "),b=function(a,b){for(var c=V(0,b),e,f=0,h=a.getElementsByClassName(m);e=h[f++];)d(e,a)&&c.push(e);return c};else!e&&!a.vi?b=function(b,c){for(var d=V(0,c),e,f=0,h=b.getElementsByTagName(a.wf());e=h[f++];)d.push(e);return d}:(d=l(a,{lc:1,
ea:1,id:1}),b=function(b,c){for(var e=V(0,c),f,h=0,i=b.getElementsByTagName(a.wf());f=i[h++];)d(f,b)&&e.push(f);return e});return xh[a.wc]=b}function h(a){a=a||Hf;return function(b,d,e){for(var f=0,h=b[pa];b=h[f++];)Bc(b)&&(!e||c(b,e))&&a(b,f)&&d.push(b);return d}}function i(a){return function(b,d,e){for(b=b[$a];b;){if(Bc(b)){if(e&&!c(b,e))break;a(b)&&d.push(b)}b=b[$a]}return d}}function k(a){return function(b,d,e){for(;b=b[$a];)if(!O||C(b)){(!e||c(b,e))&&a(b)&&d.push(b);break}return d}}function l(a,
b){if(!a)return Hf;var b=b||{},c=q;b.lc||(c=x(c,C));b.ea||a.ea!="*"&&(c=x(c,function(b){return b&&b.tagName==a.wf()}));b.Qa||D(a.Qa,function(a,b){var d=RegExp("(?:^|\\s)"+a+"(?:\\s|$)");c=x(c,function(a){return d.test(a.className)});c.count=b});b.Qb||D(a.Qb,function(a){var b=a.name;gf[b]&&(c=x(c,gf[b](b,a.value)))});b.zd||D(a.zd,function(a){var b,d=a.attr;a.type&&Ba[a.type]?b=Ba[a.type](d,a.Sf):d.length&&(b=Rj(d));b&&(c=x(c,b))});b.id||a.id&&(c=x(c,function(b){return!!b&&b.id==a.id}));c||"default"in
b||(c=Hf);return c}function m(a){return o(a)%2}function n(a){return!(o(a)%2)}function o(a){var b=a.parentNode,c=0,d=b[pa],e=a._i||-1,f=b._l||-1;if(!d)return-1;d=d.length;if(f==d&&e>=0&&f>=0)return e;b._l=d;e=-1;for(b=b.firstElementChild||b.firstChild;b;b=b[$a])if(Bc(b))b._i=++c,a===b&&(e=c);return e}function r(a){for(;a=a[$a];)if(Bc(a))return!1;return!0}function p(a){for(;a=a[Sj];)if(Bc(a))return!1;return!0}function E(a,b){return!a?"":b=="class"?a.className||"":b=="for"?a.htmlFor||"":b=="style"?a.style.cssText||
"":(Za?a.getAttribute(b):a.getAttribute(b,2))||""}function C(a){return 1==a.nodeType}function x(a,b){return!a?b:!b?a:function(){return a.apply(window,arguments)&&b.apply(window,arguments)}}function Aa(a){function b(){if(l>=0)x.id=c(l,p).replace(/\\/g,""),l=-1;if(m>=0){var a=m==p?q:c(m,p);">~+".indexOf(a)<0?x.ea=a:x.oe=a;m=-1}k>=0&&(x.Qa.push(c(k+1,p).replace(/\\/g,"")),k=-1)}function c(b,d){return xa(a.slice(b,d))}a+=">~+".indexOf(a.slice(-1))>=0?" * ":" ";for(var d=[],e=-1,f=-1,h=-1,i=-1,k=-1,l=
-1,m=-1,o="",n="",r,p=0,E=a.length,x=q,C=q;o=n,n=a.charAt(p),p<E;p++)if(o!="\\")if(x||(r=p,x={wc:q,Qb:[],zd:[],Qa:[],ea:q,oe:q,id:q,wf:function(){return Za?this.Pl:this.ea}},m=p),e>=0)if(n=="]"){C.attr?C.Sf=c(h||e+1,p):C.attr=c(e+1,p);if((e=C.Sf)&&(e.charAt(0)=='"'||e.charAt(0)=="'"))C.Sf=e.slice(1,-1);x.zd.push(C);C=q;e=h=-1}else{if(n=="=")h="|~^$*".indexOf(o)>=0?o:"",C.type=h+n,C.attr=c(e+1,p-h.length),h=p+1}else if(f>=0){if(n==")"){if(i>=0)C.value=c(f+1,p);i=f=-1}}else if(n=="#")b(),l=p+1;else if(n==
".")b(),k=p;else if(n==":")b(),i=p;else if(n=="[")b(),e=p,C={};else if(n=="(")i>=0&&(C={name:c(i+1,p),value:q},x.Qb.push(C)),f=p;else if(n==" "&&o!=n){b();i>=0&&x.Qb.push({name:c(i+1,p)});x.vi=x.Qb.length||x.zd.length||x.Qa.length;x.en=x.wc=c(r,p);x.Pl=x.ea=x.oe?q:x.ea||"*";if(x.ea)x.ea=x.ea.toUpperCase();if(d.length&&d[d.length-1].oe)x.fi=d.pop(),x.wc=x.fi.wc+" "+x.wc;d.push(x);x=q}return d}function V(a,b){var c=b||[];a&&c.push(a);return c}var oa=H&&document.compatMode=="BackCompat",pa=document.firstChild.children?
"children":"childNodes",Za=!1,Ba={"*=":function(a,b){return function(c){return E(c,a).indexOf(b)>=0}},"^=":function(a,b){return function(c){return E(c,a).indexOf(b)==0}},"$=":function(a,b){return function(c){c=" "+E(c,a);return c.lastIndexOf(b)==c.length-b.length}},"~=":function(a,b){var c=" "+b+" ";return function(b){return(" "+E(b,a)+" ").indexOf(c)>=0}},"|=":function(a,b){b=" "+b;return function(c){c=" "+E(c,a);return c==b||c.indexOf(b+"-")==0}},"=":function(a,b){return function(c){return E(c,
a)==b}}},O=typeof document.firstChild.nextElementSibling=="undefined",$a=!O?"nextElementSibling":"nextSibling",Sj=!O?"previousElementSibling":"previousSibling",Bc=O?C:Hf,gf={checked:function(){return function(a){return a.checked||a.attributes.checked}},"first-child":function(){return p},"last-child":function(){return r},"only-child":function(){return function(a){return!p(a)?!1:!r(a)?!1:!0}},empty:function(){return function(a){for(var b=a.childNodes,a=a.childNodes.length-1;a>=0;a--){var c=b[a].nodeType;
if(c===1||c==3)return!1}return!0}},contains:function(a,b){var c=b.charAt(0);if(c=='"'||c=="'")b=b.slice(1,-1);return function(a){return a.innerHTML.indexOf(b)>=0}},not:function(a,b){var c=Aa(b)[0],d={lc:1};if(c.ea!="*")d.ea=1;if(!c.Qa.length)d.Qa=1;var e=l(c,d);return function(a){return!e(a)}},"nth-child":function(a,b){if(b=="odd")return m;else if(b=="even")return n;if(b.indexOf("n")!=-1){var c=b.split("n",2),d=c[0]?c[0]=="-"?-1:parseInt(c[0],10):1,e=c[1]?parseInt(c[1],10):0,f=0,h=-1;d>0?e<0?e=e%
d&&d+e%d:e>0&&(e>=d&&(f=e-e%d),e%=d):d<0&&(d*=-1,e>0&&(h=e,e%=d));if(d>0)return function(a){a=o(a);return a>=f&&(h<0||a<=h)&&a%d==e};else b=e}var i=parseInt(b,10);return function(a){return o(a)==i}}},Rj=F?function(a){var b=a.toLowerCase();b=="class"&&(a="className");return function(c){return Za?c.getAttribute(a):c[a]||c[b]}}:function(a){return function(b){return b&&b.getAttribute&&b.hasAttribute(a)}},xh={},wh={},vh={},uh=!!document.querySelectorAll&&(!H||I("526")),lb=0,Qj=F?function(a){return Za?
a.getAttribute("_uid")||a.setAttribute("_uid",++lb)||lb:a.uniqueID}:function(a){return a._uid||(a._uid=++lb)};a.Qb=gf;return a}();da("goog.dom.query",If);da("goog.dom.query.pseudos",If.Qb);function Jf(a){var b={noreferrer:!0},c=window,d=typeof a.href!="undefined"?a.href:String(a),a=b.target||a.target,e=[],f;for(f in b)switch(f){case "width":case "height":case "top":case "left":e.push(f+"="+b[f]);break;case "target":case "noreferrer":break;default:e.push(f+"="+(b[f]?1:0))}f=e.join(",");if(b.noreferrer){if(b=c.open("",a,f))F&&d.indexOf(";")!=-1&&(d="'"+d.replace(/'/g,"%27")+"'"),b.opener=q,H?b.location.href=d:(d=Da(d),b.document.write('<META HTTP-EQUIV="refresh" content="0; url='+d+'">'),
b.document.close())}else c.open(d,a,f)};function Kf(a){for(var b=q,c=q,a=a.target;a&&!b;)a.getAttribute&&(b=a.getAttribute("jsaction")||a.jsaction,c=a.getAttribute("jsvalue")||a.jsvalue),a=a.parentNode;return{action:b,value:c}}function Lf(a,b,c,d,e){var f=new pf(a,b,c,e||zf);P(f,"animate",d.Za,!1,d);P(f,"finish",function(a){Wc(f);d.dd(a)},!1,d);f.play();return f}function Mf(a){var b;b=2[0]||1.618;return Math.pow(a,2)*((b+1)*a-b)}window.openSafely=function(a){Jf(a)};
function Nf(a,b,c){c=c||"";return b&&b[0]!="/"?"http://"+c+b:"http://"+c+a+b}var Of=/[?&](q|query|search)=([^&]+)/,Pf=/[?&](p)=([^&]+)/;function Qf(a){var b=Of.exec(a);!b&&a.indexOf("search.yahoo.com")==0&&(b=Pf.exec(a));if(b){a=b[2];try{a=unescape(a).replace(/\+/g," "),a=decodeURIComponent(escape(a))}catch(c){}return a}return q}function Rf(a){return!a?a:a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}var Sf=/(https?:\/\/)?(www\.)?/;
function Tf(a,b){var c={},d;for(d in a)c[d]=a[d];for(d in b)c[d]=b[d];return c}function Uf(a){var b={},c;for(c in a)for(var d=c.split(","),e=0;e<d.length;e++){var f=d[e];b[f]||(b[f]=0);b[f]+=a[c]}return b}
function Vf(a,b){var c=Math.max(-1,Math.min(1,a/b))*-60+60,d=0,e=0,f=0,h=Math.floor(c/60),i=c/60-h,c=242.25*(1-0.65*i),i=242.25*(1-0.65*(1-i));switch(h){case 1:d=c;e=242.25;f=84.7875;break;case 2:d=84.7875;e=242.25;f=i;break;case 3:d=84.7875;e=c;f=242.25;break;case 4:d=i;e=84.7875;f=242.25;break;case 5:d=242.25;e=84.7875;f=c;break;case 6:case 0:d=242.25,e=i,f=84.7875}return Cf([Math.floor(d),Math.floor(e),Math.floor(f)])}
var Wf={AF:"Afghanistan",AX:"Aland Islands",AL:"Albania",DZ:"Algeria",AD:"Andorra",AO:"Angola",AI:"Anguilla",AG:"Antigua And Barbuda",AR:"Argentina",AM:"Armenia",AW:"Aruba",AU:"Australia",AT:"Austria",AZ:"Azerbaijan",BS:"Bahamas",BH:"Bahrain",BD:"Bangladesh",BB:"Barbados",BY:"Belarus",BE:"Belgium",BZ:"Belize",BJ:"Benin",BM:"Bermuda",BT:"Bhutan",BO:"Bolivia",BA:"Bosnia And Herzegovina",BW:"Botswana",BR:"Brazil",BN:"Brunei Darussalam",BG:"Bulgaria",BF:"Burkina Faso",BI:"Burundi",KH:"Cambodia",CM:"Cameroon",
CA:"Canada",CV:"Cape Verde",CF:"Central African Republic",TD:"Chad",CL:"Chile",CN:"China",CO:"Colombia",KM:"Comoros",CG:"Republic Of Congo",CD:"The Democratic Republic Of The Congo",CR:"Costa Rica",HR:"Croatia",CU:"Cuba",CY:"Cyprus",CZ:"Czech Republic",DK:"Denmark",DJ:"Djibouti",DM:"Dominica",DO:"Dominican Republic",EC:"Ecuador",EG:"Egypt",SV:"El Salvador",GQ:"Equatorial Guinea",ER:"Eritrea",EE:"Estonia",ET:"Ethiopia",FO:"Faeroe Islands",FK:"Falkland Islands",FJ:"Fiji",FI:"Finland",FR:"France",GF:"French Guiana",
GA:"Gabon",GE:"Georgia",DE:"Germany",GH:"Ghana",GR:"Greece",GL:"Greenland",GD:"Grenada",GP:"Guadeloupe",GT:"Guatemala",GN:"Guinea",GY:"Guyana",HT:"Haiti",HN:"Honduras",HK:"Hong Kong",HU:"Hungary",IS:"Iceland",IN:"India",ID:"Indonesia",IR:"Iran",IQ:"Iraq",IE:"Ireland",IL:"Israel",IT:"Italy",JM:"Jamaica",JP:"Japan",JO:"Jordan",KZ:"Kazakhstan",KE:"Kenya",KP:"North Korea",KR:"South Korea",KV:"Kosovo",KW:"Kuwait",KG:"Kyrgyzstan",LV:"Latvia",LB:"Lebanon",LS:"Lesotho",LR:"Liberia",LY:"Libya",LI:"Liechtenstein",
LT:"Lithuania",LU:"Luxembourg",MK:"Macedonia",MG:"Madagascar",MW:"Malawi",MY:"Malaysia",ML:"Mali",MT:"Malta",MQ:"Martinique",MR:"Mauritania",MU:"Mauritius",MX:"Mexico",MD:"Moldova",MN:"Mongolia",ME:"Montenegro",MS:"Montserrat",MA:"Morocco",MZ:"Mozambique",MM:"Myanmar",NA:"Namibia",NP:"Nepal",NL:"Netherlands",NC:"New Caledonia",NZ:"New Zealand",NI:"Nicaragua",NE:"Niger",NG:"Nigeria",NO:"Norway",OM:"Oman",PK:"Pakistan",PW:"Palau",PS:"Palestinian Territories",PA:"Panama",PG:"Papua New Guinea",PY:"Paraguay",
PE:"Peru",PH:"Philippines",PL:"Poland",PT:"Portugal",PR:"Puerto Rico",QA:"Qatar",RE:"Reunion",RO:"Romania",RU:"Russian Federation",RW:"Rwanda",KN:"Saint Kitts And Nevis",LC:"Saint Lucia",WS:"Samoa",ST:"Sao Tome And Principe",SA:"Saudi Arabia",SN:"Senegal",RS:"Serbia",SL:"Sierra Leone",SG:"Singapore",SK:"Slovakia",SI:"Slovenia",SB:"Solomon Islands",SO:"Somalia",ZA:"South Africa",GS:"South Georgia And The South Sandwich Islands",ES:"Spain",LK:"Sri Lanka",SD:"Sudan",SR:"Suriname",SJ:"Svalbard And Jan Mayen",
SZ:"Swaziland",SE:"Sweden",CH:"Switzerland",SY:"Syrian Arab Republic",TW:"Taiwan",TJ:"Tajikistan",TZ:"Tanzania",TH:"Thailand",TG:"Togo",TO:"Tonga",TT:"Trinidad And Tobago",TN:"Tunisia",TR:"Turkey",TM:"Turkmenistan",TC:"Turks And Caicos Islands",UG:"Uganda",UA:"Ukraine",AE:"United Arab Emirates",GB:"United Kingdom",US:"United States",UY:"Uruguay",UZ:"Uzbekistan",VU:"Vanuatu",VE:"Venezuela",VN:"Viet Nam",EH:"Western Sahara",YE:"Yemen",ZM:"Zambia",ZW:"Zimbabwe"},Xf={AL:"Alabama",AK:"Alaska",AZ:"Arizona",
AR:"Arkansas",CA:"California",CO:"Colorado",CT:"Connecticut",DE:"Delaware",DC:"District of Columbia",FL:"Florida",GA:"Georgia",HI:"Hawaii",ID:"Idaho",IL:"Illinois",IN:"Indiana",IA:"Iowa",KS:"Kansas",KY:"Kentucky",LA:"Louisiana",ME:"Maine",MD:"Maryland",MA:"Massachusetts",MI:"Michigan",MN:"Minnesota",MS:"Mississippi",MO:"Missouri",MT:"Montana",NE:"Nebraska",NV:"Nevada",NH:"New Hampshire",NJ:"New Jersey",NM:"New Mexico",NY:"New York",NC:"North Carolina",ND:"North Dakota",OH:"Ohio",OK:"Oklahoma",OR:"Oregon",
PA:"Pennsylvania",RI:"Rhode Island",SC:"South Carolina",SD:"South Dakota",TN:"Tennessee",TX:"Texas",UT:"Utah",VT:"Vermont",VA:"Virginia",WA:"Washington",WV:"West Virginia",WI:"Wisconsin",WY:"Wyoming"};function Yf(a,b){this.data=a;this.sh=this.ej=this.aj=this.kf=this.og=this.Of=0;this.Ae=[];this.ug=[];this.$g=[];this.Tb={};this.Wi={};for(var c in a)if(c.indexOf("www.")==0){var d=c.slice(4);if(a[d])for(var e in a[d])a[c][e]=(a[c][e]||0)+a[d][e];a[d]=a[c];delete a[c]}for(c in a){var d=0,f=a[c];c==""&&(c="direct");for(e in f){var h=f[e],i=c+e,k=Qf(i);k?(this.og++,this.Tb[k]||(this.Tb[k]=0),this.Tb[k]+=h,this.Wi[k]=i,i=k):(d+=h,c!="direct"?this.Of+=h:this.kf=h,this.ug.push({url:c+e,count:h}));this.$g.push({url:c+
e,count:h,displayUrl:i})}c!="direct"&&d&&this.Ae.push({domain:c,count:d})}this.sort(this.ug);this.sort(this.Ae);this.sort(this.$g);if(b)this.Of=b.links,this.og=b.search,this.kf=b.direct,this.aj=b.social,this.ej=b.subscr,this.sh=b.crowd}function Zf(a,b){var c=a.data[b],d=[],e;for(e in c)Qf(b+e)||d.push({path:e,count:c[e]});return a.sort(d)}Yf.prototype.Eb=s("ug");function $f(a,b){var c=0,d;for(d in a.data[b])c+=a.data[b][d];return c}
Yf.prototype.sort=function(a){a.sort(function(a,c){return c.count-a.count});return a};function ag(a){U.call(this,a,"/api/pages/",!0);this.hg=new mf;this.data={};this.Ql=q}A(ag,U);t=ag.prototype;t.ja=ba("path");t.Cd=function(){var a=U.prototype.Cd.call(this);this.path&&Ud(a,"path",this.path);return a};t.setData=function(a){if(a)this.data=a,this.pb(),this.dispatchEvent("loaded")};t.pb=function(){this.Ql=q;if(this.data&&this.data.summary){this.Rb=q;var a=this.data.summary.domload,b=typeof a=="object";this.hg.setData(b?a.hist:this.data.domload,b?a.median:a)}};
function bg(a){return a.data?a.data.summary:q}function cg(a,b){if(!a.data)return b;var c=a.data.titles?a.data.titles[b]:q;if(c){try{return decodeURIComponent(escape(c))}catch(d){}return c}return b}t.Oc=function(a){for(var b=(this.data?this.data.toppages:q)||[],c=0;c<b.length;c++)if(b[c].path==a)return b[c];return q};
function dg(a){var b=q;if(!a.data)return b;b=a.data.visitlength;if(!b&&a.data.summary&&(a=a.data.summary,b=[],a&&a.engaged_visit))for(var c=0;c<a.engaged_visit.hist.length;++c){var d=a.engaged_visit.hist[c],e=a.writing_visit.hist[c],f=a.visit.hist[c];b.push({read:d-e,write:e,idle:f-d,total:f})}return b}t.Eb=function(){if(!this.Rb)this.Rb=new Yf(this.data?this.data.referers:q);return this.Rb};function eg(a,b){ag.call(this,a);this.k.v=this.k.v||b||2;this.uri="/api/dash/";this.Rb=q}A(eg,ag);eg.prototype.pb=function(){a:{var a=this.data&&this.data.toppages;if(a&&a.length){for(var b=a[0].title,c,d=1;d<a.length;++d){c=a[d].title;for(var e=0;e<b.length&&e<c.length&&b[e]==c[e];++e);if(!e)break a;b=b.substring(0,e)}b=b.length;for(c=0;c<a.length;++c)d=a[c].title.substring(b),d.length&&(a[c].title=d)}}ag.prototype.pb.call(this)};
eg.prototype.Eb=function(){if(!this.Rb)this.Rb=this.data?new Yf(this.data.referers,this.data.summary):new Yf(q,q);return this.Rb};function fg(a){U.call(this,a,"/api/pathsummary/?keys=r,v&types=s,s&limit=30");this.host=a.host;this.ck=!0;this.oc=this.Hb=q}A(fg,U);fg.prototype.pb=function(){this.oc=this.Hb=q;if(this.ck&&this.data)for(var a in this.data){var b=this.data[a].v.data,c={},d;for(d in b)if(d){var e=new Fd(d);Id(e,this.host);c[e.toString()]=b[d]}else c[d]=b[d];this.data[a].v.data=c}};
function gg(a){if(a.Hb)return a.Hb;a.Hb={};for(var b in a.data){var c=a.data[b].v.data,d;for(d in c){var e=a.Hb[d];e||(e={},a.Hb[d]=e);e[b]=c[d]}}return a.Hb}fg.prototype.getData=function(a){if(!this.data||!this.data[a])return{};var b=Nf(this.host,a),c=Nf(this.host,a,"www.");return{jk:gg(this)[c]||gg(this)[b],pm:this.data[a].r.data,qm:this.data[a].v.data}};
fg.prototype.Eb=function(a,b){if(!this.data||!this.data[a])return 0;var c=this.host+a,d=this.data[b].v.data;return(d["http://www."+c]||0)+(d["http://"+c]||0)};function hg(a,b,c){if(a.Hh)return!1;Rc(a,"loaded",b,!1,c);if(!a.wk)kf(a),a.wk=!0;return!0};function ig(a){U.call(this,a,"")}A(ig,U);function jg(a){U.call(this,a,"/dashapi/stats/")}A(jg,U);jg.prototype.get=function(a){return this.data?this.data[a]:q};function kg(a){U.call(this,a,"/dashapi/uptime/?since="+Math.floor((new Date).getTime()/1E3-1800))}A(kg,U);var W={Mg:["BC","AD"],yj:["Before Christ","Anno Domini"],Dj:"J,F,M,A,M,J,J,A,S,O,N,D".split(","),Ij:"J,F,M,A,M,J,J,A,S,O,N,D".split(","),Rg:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),Hj:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),Vg:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),Kj:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),Yg:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),
Mj:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),Xg:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(","),Lj:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(","),Jm:"S,M,T,W,T,F,S".split(","),Jj:"S,M,T,W,T,F,S".split(","),Wg:["Q1","Q2","Q3","Q4"],Ug:["1st quarter","2nd quarter","3rd quarter","4th quarter"],Jg:["AM","PM"],vd:["EEEE, MMMM d, y","MMMM d, y","MMM d, y","M/d/yy"],wd:["h:mm:ss a zzzz","h:mm:ss a z","h:mm:ss a","h:mm a"],zj:6,Lm:[5,6],Aj:2};function lg(a,b,c,d,e,f){w(a)?(this.Na=a==mg?b:0,this.Ka=a==ng?b:0,this.F=a==og?b:0,this.M=a==pg?b:0,this.ba=a==qg?b:0,this.da=a==rg?b:0):(this.Na=a||0,this.Ka=b||0,this.F=c||0,this.M=d||0,this.ba=e||0,this.da=f||0)}
lg.prototype.nd=function(a){var b=Math.min(this.Na,this.Ka,this.F,this.M,this.ba,this.da),c=Math.max(this.Na,this.Ka,this.F,this.M,this.ba,this.da);if(b<0&&c>0)return q;if(!a&&b==0&&c==0)return"PT0S";c=[];b<0&&c.push("-");c.push("P");(this.Na||a)&&c.push(Math.abs(this.Na)+"Y");(this.Ka||a)&&c.push(Math.abs(this.Ka)+"M");(this.F||a)&&c.push(Math.abs(this.F)+"D");if(this.M||this.ba||this.da||a)c.push("T"),(this.M||a)&&c.push(Math.abs(this.M)+"H"),(this.ba||a)&&c.push(Math.abs(this.ba)+"M"),(this.da||
a)&&c.push(Math.abs(this.da)+"S");return c.join("")};lg.prototype.clone=function(){return new lg(this.Na,this.Ka,this.F,this.M,this.ba,this.da)};var mg="y",ng="m",og="d",pg="h",qg="n",rg="s";lg.prototype.add=function(a){this.Na+=a.Na;this.Ka+=a.Ka;this.F+=a.F;this.M+=a.M;this.ba+=a.ba;this.da+=a.da};
function sg(a,b,c){ja(a)?(this.d=new Date(a,b||0,c||1),tg(this,c||1)):la(a)?(this.d=new Date(a.getFullYear(),a.getMonth(),a.getDate()),tg(this,a.getDate())):(this.d=new Date,this.d.setHours(0),this.d.setMinutes(0),this.d.setSeconds(0),this.d.setMilliseconds(0))}t=sg.prototype;t.Od=W.zj;t.Pd=W.Aj;t.clone=function(){var a=new sg(this.d);a.Od=this.Od;a.Pd=this.Pd;return a};t.getFullYear=function(){return this.d.getFullYear()};t.getYear=function(){return this.getFullYear()};t.getMonth=function(){return this.d.getMonth()};
t.getDate=function(){return this.d.getDate()};t.getTime=function(){return this.d.getTime()};t.getDay=function(){return this.d.getDay()};t.getUTCFullYear=function(){return this.d.getUTCFullYear()};t.getUTCMonth=function(){return this.d.getUTCMonth()};t.getUTCDate=function(){return this.d.getUTCDate()};t.getUTCHours=function(){return this.d.getUTCHours()};t.getUTCMinutes=function(){return this.d.getUTCMinutes()};t.getTimezoneOffset=function(){return this.d.getTimezoneOffset()};
function ug(a){a=a.getTimezoneOffset();if(a==0)a="Z";else var b=Math.abs(a)/60,c=Math.floor(b),b=(b-c)*60,a=(a>0?"-":"+")+B(c,2)+":"+B(b,2);return a}t.set=function(a){this.d=new Date(a.getFullYear(),a.getMonth(),a.getDate())};t.setFullYear=function(a){this.d.setFullYear(a)};t.setMonth=function(a){this.d.setMonth(a)};t.setDate=function(a){this.d.setDate(a)};t.setTime=function(a){this.d.setTime(a)};
t.add=function(a){if(a.Na||a.Ka){var b=this.getMonth()+a.Ka+a.Na*12,c=this.getYear()+Math.floor(b/12);b%=12;b<0&&(b+=12);var d;a:{switch(b){case 1:d=c%4==0&&(c%100!=0||c%400==0)?29:28;break a;case 5:case 8:case 10:case 3:d=30;break a}d=31}d=Math.min(d,this.getDate());this.setDate(1);this.setFullYear(c);this.setMonth(b);this.setDate(d)}a.F&&(a=new Date((new Date(this.getYear(),this.getMonth(),this.getDate(),12)).getTime()+a.F*864E5),this.setDate(1),this.setFullYear(a.getFullYear()),this.setMonth(a.getMonth()),
this.setDate(a.getDate()),tg(this,a.getDate()))};t.nd=function(a,b){return[this.getFullYear(),B(this.getMonth()+1,2),B(this.getDate(),2)].join(a?"-":"")+(b?ug(this):"")};t.toString=function(){return this.nd()};function tg(a,b){a.getDate()!=b&&a.d.setUTCHours(a.d.getUTCHours()+(a.getDate()<b?1:-1))}t.valueOf=function(){return this.d.valueOf()};function vg(a,b,c,d,e,f,h){this.d=ja(a)?new Date(a,b||0,c||1,d||0,e||0,f||0,h||0):new Date(a?a.getTime():z())}A(vg,sg);t=vg.prototype;t.getHours=function(){return this.d.getHours()};
t.getMinutes=function(){return this.d.getMinutes()};t.getSeconds=function(){return this.d.getSeconds()};t.getUTCHours=function(){return this.d.getUTCHours()};t.getUTCMinutes=function(){return this.d.getUTCMinutes()};t.setHours=function(a){this.d.setHours(a)};t.setMinutes=function(a){this.d.setMinutes(a)};t.setSeconds=function(a){this.d.setSeconds(a)};t.setMilliseconds=function(a){this.d.setMilliseconds(a)};t.setUTCHours=function(a){this.d.setUTCHours(a)};
t.add=function(a){sg.prototype.add.call(this,a);a.M&&this.setHours(this.d.getHours()+a.M);a.ba&&this.setMinutes(this.d.getMinutes()+a.ba);a.da&&this.setSeconds(this.d.getSeconds()+a.da)};t.nd=function(a,b){var c=sg.prototype.nd.call(this,a);return a?c+" "+B(this.getHours(),2)+":"+B(this.getMinutes(),2)+":"+B(this.getSeconds(),2)+(b?ug(this):""):c+"T"+B(this.getHours(),2)+B(this.getMinutes(),2)+B(this.getSeconds(),2)+(b?ug(this):"")};t.toString=function(){return this.nd()};
t.clone=function(){var a=new vg(this.d);a.Od=this.Od;a.Pd=this.Pd;return a};function wg(a,b,c,d,e){this.sd=e||3;this.L=b={host:b,hd:c,fh:d};this.Fe=new jg(b);this.sd>2?(this.m=new eg(b),this.oa=new eg(b)):(this.m=new ag(b),this.oa=new ag(b));this.gc=new lf(b);this.re=new fg(b);this.mj=new kg(b);this.paused=!1;this.interval=q;this.state=a;this.rf=[this.m];this.Uk=[this.Fe,this.m];this.hd=c;this.bh=d;this.ze=new ig(b);this.yb=!1;this.om=!0;P(this.ze,"loaded",this.Kl,!1,this);P(this.state,xg,this.Am,!1,this);P(this.state,yg,this.bg,!1,this);this.Nd=0;a=y(this.Ml,this);P(window,
"mousemove",a);P(window,"scroll",a);P(window,"keypress",a)}A(wg,S);var zg=T("chartbeat.data");t=wg.prototype;t.Ml=function(){this.Nd=0};t.getState=s("state");t.fl=function(){if(!(--this.We>0)&&!this.z){try{this.dispatchEvent("loaded")}catch(a){Ee(zg,"Got exception sending LOADED event: "+a)}if(!this.paused&&!this.interval){var b=this.Nd*500+3E3;this.yb=this.rf[this.We].yb;this.interval=window.setInterval(y(this.o,this),b);this.Nd<12&&this.Nd++}}};t.getDate=function(){return this.z||new Date};
t.Vf=function(a){if(this.z){var b=new vg(this.z);b.add(new lg(qg,a));this.z=b>new Date?q:b;this.o()}};t.Kl=function(){this.ze.data&&(this.m.setData(this.ze.data),this.dispatchEvent("loaded"));if(!this.paused&&!this.interval)this.interval=window.setInterval(y(this.Vf,this,5),2E3)};t.Ia=function(){var a=y(this.fl,this),b=this.Uk;this.We=b.length;var c;for(c=0;c<b.length;c++)P(b[c],"loaded",a),b[c].o();b=[this.oa];for(c=0;c<b.length;c++)P(b[c],"loaded",a);window.setInterval(y(this.sf,this),24E4);this.sf()};
t.sf=function(){this.om&&(this.mj.o(),this.gc.o())};t.o=function(){if(this.interval)window.clearInterval(this.interval),this.interval=q;if(this.z){var a=this.ze;a.uri="/dashapi/snapshots/?api=pages&timestamp="+Math.floor(this.z.getTime()/1E3);a.o()}else{a=this.rf;this.We=a.length;for(var b=0;b<a.length;b++)a[b].o()}};t.bg=function(a){this.m.yc(a.Rd,a.value);this.o()};t.setDate=function(a){this.z=a;this.o()};
t.pause=function(){this.paused=!0;if(this.interval)window.clearInterval(this.interval),this.interval=q};t.Am=function(a){var b=[this.m];Ag(this.state)&&(b.push(this.oa),this.oa.ja(a.value));this.rf=b;this.z||this.o()};function Bg(a){a=Cg(a);return a.total||a.people}function Cg(a){var b=a.state.getValue();return Ag(a.state)?a.z?(a=a.m.Oc(b),a!=q&&"stats"in a?a.stats:a):bg(a.oa):bg(a.m)}
function Dg(a){var b=a.state.getValue();if(Ag(a.state)){if(a.z){a=a.m.Oc(b);if(!a)return q;"stats"in a&&(a=a.stats);return a.positions}return(a=a.oa.data.summary)?a.scroll.hist:q}return q}function Eg(a){a.state.getValue();return Ag(a.state)?a.z?q:a.oa.data?a.oa.data.recent:q:a.m.data?a.m.data.recent:q};function Fg(){}var Gg=T("tracking.GA");function Hg(a,b){this.$j=a;this.Pm=b||new Fg}var Ig=T("tracking.Tracker");function Jg(a,b,c,d){Ig.info("Will track 'click' event as '"+[c,d,j].join("/")+"' on object: "+b);P(b,"click",y(function(){var a=this.$j;Gg.info(["_trackEvent",a,c,d,j].join(","));u._gaq.push(["_trackEvent",a,c,d,j])},a))}
Hg.prototype.ym=function(a){var b=typeof a.Ek=="function",c;(c=b?a.e:L(a))?(Jg(this,c,c.id,"click"),b&&(a.Ga&&Jg(this,a.Ga,c.id,"click_help"),a.ta&&Jg(this,a.ta,c.id,"click_expand"))):Ee(Ig,"Could not find element for: "+a)};function Kg(){}function Lg(a){if(typeof a=="number"){var b=new Kg;b.De=a;var c;c=a;if(c==0)c="Etc/GMT";else{var d=["Etc/GMT",c<0?"-":"+"];c=Math.abs(c);d.push(Math.floor(c/60)%100);c%=60;c!=0&&d.push(":",B(c,2));c=d.join("")}b.gj=c;a==0?a="UTC":(c=["UTC",a<0?"+":"-"],a=Math.abs(a),c.push(Math.floor(a/60)%100),a%=60,a!=0&&c.push(":",a),a=c.join(""));b.Cg=[a,a];b.Je=[];return b}b=new Kg;b.gj=a.id;b.De=-a.std_offset;b.Cg=a.names;b.Je=a.transitions;return b}
function Mg(a,b){for(var c=Date.UTC(b.getUTCFullYear(),b.getUTCMonth(),b.getUTCDate(),b.getUTCHours(),b.getUTCMinutes())/36E5,d=0;d<a.Je.length&&c>=a.Je[d];)d+=2;return d==0?0:a.Je[d-1]};function Ng(a){this.q=[];typeof a=="number"?this.cc(a):this.ra(a)}var Og=[/^\'(?:[^\']|\'\')*\'/,/^(?:G+|y+|M+|k+|S+|E+|a+|h+|K+|H+|c+|L+|Q+|d+|m+|s+|v+|z+|Z+)/,/^[^\'GyMkSEahKHcLQdmsvzZ]+/];Ng.prototype.ra=function(a){for(;a;)for(var b=0;b<Og.length;++b){var c=a.match(Og[b]);if(c){c=c[0];a=a.substring(c.length);b==0&&(c=="''"?c="'":(c=c.substring(1,c.length-1),c=c.replace(/\'\'/,"'")));this.q.push({text:c,type:b});break}}};
Ng.prototype.format=function(a,b){var c=b?(a.getTimezoneOffset()-(b.De-Mg(b,a)))*6E4:0,d=c?new Date(a.getTime()+c):a,e=d;b&&d.getTimezoneOffset()!=a.getTimezoneOffset()&&(c+=c>0?-864E5:864E5,e=new Date(a.getTime()+c));for(var c=[],f=0;f<this.q.length;++f){var h=this.q[f].text;1==this.q[f].type?c.push(Pg(h,a,d,e,b)):c.push(h)}return c.join("")};Ng.prototype.cc=function(a){if(a<4)a=W.vd[a];else if(a<8)a=W.wd[a-4];else if(a<12)a=W.vd[a-8]+" "+W.wd[a-8];else{this.cc(10);return}this.ra(a)};
function Qg(a,b){var c=b.getMonth();switch(a){case 5:return W.Dj[c];case 4:return W.Rg[c];case 3:return W.Vg[c];default:return B(c+1,a)}}function Rg(a,b){var c=b.getDay();switch(a){case 5:return W.Jj[c];case 4:return W.Mj[c];case 3:return W.Lj[c];default:return B(c,1)}}function Sg(a,b){var c=b.getMonth();switch(a){case 5:return W.Ij[c];case 4:return W.Hj[c];case 3:return W.Kj[c];default:return B(c+1,a)}}
function Pg(a,b,c,d,e){var f=a.length;switch(a.charAt(0)){case "G":return b=c.getFullYear()>0?1:0,f>=4?W.yj[b]:W.Mg[b];case "y":return b=c.getFullYear(),b<0&&(b=-b),f==2?B(b%100,2):String(b);case "M":return Qg(f,c);case "k":return B(d.getHours()||24,f);case "S":return(d.getTime()%1E3/1E3).toFixed(Math.min(3,f)).substr(2)+(f>3?B(0,f-3):"");case "E":return b=c.getDay(),f>=4?W.Yg[b]:W.Xg[b];case "a":return f=d.getHours(),W.Jg[f>=12&&f<24?1:0];case "h":return B(d.getHours()%12||12,f);case "K":return B(d.getHours()%
12,f);case "H":return B(d.getHours(),f);case "c":return Rg(f,c);case "L":return Sg(f,c);case "Q":return b=Math.floor(c.getMonth()/3),f<4?W.Wg[b]:W.Ug[b];case "d":return B(c.getDate(),f);case "m":return B(d.getMinutes(),f);case "s":return B(d.getSeconds(),f);case "v":return f=e||Lg(b.getTimezoneOffset()),f.gj;case "z":return a=e||Lg(b.getTimezoneOffset()),f<4?a.Cg[Mg(a,b)>0?2:0]:a.Cg[Mg(a,b)>0?3:1];case "Z":return a=e||Lg(b.getTimezoneOffset()),f<4?(f=-(a.De-Mg(a,b)),b=[f<0?"-":"+"],f=Math.abs(f),
b.push(B(Math.floor(f/60)%100,2),B(f%60,2))):(f=a.De-Mg(a,b),b=["GMT"],b.push(f<=0?"+":"-"),f=Math.abs(f),b.push(B(Math.floor(f/60)%100,2),":",B(f%60,2))),f=b.join("");default:return""}};function Tg(a){var b=z(),c=Math.floor((b-a)/6E4),d=!1;c<0&&(d=!0,c*=-1);return c<60?Ug(c,d,0):(c=Math.floor(c/60),c<24?Ug(c,d,1):(c=(new Date).getTimezoneOffset()*6E4,c=Math.floor((b+c)/864E5)-Math.floor((a+c)/864E5),d&&(c*=-1),c<14?Ug(c,d,2):""))}
function Ug(a,b,c){return!b&&c==0?(b=ua("{$num} minute ago",{num:a}),c=ua("{$num} minutes ago",{num:a}),a==1?b:c):b&&c==0?(b=ua("in {$num} minute",{num:a}),c=ua("in {$num} minutes",{num:a}),a==1?b:c):!b&&c==1?(b=ua("{$num} hour ago",{num:a}),c=ua("{$num} hours ago",{num:a}),a==1?b:c):b&&c==1?(b=ua("in {$num} hour",{num:a}),c=ua("in {$num} hours",{num:a}),a==1?b:c):!b&&c==2?(b=ua("{$num} day ago",{num:a}),c=ua("{$num} days ago",{num:a}),a==1?b:c):b&&c==2?(b=ua("in {$num} day",{num:a}),c=ua("in {$num} days",
{num:a}),a==1?b:c):""};function Vg(a,b,c,d,e){pf.call(this,b,c,d,e);this.element=a}A(Vg,pf);Vg.prototype.Ke=ga;Vg.prototype.$f=function(){this.Ke();Vg.f.$f.call(this)};Vg.prototype.uc=function(){this.Ke();Vg.f.uc.call(this)};Vg.prototype.Mb=function(){this.Ke();Vg.f.Mb.call(this)};function Wg(a,b,c,d,e){ja(b)&&(b=[b]);ja(c)&&(c=[c]);Vg.call(this,a,b,c,d,e);(b.length!=1||c.length!=1)&&g(Error("Start and end points must be 1D"))}A(Wg,Vg);Wg.prototype.Ke=function(){ud(this.element,this.coords[0])};
Wg.prototype.show=function(){this.element.style.display=""};Wg.prototype.hide=function(){this.element.style.display="none"};function Xg(a,b,c){Wg.call(this,a,1,0,b,c)}A(Xg,Wg);Xg.prototype.Mb=function(){this.show();Xg.f.Mb.call(this)};Xg.prototype.uc=function(){this.hide();Xg.f.uc.call(this)};function Yg(a,b,c){Wg.call(this,a,0,1,b,c)}A(Yg,Wg);Yg.prototype.Mb=function(){this.show();Yg.f.Mb.call(this)};function Zg(a,b,c,d,e,f,h,i){var k,l=c.offsetParent;if(l){var m=l.tagName=="HTML"||l.tagName=="BODY";if(!m||hd(l,"position")!="static")k=od(l),m||(k=Kb(k,new J(l.scrollLeft,l.scrollTop)))}l=od(a);m=sd(a);l=new dd(l.x,l.y,m.width,m.height);(m=nd(a))&&l.gi(new dd(m.left,m.top,m.right-m.left,m.bottom-m.top));var m=Ub(a),n=Ub(c);if(m.j!=n.j){var o=m.j.body,n=n.j.parentWindow||n.j.defaultView,r=new J(0,0),p=K(o)?K(o).parentWindow||K(o).defaultView:window,E=o;do{var C=p==n?od(E):qd(E);r.x+=C.x;r.y+=C.y}while(p&&
p!=n&&(E=p.frameElement)&&(p=p.parent));o=Kb(r,od(o));F&&!ic(m)&&(o=Kb(o,jc(m)));l.left+=o.x;l.top+=o.y}a=(b&4&&pd(a)?b^2:b)&-5;b=new J(a&2?l.left+l.width:l.left,a&1?l.top+l.height:l.top);k&&(b=Kb(b,k));e&&(b.x+=(a&2?-1:1)*e.x,b.y+=(a&1?-1:1)*e.y);var x;if(h&&(x=nd(c))&&k)x.top-=k.y,x.right-=k.x,x.bottom-=k.y,x.left-=k.x;return $g(b,c,d,f,x,h,i)}
function $g(a,b,c,d,e,f,h){var a=a.clone(),i=0,k=(c&4&&pd(b)?c^2:c)&-5,c=sd(b),h=h?h.clone():c.clone();if(d||k!=0)k&2?a.x-=h.width+(d?d.right:0):d&&(a.x+=d.left),k&1?a.y-=h.height+(d?d.bottom:0):d&&(a.y+=d.top);if(f){if(e){i=a;d=0;if((f&65)==65&&(i.x<e.left||i.x>=e.right))f&=-2;if((f&132)==132&&(i.y<e.top||i.y>=e.bottom))f&=-5;if(i.x<e.left&&f&1)i.x=e.left,d|=1;i.x<e.left&&i.x+h.width>e.right&&f&16&&(h.width-=i.x+h.width-e.right,d|=4);if(i.x+h.width>e.right&&f&1)i.x=Math.max(e.right-h.width,e.left),
d|=1;f&2&&(d|=(i.x<e.left?16:0)|(i.x+h.width>e.right?32:0));if(i.y<e.top&&f&4)i.y=e.top,d|=2;i.y>=e.top&&i.y+h.height>e.bottom&&f&32&&(h.height-=i.y+h.height-e.bottom,d|=8);if(i.y+h.height>e.bottom&&f&4)i.y=Math.max(e.bottom-h.height,e.top),d|=2;f&8&&(d|=(i.y<e.top?64:0)|(i.y+h.height>e.bottom?128:0));i=d}else i=256;if(i&496)return i}id(b,a);if(!(c==h||(!c||!h?0:c.width==h.width&&c.height==h.height)))e=ic(Ub(K(b))),F&&(!e||!I("8"))?(a=b.style,e?(F?(e=vd(b,gd(b,"paddingLeft")),c=vd(b,gd(b,"paddingRight")),
f=vd(b,gd(b,"paddingTop")),d=vd(b,gd(b,"paddingBottom")),e=new cd(f,c,d,e)):(e=fd(b,"paddingLeft"),c=fd(b,"paddingRight"),f=fd(b,"paddingTop"),d=fd(b,"paddingBottom"),e=new cd(parseFloat(f),parseFloat(c),parseFloat(d),parseFloat(e))),F?(c=xd(b,"borderLeft"),f=xd(b,"borderRight"),d=xd(b,"borderTop"),b=xd(b,"borderBottom"),b=new cd(d,f,b,c)):(c=fd(b,"borderLeftWidth"),f=fd(b,"borderRightWidth"),d=fd(b,"borderTopWidth"),b=fd(b,"borderBottomWidth"),b=new cd(parseFloat(d),parseFloat(f),parseFloat(b),parseFloat(c))),
a.pixelWidth=h.width-b.left-e.left-e.right-b.right,a.pixelHeight=h.height-b.top-e.top-e.bottom-b.bottom):(a.pixelWidth=h.width,a.pixelHeight=h.height)):(b=b.style,G?b.MozBoxSizing="border-box":H?b.WebkitBoxSizing="border-box":b.boxSizing="border-box",b.width=h.width+"px",b.height=h.height+"px");return i};function ah(){}ah.prototype.La=aa();function bh(a,b){this.element=a;this.rh=b}A(bh,ah);bh.prototype.La=function(a,b,c){Zg(this.element,this.rh,a,b,j,c)};function ch(a,b){this.$e=a instanceof J?a:new J(a,b)}A(ch,ah);ch.prototype.La=function(a,b,c,d){Zg(kd(a),0,a,b,this.$e,c,q,d)};function dh(a){this.ma=a;this.D=[]}A(dh,nc);var eh=[];function X(a,b,c,d,e){v(c)||(eh[0]=c,c=eh);for(var f=0;f<c.length;f++)a.D.push(P(b,c[f],d||a,e||!1,a.ma||a));return a}function fh(a,b,c,d,e,f){if(v(c))for(var h=0;h<c.length;h++)fh(a,b,c[h],d,e,f);else{a:{d=d||a;f=f||a.ma||a;e=!!e;if(b=Tc(b,c,e))for(c=0;c<b.length;c++)if(!b[c].Sb&&b[c].Va==d&&b[c].capture==e&&b[c].Td==f){b=b[c];break a}b=q}if(b)b=b.key,Uc(b),Ta(a.D,b)}return a}dh.prototype.removeAll=function(){D(this.D,Uc);this.D.length=0};
dh.prototype.g=function(){dh.f.g.call(this);this.removeAll()};dh.prototype.handleEvent=function(){g(Error("EventHandler.handleEvent not implemented"))};function gh(a,b,c,d,e){if(!F&&(!H||!I("525")))return!0;if(ib&&e)return hh(a);if(e&&!d)return!1;if(!c&&(b==17||b==18))return!1;if(F&&d&&b==a)return!1;switch(a){case 13:return!(F&&Db());case 27:return!H}return hh(a)}
function hh(a){if(a>=48&&a<=57)return!0;if(a>=96&&a<=106)return!0;if(a>=65&&a<=90)return!0;if(H&&a==0)return!0;switch(a){case 32:case 63:case 107:case 109:case 110:case 111:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:return!0;default:return!1}};function ih(a,b){this.ma=new dh(this);this.qg(a||q);b&&this.Bc(b)}A(ih,S);t=ih.prototype;t.a=q;t.Uj=!0;t.gh=q;t.va=!1;t.jm=!1;t.Lf=-1;t.mi=-1;t.Mk=!1;t.tk=!0;t.qa="toggle_display";t.Bc=ba("qa");t.h=s("a");t.qg=function(a){this.va&&g(Error("Can not change this state of the popup while showing."));this.a=a};
function jh(a,b){a.jd&&a.jd.stop();a.Tc&&a.Tc.stop();if(b){if(!a.va&&a.ag()){a.a||g(Error("Caller must call setElement before trying to show the popup"));a.La();var c=K(a.a);a.Mk&&X(a.ma,c,"keydown",a.tl,!0);if(a.Uj)if(X(a.ma,c,"mousedown",a.Ji,!0),F){var d;try{d=c.activeElement}catch(e){}for(;d&&d.nodeName=="IFRAME";){try{var f=hc(d)}catch(h){break}c=f;d=c.activeElement}X(a.ma,c,"mousedown",a.Ji,!0);X(a.ma,c,"deactivate",a.Ii)}else X(a.ma,c,"blur",a.Ii);a.qa=="toggle_display"?(a.a.style.visibility=
"visible",R(a.a,!0)):a.qa=="move_offscreen"&&a.La();a.va=!0;a.jd?(Rc(a.jd,"end",a.ne,!1,a),a.jd.play()):a.ne()}}else kh(a)}t.La=ga;function kh(a,b){if(!a.va||!a.dispatchEvent({type:"beforehide",target:b}))return!1;a.ma&&a.ma.removeAll();a.Tc?(Rc(a.Tc,"end",ta(a.nh,b),!1,a),a.Tc.play()):a.nh(b);return!0}t.nh=function(a){if(this.qa=="toggle_display")this.jm?me(this.bi,0,this):this.bi();else if(this.qa=="move_offscreen")this.a.style.left="-200px",this.a.style.top="-200px";this.va=!1;this.cg(a)};
t.bi=function(){this.a.style.visibility="hidden";R(this.a,!1)};t.ag=function(){return this.dispatchEvent("beforeshow")};t.ne=function(){this.Lf=z();this.mi=-1;this.dispatchEvent("show")};t.cg=function(a){this.mi=z();this.dispatchEvent({type:"hide",target:a})};t.Ji=function(a){a=a.target;!gc(this.a,a)&&(!this.gh||gc(this.gh,a))&&!(z()-this.Lf<150)&&kh(this,a)};t.tl=function(a){a.keyCode==27&&kh(this,a.target)&&(a.preventDefault(),a.stopPropagation())};
t.Ii=function(a){if(this.tk){var b=K(this.a);if(F||pb){if(a=b.activeElement,!a||gc(this.a,a)||a.tagName=="BODY")return}else if(a.target!=b)return;z()-this.Lf<150||kh(this)}};t.g=function(){ih.f.g.call(this);this.ma.G();pc(this.jd);pc(this.Tc);delete this.a;delete this.ma};function lh(a,b){this.Ul=4;this.ig=b||j;ih.call(this,a)}A(lh,ih);lh.prototype.xe=function(a){this.ig=a||j;this.va&&this.La()};lh.prototype.La=function(){if(this.ig){var a=!this.va&&this.qa!="move_offscreen",b=this.h();if(a)b.style.visibility="hidden",R(b,!0);this.ig.La(b,this.Ul,this.bn);a&&R(b,!1)}};function mh(a,b,c){this.aa=c||(a?Ub(L(a)):Ub());lh.call(this,this.aa.Ba("div",{style:"position:absolute;display:none;"}));this.df=new J(1,1);this.wb=new ne;a&&this.Ve(a);if(b!=q)if(a=this.h(),"textContent"in a)a.textContent=b;else if(a.firstChild&&a.firstChild.nodeType==3){for(;a.lastChild!=a.firstChild;)a.removeChild(a.lastChild);a.firstChild.data=b}else{for(;c=a.firstChild;)a.removeChild(c);a.appendChild(K(a).createTextNode(b))}}A(mh,lh);var nh=[];t=mh.prototype;t.Z=q;t.className="goog-tooltip";
t.Zi=500;t.ai=0;t.tf=s("aa");t.Ve=function(a){a=L(a);this.wb.add(a);P(a,"mouseover",this.Vh,!1,this);P(a,"mouseout",this.Sd,!1,this);P(a,"mousemove",this.Uh,!1,this);P(a,"focus",this.Sh,!1,this);P(a,"blur",this.Sd,!1,this)};t.detach=function(a){if(a)a=L(a),oh(this,a),this.wb.remove(a);else{for(var b=this.wb.C(),c=0;a=b[c];c++)oh(this,a);this.wb.clear()}};
function oh(a,b){Sc(b,"mouseover",a.Vh,!1,a);Sc(b,"mouseout",a.Sd,!1,a);Sc(b,"mousemove",a.Uh,!1,a);Sc(b,"focus",a.Sh,!1,a);Sc(b,"blur",a.Sd,!1,a)}t.qg=function(a){var b=this.h();b&&fc(b);mh.f.qg.call(this,a);if(a)b=this.aa.j.body,b.insertBefore(a,b.lastChild)};t.getState=function(){return this.qb?this.va?4:1:this.Sc?3:this.va?2:0};
t.ag=function(){if(!ih.prototype.ag.call(this))return!1;if(this.anchor)for(var a,b=0;a=nh[b];b++)gc(a.h(),this.anchor)||jh(a,!1);Ra(nh,this)>=0||nh.push(this);a=this.h();a.className=this.className;ph(this);P(a,"mouseover",this.Yh,!1,this);P(a,"mouseout",this.Xh,!1,this);qh(this);return!0};
t.cg=function(){Ta(nh,this);for(var a=this.h(),b,c=0;b=nh[c];c++)b.anchor&&gc(a,b.anchor)&&jh(b,!1);this.Pi&&rh(this.Pi);Sc(a,"mouseover",this.Yh,!1,this);Sc(a,"mouseout",this.Xh,!1,this);this.anchor=j;if(this.getState()==0)this.ve=!1;ih.prototype.cg.call(this)};t.yi=function(a,b){if(this.anchor==a&&this.wb.contains(this.anchor))if(this.ve||!this.hn){if(jh(this,!1),!this.va)this.anchor=a,this.xe(b||sh(this,0)),jh(this,!0)}else this.anchor=j;this.qb=j};
t.gl=function(a){this.Sc=j;a==this.anchor&&(this.Z==q||this.Z!=this.h()&&!this.wb.contains(this.Z))&&(!this.mh||!this.mh.Z)&&jh(this,!1)};function th(a,b){var c=jc(a.aa);a.df.x=b.clientX+c.x;a.df.y=b.clientY+c.y}t.Vh=function(a){var b=yh(this,a.target);this.Z=b;ph(this);if(b!=this.anchor){this.anchor=b;if(!this.qb)this.qb=me(y(this.yi,this,b,j),this.Zi);zh(this);th(this,a)}};function yh(a,b){try{for(;b&&!a.wb.contains(b);)b=b.parentNode;return b}catch(c){return q}}
t.Uh=function(a){th(this,a);this.ve=!0};t.Sh=function(a){this.Z=a=yh(this,a.target);this.ve=!0;if(this.anchor!=a){this.anchor=a;var b=sh(this,1);ph(this);if(!this.qb)this.qb=me(y(this.yi,this,a,b),this.Zi);zh(this)}};function sh(a,b){if(b==0){var c=a.df.clone();return new Ah(c)}return new Bh(a.Z)}function zh(a){if(a.anchor)for(var b,c=0;b=nh[c];c++)if(gc(b.h(),a.anchor))b.mh=a,a.Pi=b}
t.Sd=function(a){var b=yh(this,a.target),c=yh(this,a.relatedTarget);if(b!=c){if(b==this.Z)this.Z=q;qh(this);this.ve=!1;this.va&&(!a.relatedTarget||!gc(this.h(),a.relatedTarget))?rh(this):this.anchor=j}};t.Yh=function(){var a=this.h();if(this.Z!=a)ph(this),this.Z=a};t.Xh=function(a){var b=this.h();if(this.Z==b&&(!a.relatedTarget||!gc(b,a.relatedTarget)))this.Z=q,rh(this)};function qh(a){if(a.qb)ke.clearTimeout(a.qb),a.qb=j}function rh(a){if(a.getState()==2)a.Sc=me(y(a.gl,a,a.anchor),a.ai)}
function ph(a){if(a.Sc)ke.clearTimeout(a.Sc),a.Sc=j}t.g=function(){jh(this,!1);qh(this);this.detach();this.h()&&fc(this.h());this.Z=q;delete this.aa;mh.f.g.call(this)};function Ah(a,b){ch.call(this,a,b)}A(Ah,ch);Ah.prototype.La=function(a,b,c){b=kd(a);b=nd(b);c=c?new cd(c.top+10,c.right,c.bottom,c.left+10):new cd(10,0,0,10);$g(this.$e,a,4,c,b,9)&496&&$g(this.$e,a,4,c,b,5)};function Bh(a){bh.call(this,a,3)}A(Bh,bh);
Bh.prototype.La=function(a,b,c){var d=new J(10,0);Zg(this.element,this.rh,a,b,d,c,9)&496&&Zg(this.element,2,a,1,d,c,5)};function Ch(a,b){N.call(this,"navigate");this.xm=a;this.$m=b}A(Ch,N);function Dh(a,b,c,d){a&&!b&&g(Error("Can't use invisible history without providing a blank page."));var e;c?e=c:(e="history_state"+Eh,document.write(wa(Fh,e,e)),e=L(e));this.Rc=e;this.Ma=c?K(c)?K(c).parentWindow||K(c).defaultView:window:window;this.Wj=this.Ma.location.href.split("#")[0];this.Ud=b;if(F&&!b)this.Ud=window.location.protocol=="https"?"https:///":'javascript:""';this.u=new je(Gh);this.$b=!a;this.J=new dh(this);if(a||F&&!Hh)d?a=d:(a="history_iframe"+Eh,b=this.Ud?'src="'+Da(this.Ud)+'"':
"",document.write(wa(Ih,a,b)),a=L(a)),this.Vd=a,this.lj=!0;if(F&&!Hh)X(this.J,this.Ma,"load",this.ul),this.Yi=this.mf=!1;this.$b?Jh(this,Kh(this),!0):Lh(this,this.Rc.value);Eh++}A(Dh,S);Dh.prototype.V=!1;Dh.prototype.tc=!1;Dh.prototype.rc=q;var Hh=F&&document.documentMode>=8||G&&I("1.9.2")||H&&I("532.1");t=Dh.prototype;t.sc=q;t.g=function(){Dh.f.g.call(this);this.J.G();this.Vb(!1)};
t.Vb=function(a){if(a!=this.V)if(F&&!Hh&&!this.mf)this.Yi=a;else if(a)if(pb?X(this.J,this.Ma.document,Mh,this.Nl):G&&X(this.J,this.Ma,"pageshow",this.ne),Hh&&this.$b)X(this.J,this.Ma,"hashchange",this.yl),this.V=!0,this.dispatchEvent(new Ch(Kh(this),!1));else{if(!F||this.mf){X(this.J,this.u,le,y(this.lh,this,!0));this.V=!0;if(!F)this.rc=Kh(this);this.u.start();this.dispatchEvent(new Ch(Kh(this),!1))}}else this.V=!1,this.J.removeAll(),this.u.stop()};
t.ul=function(){this.mf=!0;this.Rc.value&&Lh(this,this.Rc.value,!0);this.Vb(this.Yi)};t.ne=function(a){a.R.persisted&&(this.Vb(!1),this.Vb(!0))};t.yl=function(){var a=Nh(this.Ma);a!=this.rc&&this.za(a,!0)};function Kh(a){return a.sc!=q?a.sc:a.$b?Nh(a.Ma):Oh(a)||""}function Nh(a){var a=a.location.href,b=a.indexOf("#");return b<0?"":a.substring(b+1)}function Ph(a,b){if(Kh(a)!=b)a.$b?(Jh(a,b,!1),Hh||F&&Lh(a,b,!1,j),a.V&&a.lh(!1)):(Lh(a,b,!1),a.sc=a.rc=a.Rc.value=b,a.dispatchEvent(new Ch(b,!1)))}
function Jh(a,b,c){var d=a.Ma.location,a=a.Wj,e=d.href.indexOf("#")!=-1;if(F||e||b)a+="#"+b;if(a!=d.href)c?d.replace(a):d.href=a}function Lh(a,b,c,d){if(a.lj||b!=Oh(a))if(a.lj=!1,b=za(b),F){var e=hc(a.Vd);e.open("text/html",c?"replace":j);e.write(wa(Qh,Da(d||a.Ma.document.title),b));e.close()}else if(b=a.Ud+"#"+b,a=a.Vd.contentWindow)c?a.location.replace(b):a.location.href=b}
function Oh(a){if(F)return a=hc(a.Vd),a.body?Ca(a.body.innerHTML):q;else{var b=a.Vd.contentWindow;if(b){var c;try{c=Ca(Nh(b))}catch(d){if(!a.tc)a.tc!=!0&&a.u.setInterval(Rh),a.tc=!0;return q}if(a.tc)a.tc!=!1&&a.u.setInterval(Gh),a.tc=!1;return c||q}else return q}}t.lh=function(a){if(this.$b){var b=Nh(this.Ma);b!=this.rc&&this.za(b,a)}if(!this.$b||F&&!Hh)if(b=Oh(this)||"",this.sc==q||b==this.sc)this.sc=q,b!=this.rc&&this.za(b,a)};
t.za=function(a,b){this.rc=this.Rc.value=a;this.$b?(F&&!Hh&&Lh(this,a),Jh(this,a)):Lh(this,a);this.dispatchEvent(new Ch(Kh(this),b))};t.Nl=function(){this.u.stop();this.u.start()};var Mh=["mousedown","keydown","mousemove"],Qh="<title>%s</title><body>%s</body>",Ih='<iframe id="%s" style="display:none" %s></iframe>',Fh='<input type="text" name="%s" id="%s" style="display:none">',Eh=0,Gh=150,Rh=1E4;function Sh(a){if(!a)this.history=new Dh,P(this.history,"navigate",y(this.zl,this));this.w=q;this.F=1;this.W={}}A(Sh,S);var xg="filter",yg="group";t=Sh.prototype;t.xc=function(a,b){this.history?a?Ph(this.history,a+"::"+(b||"")):Ph(this.history,""):Th(this,a,b)};function Th(a,b,c){window.pSUPERFLY&&window.pSUPERFLY.activity&&window.pSUPERFLY.activity(b);a.w=b;a.value=c;a.dispatchEvent(new Uh(b,c));a.Ok=b?!0:!1;a.dispatchEvent("history")}
t.zl=function(a){a=a.xm.replace(/%20/g," ").split("::");Th(this,a[0],a.length>1?a[1]:q)};t.getValue=s("value");t.pg=function(a){this.F=a;this.dispatchEvent("days")};t.getMinutes=function(){return{1:5,7:60,30:120}[this.F]};function Ag(a){return a.w=="Page"}t.yc=function(a,b){this.W[a]=b;this.dispatchEvent(new Vh(a,b))};function Uh(a,b){N.call(this,xg);this.filter=a;this.value=b}A(Uh,N);function Vh(a,b){N.call(this,yg);this.Rd=a;this.value=b}A(Vh,N);function Y(a,b,c,d,e,f){this.host=a;this.state=b;this.data=c;this.id=d;this.Ch=e;this.Bh=this.Ih=this.B=!1;this.state&&P(this.state,xg,this.me,!1,this);this.data&&P(this.data,"loaded",this.Fi,!1,this);f||this.vh()}A(Y,nc);t=Y.prototype;
t.vh=function(){if(this.id){if(!this.N)this.N=L(this.id+"Title");if(!this.e)this.e=L(this.id+"Widget");if(!this.ta)this.ta=L(this.id+"Expand");if(!this.Ga)this.Ga=L(this.id+"Help")}if(!this.title)this.title=this.N?this.N.innerHTML:q;this.ta&&P(this.ta,"click",y(this.zg,this));this.e&&!qb&&(P(this.e,"mousemove",y(this.ij,this,!0)),P(this.e,"mouseout",y(this.ij,this,!1)));if(this.Ga){this.pd=new mh(this.Ga,"");var a=this.ib(),b="";a.$c&&(b='<br><br><a class="tooltipLink" target=_blank href="/faq/#'+
a.$c+'">More Help</a>');a="<b>"+a.title+"</b><br><br>"+a.body+b;this.pd.h().innerHTML=a;this.pd.ai=500}};t.Fi=function(){if(!this.paused||!this.Bh)this.draw(),this.Bh=!0};t.me=function(){this.draw()};t.ij=function(a){var b=L(this.id+"Paused");if(b)b.innerHTML=a?"<span>Paused</span>":"",this.paused=a};t.Ek=s("e");
function Wh(a,b,c){var d=b&&!c,c=c&&b,b=!!a.Ch&&a.state.w==a.Ch,e=a.e;ud(e,d?0.3:1);if(a.id!="history"&&!a.bb&&d!=a.Ih)Xh(a,d?20:q),a.Ih=d;Jb(e,"selectedWidget",b);Jb(e,"filteredWidget",c&&!b)}function Xh(a,b){var c=sd(a.e).height;if(!a.dg)a.dg=c;var d=new pf([c],[b||(a.B?a.zb:a.dg)],500,zf);P(d,"animate",y(a.Ki,a));P(d,"finish",function(a){Wc(d);this.bb=!1;a.coords[0]==this.dg?this.e.style.height="":this.Ki(a)},!1,a);a.bb=!0;d.play()}
t.zg=function(){this.B=!this.B;this.ta&&(Jb(this.ta,"lessIcon",this.B),Jb(this.ta,"moreIcon",!this.B));this.zb&&Xh(this,this.B?this.zb:q);this.draw()};t.Ki=function(a){this.e.style.height=a.coords[0]+"px"};t.od=function(a,b){this.state.w==a&&(!b||b==this.state.getValue())?this.state.xc(q):this.state.xc(a,b)};
t.g=function(){Y.f.g.call(this);Sc(this.state,xg,this.me,!1,this);Sc(this.data,"loaded",this.Fi,!1,this);this.pd&&(this.pd.G(),delete this.pd);this.Ga&&(Wc(this.Ga),delete this.Ga);this.ta&&(Wc(this.ta),delete this.ta);this.e&&(Wc(this.e),fc(this.e),delete this.e)};function Yh(a,b,c){Y.call(this,a,b,c,"conversation");P(L("conversationSettings"),"click",y(this.lm,this));P(L("conversationSubmit"),"click",y(this.cm,this));this.pi=this.zb=q}A(Yh,Y);t=Yh.prototype;t.ib=function(){return{title:"Conversations",body:"Recent tweets discussing or linking to your site. To change search terms, click on settings."}};t.lm=function(){L("conversationField").value=this.data.gc.ud;L("conversationForm").style.display!="none"?this.Ni():(new Yg(L("conversationForm"),300)).play()};
t.Ni=function(){(new Xg(L("conversationForm"),300)).play()};
t.cm=function(){var a=L("conversationField");this.data.gc.ud=a.value.split(",");this.data.sf();var b=new Bd({keywords:a.value,host:this.data.L.host}),a=zd(b);typeof a=="undefined"&&g(Error("Keys are undefined"));b=yd(b);a.length!=b.length&&g(Error("Mismatched lengths for keys/values"));for(var c=new Md(q,j,j),d=0;d<a.length;d++)c.add(a[d],b[d]);a="/dashapi/twitterwords/?"+c.toString();b=y(this.Ni,this);c=new We;Ye.push(c);b&&P(c,"complete",b);P(c,"ready",ta(Ze,c));c.send(a,"GET",j,j)};
t.draw=function(){Wh(this,!!this.state.w||!!this.data.z,!1);var a=this.data.gc.getData();if(!(this.B==this.Zk&&a==this.pi)&&a){Q(L("tweetContents"),"overflowY",this.B?"auto":"hidden");Q(L("tweetContents"),"height",this.B?this.zb-60+"px":"");this.pi=a;this.Zk=this.B;for(var b=[],c=q,d=this.B?a.length:Math.min(5,a.length),e=0;e<d;e++){var f=a[e];if(f.id==c)d++;else{var c=f.id,h=f.text||"",h=h.replace(/(<|>|\&lt;|\&gt;)\/?script/i,""),i=f.from_user;b.push('<div class="conversation clearfix">                  <a href="http://twitter.com/',
i,'" class="thumbnail" target="_blank">                    <img src="',f.profile_image_url,'" alt="',i,'\'s Profile Picture">                  </a>                  <a href="http://twitter.com/',i,'" class="username" target="_blank">',i,'</a>                  <span class="timestamp">',Tg(f.vb),"</span>                  <p>",h,"</p>                </div>")}}L("tweetContents").innerHTML=b.join("")}};var Zh={Lg:".",Og:",",Sg:"%",Ec:"0",Fj:"+",Bj:"-",Ng:"E",Tg:"\u2030",Se:"\u221e",Cj:"NaN",vj:"#,##0.###",Gj:"#E0",Ej:"#,##0%",uj:"\u00a4#,##0.00;(\u00a4#,##0.00)",wj:"USD"},Z=Zh,Z=Zh;var $h={AED:"\u062f.\u0625",ARS:"$",AUD:"$",BDT:"\u09f3",BRL:"R$",CAD:"$",CHF:"Fr.",CLP:"$",CNY:"\u00a5",COP:"$",CRC:"\u20a1",CUP:"$",CZK:"K\u010d",DKK:"kr",DOP:"$",EGP:"\u00a3",EUR:"\u20ac",GBP:"\u00a3",HKD:"$",HRK:"kn",HUF:"Ft",IDR:"Rp",ILS:"\u20aa",INR:"Rs",IQD:"\u0639\u062f",ISK:"kr",JMD:"$",JPY:"\u00a5",KRW:"\u20a9",KWD:"\u062f.\u0643",LKR:"Rs",LVL:"Ls",MNT:"\u20ae",MXN:"$",MYR:"RM",NOK:"kr",NZD:"$",PAB:"B/.",PEN:"S/.",PHP:"P",PKR:"Rs.",PLN:"z\u0142",RON:"L",RUB:"\u0440\u0443\u0431",SAR:"\u0633.\u0631",
SEK:"kr",SGD:"$",SKK:"Sk",SYP:"SYP",THB:"\u0e3f",TRY:"TL",TWD:"NT$",USD:"$",UYU:"$",VEF:"Bs.F",VND:"\u20ab",XAF:"FCFA",XCD:"$",YER:"YER",ZAR:"R"};function ai(a,b){this.hi=b||Z.wj;this.fk=$h[this.hi];this.fe=40;this.wa=1;this.Uf=3;this.ge=this.Zc=0;this.nj=!1;this.fd=this.Ob="";this.ob="-";this.bd="";this.ad=1;this.yf=3;this.Le=this.uh=!1;typeof a=="number"?this.cc(a):this.ra(a)}
ai.prototype.ra=function(a){this.gn=a.replace(/ /g,"\u00a0");var b=[0];this.Ob=bi(this,a,b);for(var c=b[0],d=-1,e=0,f=0,h=0,i=-1,k=a.length,l=!0;b[0]<k&&l;b[0]++)switch(a.charAt(b[0])){case "#":f>0?h++:e++;i>=0&&d<0&&i++;break;case "0":h>0&&g(Error('Unexpected "0" in pattern "'+a+'"'));f++;i>=0&&d<0&&i++;break;case ",":i=0;break;case ".":d>=0&&g(Error('Multiple decimal separators in pattern "'+a+'"'));d=e+f+h;break;case "E":this.Le&&g(Error('Multiple exponential symbols in pattern "'+a+'"'));this.Le=
!0;this.ge=0;if(b[0]+1<k&&a.charAt(b[0]+1)=="+")b[0]++,this.nj=!0;for(;b[0]+1<k&&a.charAt(b[0]+1)=="0";)b[0]++,this.ge++;(e+f<1||this.ge<1)&&g(Error('Malformed exponential pattern "'+a+'"'));l=!1;break;default:b[0]--,l=!1}f==0&&e>0&&d>=0&&(f=d,f==0&&f++,h=e-f,e=f-1,f=1);(d<0&&h>0||d>=0&&(d<e||d>e+f)||i==0)&&g(Error('Malformed pattern "'+a+'"'));h=e+f+h;this.Uf=d>=0?h-d:0;if(d>=0&&(this.Zc=e+f-d,this.Zc<0))this.Zc=0;this.wa=(d>=0?d:h)-e;if(this.Le&&(this.fe=e+this.wa,this.Uf==0&&this.wa==0))this.wa=
1;this.yf=Math.max(0,i);this.uh=d==0||d==h;c=b[0]-c;this.fd=bi(this,a,b);b[0]<a.length&&a.charAt(b[0])==ci?(b[0]++,this.ob=bi(this,a,b),b[0]+=c,this.bd=bi(this,a,b)):(this.ob=this.Ob+this.ob,this.bd+=this.fd)};ai.prototype.cc=function(a){switch(a){case 1:this.ra(Z.vj);break;case 2:this.ra(Z.Gj);break;case 3:this.ra(Z.Ej);break;case 4:this.ra(Z.uj);break;default:g(Error("Unsupported pattern type."))}};
ai.prototype.parse=function(a,b){var c=b||[0],d=NaN,a=a.replace(/ /g,"\u00a0"),e=a.indexOf(this.Ob,c[0])==c[0],f=a.indexOf(this.ob,c[0])==c[0];e&&f&&(this.Ob.length>this.ob.length?f=!1:this.Ob.length<this.ob.length&&(e=!1));e?c[0]+=this.Ob.length:f&&(c[0]+=this.ob.length);if(a.indexOf(Z.Se,c[0])==c[0])c[0]+=Z.Se.length,d=Infinity;else{for(var d=a,h=!1,i=!1,k=!1,l=1,m=Z.Lg,n=Z.Og,o=Z.Ng,r="";c[0]<d.length;c[0]++){var p=d.charAt(c[0]),E=di(p);if(E>=0&&E<=9)r+=E,k=!0;else if(p==m.charAt(0)){if(h||i)break;
r+=".";h=!0}else if(p==n.charAt(0)&&("\u00a0"!=n.charAt(0)||c[0]+1<d.length&&di(d.charAt(c[0]+1))>=0)){if(h||i)break}else if(p==o.charAt(0)){if(i)break;r+="E";i=!0}else if(p=="+"||p=="-")r+=p;else if(p==Z.Sg.charAt(0)){if(l!=1)break;l=100;if(k){c[0]++;break}}else if(p==Z.Tg.charAt(0)){if(l!=1)break;l=1E3;if(k){c[0]++;break}}else break}d=parseFloat(r)/l}if(e){if(a.indexOf(this.fd,c[0])!=c[0])return NaN;c[0]+=this.fd.length}else if(f){if(a.indexOf(this.bd,c[0])!=c[0])return NaN;c[0]+=this.bd.length}return f?
-d:d};
ai.prototype.format=function(a){if(isNaN(a))return Z.Cj;var b=[],c=a<0||a==0&&1/a<0;b.push(c?this.ob:this.Ob);if(isFinite(a))if(a*=c?-1:1,a*=this.ad,this.Le)if(a==0)ei(this,a,this.wa,b),fi(this,0,b);else{var d=Math.floor(Math.log(a)/Math.log(10));a/=Math.pow(10,d);var e=this.wa;if(this.fe>1&&this.fe>this.wa){for(;d%this.fe!=0;)a*=10,d--;e=1}else this.wa<1?(d++,a/=10):(d-=this.wa-1,a*=Math.pow(10,this.wa-1));ei(this,a,e,b);fi(this,d,b)}else ei(this,a,this.wa,b);else b.push(Z.Se);b.push(c?this.bd:this.fd);
return b.join("")};
function ei(a,b,c,d){for(var e=Math.pow(10,a.Uf),b=Math.round(b*e),f=Math.floor(b/e),h=Math.floor(b-f*e),i=a.Zc>0||h>0,k="",b=f;b>1.0E20;)k="0"+k,b=Math.round(b/10);var k=b+k,l=Z.Lg,m=Z.Og,b=Z.Ec.charCodeAt(0),n=k.length;if(f>0||c>0){for(f=n;f<c;f++)d.push(Z.Ec);for(f=0;f<n;f++)d.push(String.fromCharCode(b+k.charAt(f)*1)),n-f>1&&a.yf>0&&(n-f)%a.yf==1&&d.push(m)}else i||d.push(Z.Ec);(a.uh||i)&&d.push(l);c=""+(h+e);for(e=c.length;c.charAt(e-1)=="0"&&e>a.Zc+1;)e--;for(f=1;f<e;f++)d.push(String.fromCharCode(b+c.charAt(f)*
1))}function fi(a,b,c){c.push(Z.Ng);b<0?(b=-b,c.push(Z.Bj)):a.nj&&c.push(Z.Fj);for(var b=""+b,d=b.length;d<a.ge;d++)c.push(Z.Ec);c.push(b)}function di(a){a=a.charCodeAt(0);if(48<=a&&a<58)return a-48;else{var b=Z.Ec.charCodeAt(0);return b<=a&&a<b+10?a-b:-1}}var ci=";";
function bi(a,b,c){for(var d="",e=!1,f=b.length;c[0]<f;c[0]++){var h=b.charAt(c[0]);if(h=="'")c[0]+1<f&&b.charAt(c[0]+1)=="'"?(c[0]++,d+="'"):e=!e;else if(e)d+=h;else switch(h){case "#":case "0":case ",":case ".":case ci:return d;case "\u00a4":c[0]+1<f&&b.charAt(c[0]+1)=="\u00a4"?(c[0]++,d+=a.hi):d+=a.fk;break;case "%":a.ad!=1&&g(Error("Too many percent/permill"));a.ad=100;d+=Z.Sg;break;case "\u2030":a.ad!=1&&g(Error("Too many percent/permill"));a.ad=1E3;d+=Z.Tg;break;default:d+=h}}return d};function gi(a,b,c,d,e){this.Yd=!!e||!1;this.width=b;this.height=c;this.pe=this.Yd?8:0;this.Fk="#e0e0e0";this.lb=-1;this.ec=[d];this.canvas=M("canvas",{width:b,height:c+this.pe});L(a).appendChild(this.canvas)}gi.prototype.draw=function(a,b,c,d,e){if(e!=this.lb&&!this.bb)this.bb=!0,this.min=a,this.max=b,this.Om=c,this.zk=d,Lf([this.lb],[e],1500,this,Mf)};
gi.prototype.Za=function(a){var b=this.zk,c=a.coords[0],a=this.canvas.getContext("2d");a.clearRect(0,0,this.width,this.height+this.pe);for(var d=this.width/2,e=this.height,f=d+5,h=f*0.4,i=Math.PI*1.15,k=Math.PI*1.85,l=this.ec.length,m=k-i,n=m/l,o=0;o<l;o++){var r=i+n*o;a.fillStyle=this.Yd?this.Fk:this.ec[o];a.beginPath();a.moveTo(d,e);a.arc(d,e,f,r,r+n,!1);a.lineTo(d,e);a.closePath();a.fill()}if(this.Yd){l=this.ec[0];Gf.test(l)||g(Error("'"+l+"' is not a valid hex color"));l.length==4&&(l=l.replace(Bf,
"#$1$1$2$2$3$3"));var l=l.toLowerCase(),o=[parseInt(l.substr(1,2),16),parseInt(l.substr(3,2),16),parseInt(l.substr(5,2),16)],l=o[0]/255,n=o[1]/255,o=o[2]/255,r=Math.max(l,n,o),p=Math.min(l,n,o),E=0,C=0,x=0.5*(r+p);r!=p&&(r==l?E=60*(n-o)/(r-p):r==n?E=60*(o-l)/(r-p)+120:r==o&&(E=60*(l-n)/(r-p)+240),C=0<x&&x<=0.5?(r-p)/(2*x):(r-p)/(2-2*x));n=[Math.round(E+360)%360,C,x];l=n.slice();o=n.slice();l[2]=Math.min(l[2]*1.15,1);o[2]=Math.min(o[2]*0.75,1);n=a.createLinearGradient(d,e,i,k);n.addColorStop(0,Cf(Ff(o[0],
o[1],o[2])));n.addColorStop(1,Cf(Ff(l[0],l[1],l[2])));l=i+c/b*m;l<i?l=i:l>k&&(l=k);a.globalCompositeOperation="source-over";a.fillStyle=n;a.beginPath();a.moveTo(d,e);a.arc(d,e,f,i,l,!1);a.lineTo(d,e);a.closePath();a.fill()}a.globalCompositeOperation="destination-out";a.fillStyle="white";a.strokeStyle="white";a.beginPath();a.moveTo(d,e+this.pe);a.arc(d,e,h,i,k,!1);a.lineTo(d,e+this.pe);a.closePath();a.fill();a.stroke();b=c/b*m-m/2;c=Math.round(f/30)+1;e=!this.Yd?e-6:e;a.globalCompositeOperation="source-over";
a.save();a.strokeStyle="black";a.fillStyle="black";a.translate(d,e);a.rotate(b);a.beginPath();a.moveTo(c,c);a.lineTo(0,-1*f*1.1);a.lineTo(-1*c,c);a.quadraticCurveTo(0,10,c,c);a.closePath();a.fill();a.restore()};gi.prototype.dd=function(a){this.Za(a);this.bb=!1;this.lb=a.coords[0]};function hi(a){this.element=L(a);this.lb=0}var ii=new ai("#,##0");hi.prototype.setValue=function(a){Lf([this.lb],[a],1E3,this)};hi.prototype.Za=function(a){this.lb=a.coords[0];this.element.innerHTML=ii.format(a.coords[0])};hi.prototype.dd=function(a){this.Za(a)};function ji(a,b,c,d){Y.call(this,a,b,c,"count","Active Visits");this.hc=new Ng("EEE MMM d, h:mm:ss a");this.Yf=new ai("#,##0");this.Cb=new gi("countGauge",150,80,"#9ECAE1",!0);this.count=new hi("countCount");this.dn=new ki(a,b,c);this.Ic=L("countNew");this.bf=L("countReturning");(this.Di=d||!1)||P(this.e,"click",y(this.od,this,"Active Visits",q))}A(ji,Y);ji.prototype.ib=function(){return{title:"Active Visits",body:"Active visits are every page open by every visitor to your site right now.",$c:"activevisits"}};
ji.prototype.draw=function(){var a=Cg(this.data),b=this.state.w,c=this.state.getValue(),d=!b,e=!b;b?Ag(this.state)?(Wh(this,!0,!0),a&&this.count.setValue(a.total||a.people),e=!0):b=="Referrer"?(Wh(this,!0,!0),this.count.setValue($f(this.data.m.Eb(),c))):b=="Active Visits"?(Wh(this,!0,!0),d=e=!0):Wh(this,!0,!1):Wh(this,!1,!1);this.Di&&(d=!0);b=L("newReturning");R(L("countGaugeContainer"),d);b&&R(b,e);d=this.data.Fe;if(a)a=a.people||a.total,e=L("countCount"),a.toString().length>6?Q(e,"font-size","42px"):
Q(e,"font-size","52px"),isNaN(a)||(this.count.setValue(a),this.Cb.draw(0,0,0,d.get("people_max"),a)),L("countMin").innerHTML=this.Yf.format(d.get("people_min")),L("countMax").innerHTML=this.Yf.format(d.get("people_max"))};function ki(a,b,c){Y.call(this,a,b,c);this.oi=0;this.Ic=L("countNew");this.bf=L("countReturning");if(this.Ic&&this.bf)this.ll=new hi("countNew"),this.$l=new hi("countReturning")}A(ki,Y);
ki.prototype.draw=function(){var a=Cg(this.data);if(a){var b=a.total||a.people;this.Ic&&this.ll.setValue(a["new"]);b=a["return"]||b-a["new"];this.bf&&this.$l.setValue(b);a=a["new"]/(a["new"]+b);if(!this.bb)Lf([this.oi],[a],1E3,this,Mf),this.bb=!0}};ki.prototype.dd=function(a){this.Za(a);this.bb=!1;this.oi=a.coords[0]};
ki.prototype.Za=function(a){a=Math.ceil(a.coords[0]*36);if(!this.mm&&this.Ic){for(var b=0;b<36;b++){var c=L("newGauge"),d=b*5,e=M("div");Q(e,"position","absolute");id(e,d,0);rd(e,3,10);c.appendChild(e)}this.mm=!0}if(this.Ic){c=L("newGauge").childNodes;for(b=0;b<36;b++)Q(c[b],"backgroundColor",b<a?"darkblue":"lightblue")}};function li(a){this.a=L(a);this.Si=!1}li.prototype.lg=function(){this.a.appendChild(M("span",{},["Each "]));var a=M("span"),b=M("canvas");b.width=10;b.height=10;a.appendChild(b);b=b.getContext("2d");b.fillStyle="#ccc";b.beginPath();b.arc(5,5,5,0,Math.PI*2,!0);b.closePath();b.fill();this.a.appendChild(a);this.Hf=M("span");this.a.appendChild(this.Hf)};
li.prototype.draw=function(a,b,c,d){if(!this.Si)this.lg(),this.Si=!0;a=Math.round(a*100/b);this.Hf.innerHTML=[" = <strong>",c,'</strong> active visit(s). <span class="hide"><strong>',d," pages shown</strong> are <strong>",a,"%</strong> of active visits.</span> "].join("");c=M("div",{style:"position:relative; display: inline-block"});rd(c,30,20);for(d=10;d>0;d--){var b=a>0?"#9ECAE1":"#CCCCCC",e=M("div");Q(e,"backgroundColor",b);Q(e,"marginLeft",1);Q(e,"position","absolute");Q(e,"left",(10-d)*3+"px");
Q(e,"bottom","0px");rd(e,2,d);c.appendChild(e);a-=d*2}this.Hf.appendChild(c)};function mi(a,b,c,d,e,f,h){this.host=a;this.path=b;this.Ab=!0;this.Ri=!!h;c==b&&(c=c.replace(/([^A-Za-z0-9])/g,"&#8203;$1"));this.title=c;this.create();f&&P(this.Ca,"click",f);d.appendChild(this.Ca);this.t=e;this.x=this.y=this.Dc=this.count=0}mi.prototype.G=function(){Wc(this.Ca);fc(this.Ca)};mi.prototype.update=function(a,b,c,d,e,f,h){this.Xk=this.count;this.count=a;this.x=b;this.y=c;this.Dc=d;this.pk=e;this.ki=f;this.Ab=h;this.wh=!0};
mi.prototype.create=function(){this.N=M("div",{"class":"title"});this.af=M("div",{"class":"concurrents"});this.yg=M("div",{"class":"titleContainer"},this.af,this.N);this.canvas=M("canvas",{style:"position: absolute;"});var a=M("div",{style:"position: relative"},[this.yg,this.canvas]);this.Ca=M("div",{title:this.path,"class":"densityBox"},a);this.Ri||Q(this.Ca,"position","absolute");Jb(this.Ca,"selectableControl",this.hm)};
function ni(a,b,c,d,e,f,h){this.hm=!!f;mi.call(this,a,b,c,d,e,f,h);this.padding=2;this.Xb=22}A(ni,mi);function oi(a,b){var c=Math.round(b/a.t.yk),d=[10,10,12,14,14,16,18];return d[Math.min(d.length-1,c)]}ni.prototype.hb=function(a,b){var c=Math.floor((b-this.padding*2-this.Xb)/(this.t.Id+1)),d=Math.ceil(a/this.t.Me);return Math.ceil(d/c)*(this.t.Id+1)+oi(this,a)*2.5+this.padding*2+this.Xb+5};
function pi(a,b){var c=a.hb(a.count,a.Dc)-a.Xb;a.Ri||id(a.Ca,a.x,a.y);rd(a.Ca,a.Dc-a.Xb,c);Jb(a.Ca,"selectedControl",a.ki);var d="";if(b&&!a.ki&&!a.Ab){var e=0.5-Math.abs(b.coords[0]),f=a.count-a.Xk;f!=0&&(d=f>0?"rgba(0, 255, 0, "+e+")":"rgba(255, 0, 0, "+e+")")}Q(a.Ca,"backgroundColor",d);if(a.wh||a.Ab){a.wh=!1;var e=d=a.padding,f=oi(a,a.count)*2.5,h=a.Dc-a.Xb-a.padding*2;id(a.yg,d,e);rd(a.yg,h,f);Q(a.N,"fontSize",oi(a,a.count)+"px");Q(a.N,"lineHeight",oi(a,a.count)*1.25+"px");a.N.innerHTML=a.title;
Q(a.af,"fontSize",oi(a,a.count)*1.2+"px");a.af.innerHTML=a.count;e+=f+5;id(a.canvas,d,e);a.canvas.width=h;a.canvas.height=c-e-a.padding;var d=a.canvas.getContext("2d"),e=Math.floor((a.Dc-a.padding*2-a.Xb)/(a.t.Id+1)),f=a.t.Id,i=a.count/a.t.Me;d.clearRect(0,0,a.Dc-a.Xb,c);for(var c=f/2,h=a.pk,i=b&&a.Ab?(b.coords[0]+0.5)*i:i,k=0;k<i;k++){var l=c+Math.floor(k/e)*(f+1),m=c+k%e*(f+1);d.fillStyle=h[k];d.beginPath();d.arc(m,l,f/2,0,Math.PI*2,!0);d.closePath();d.fill()}}};function qi(a,b,c){Y.call(this,a,b,c,"density");this.zb=680;this.Aa={};this.Ab=!0;this.key=new li("densityKey");this.ic=new ai(1)}A(qi,Y);t=qi.prototype;t.ib=function(){return{title:"Top pages",body:"These are the top pages on your site, based on the number of people currently viewing them."}};
t.draw=function(){Wh(this,!!this.state.w,!0);var a=this.data.m;if(a&&bg(a)){var b=bg(a).people;if(!this.t){var c=[30,30,10,10,10,10,10,10,10,10,10,10,10],d=Math.floor(Math.log(b+1)/Math.log(4));d>=c.length&&g("undefined sitesize in Density widget!");this.t={Id:c[d],Me:[1,1,1,1,5,5,10,100,100,100,1E3,1E4,5E4][d],yk:[1,1,1,2,5,5,100,500,1E3,1E3,1E3,1E3,1E3][d]}}var a=a.data?a.data.toppages:q,c=this.B?640:250,d=240,e=L("density");Q(e,"height",c+"px");if(a&&b){for(var f=0,h=0,i={},k=0,l=0;l<a.length;l++){var m=
a[l].path,n=a[l].stats.people,o=a[l].title,r=this.Aa[m];r?delete this.Aa[m]:(r=y(this.le,this,m),r=new ni(this.host,m,o,e,this.t,r));i[m]=r;o=r.hb(n,d);o+h>c&&h!=0&&(f+=d,h=0,d*=0.8,o=r.hb(n,d));if(f+d>760){this.Aa[m]=r;delete i[m];break}k+=n;var p,E=m,C=a[l].stats;p=this.t.Me;var x=this.state.w,Aa=this.state.getValue(),V=C.read,oa=C.write,pa=C.people,Za=C["new"],Ba=[],O="#9ECAE1";if(x=="Engagement"){for(;oa>0;)Ba.push("#FE9929"),oa-=p,pa-=p;for(;V>0&&pa>0;)Ba.push("#FED98E"),V-=p,pa-=p;O="#B2ABD2"}else if(x==
"Page")O=Aa==E?"#cccccc":"#cccccc";else if(x=="Referrer"){if(!hg(this.data.re,this.draw,this)){O=this.data.re;C=j;if(!O.oc)for(C in O.oc={},C=j,O.data){var x=O.data[C].r.data,$a;for($a in x)(V=(V=$a.match(Ed)[3]||q)&&decodeURIComponent(V))&&V.indexOf("www.")==0&&(V=V.slice(4)),oa=O.oc[V],oa||(oa={},O.oc[V]=oa),oa[C]||(oa[C]=0),oa[C]+=x[$a]}C=O.oc;if(O=C[Aa])for(E=O[E];E>0;)Ba.push("orange"),E-=p,pa-=p;O="#cccccc"}}else if(x=="Performance")E=C.domload,typeof E=="object"&&(E=E.median),Aa=bg(this.data.m).domload,
typeof Aa=="object"&&(Aa=Aa.median),E&&Aa&&(O=Vf(E,Aa));else if(x=="Active Visits"){for(;Za>0;)Ba.push("darkblue"),Za-=p,pa-=p;O="lightblue"}for(;pa>0;)Ba.push(O),pa-=p;p=Ba;pa=this.state.w;Ba=this.state.getValue();r.update(n,f,h,d,p,pa=="Page"&&Ba==m,this.Ab);h+=o}this.Kf={Fg:k,m:l};for(m in this.Aa)this.Aa[m].G();this.Aa=i;this.Te&&this.Te.stop();this.Te=Lf([-0.5],[0.5],1E3,this);this.Ab=!1}this.Kf&&this.key.draw(this.Kf.Fg,b,parseInt(this.ic.format(this.t.Me),10),this.Kf.m)}};
t.le=function(a){this.od("Page",a)};t.Za=function(a){for(var b in this.Aa)pi(this.Aa[b],a)};t.dd=function(a){for(var b in this.Aa)pi(this.Aa[b],a);this.Te=q};function ri(a,b,c,d){this.element=L(a);this.ic=new ai(1);this.width=b;this.height=c;this.t={disableBubble:!1,xLabelAlign:"center",showPercentages:!1};this.I=this.ke=this.Xf=0;this.canvas=M("canvas",{width:b,height:c});L(a).appendChild(this.canvas);this.s=new si(c);this.S=new si(c);P(this.canvas,"mousemove",y(this.Bl,this));P(this.canvas,"mouseout",y(this.Cl,this));d&&P(this.canvas,"click",d);this.fa=q;this.xk=!1}t=ri.prototype;t.Qg={Kg:"dashed",Km:"solid"};t.Pg={xj:"dotted",tj:"circle"};
t.Cl=function(){this.fa=q;this.draw()};t.Bl=function(a){if(this.Oe&&!this.t.xh){var b=this.element,a=qd(a),b=qd(b),b=(new J(a.x-b.x,a.y-b.y)).x-this.I,b=Math.floor(b/this.ca);if(b!=this.fa)this.fa=b,this.draw()}};t.Ac=function(a){this.s.Ac(a);this.S.Ac(a)};t.Ub=function(a){this.s.Ub(a);this.S.Ub(a)};function ti(a,b,c,d){a.Oe=b;a.Xf=c;a.Hm=d;c>0&&(a.s.Ub(15),a.S.Ub(15));a.Ei=a.Oe.length;a.ca=(a.width-a.I)/a.Ei}function ui(a,b,c){a.di=b;a.Qk=c;b&&(a.s.Ub(30),a.S.Ub(30))}
function vi(a,b,c,d){a.s.ye(b,!0);a.ih=c;a.Vj=d}function wi(a,b,c,d){a.S.ye(b);a.dl=d;a.si=c;a.Nf=[];a.ri=[]}
t.draw=function(){var a=this.canvas.getContext("2d");a.clearRect(0,0,this.width,this.height);var b=this.s.C(),c=this.S.C();if(b||c){if(this.s.C())a:{if(this.ca>2)this.ca=Math.round(this.ca);for(var b=this.Vj,c=this.ca,d=this.s.C(),e=xi(this.s),f=this.Ei,h=0;h<f;h++){var i=this.I+c*h;if(h==this.fa)a.fillStyle="#EEEEEE",a.fillRect(i,0,c-1,this.s.height-this.s.tb);for(var k=e,l=0;l<b.length;l++){if(typeof d[l]==="undefined")break a;a.fillStyle=this.gg?this.gg[h]:b[l];var m=d[l][h],n=Math.round(this.s.hb(m));
m>0?(a.fillRect(i,k-n,c-1,n),k-=n):m<0&&a.fillRect(i,e,c-1,n)}}}if(this.S.C()){b=this.ca;c=this.dl;d=this.S.C();e=xi(this.S);for(i=h=f=0;i<d.length;i++)if(d[i].length>f)f=d[i].length;a.lineWidth=1.5;for(i=0;i<c.length;i++){a.strokeStyle=c[i];var k=!1,o,r;a.beginPath();for(l=0;l<f;l++)if(d[i][l]){var h=l,p=this.I+b*(l+0.5),m=e-this.S.hb(d[i][l]);this.Nf[i]&&this.Nf[i]===this.Qg.Kg?(n=e-this.S.hb(d[i][l+1]))&&yi(a,p,m,p+this.ca,n,0,Math.floor(this.ca/4)):k?a.lineTo(p,m):(a.moveTo(p,m),k=!0,o=p,r=m)}a.stroke();
if(this.Nf[i]!==this.Qg.Kg&&this.xk)a.globalAlpha=0.08,a.fillStyle=c[i],a.strokeStyle=c[i],a.lineTo(p,e),a.lineTo(o,e),a.lineTo(o,r),a.fill(),a.globalAlpha=1;l=(k=this.ri[i])&&k.qi&&k.qi===this.si[i];if(h&&h+1<f&&l)if(l=this.I+this.ca*(h+0.5),a.strokeStyle=this.ri[i].color,k.style===this.Pg.xj)yi(a,l,0,l+1,this.S.height-this.S.tb);else if(k.style===this.Pg.tj)k=e-this.S.hb(d[i][h]),a.beginPath(),a.fillStyle="#fff",a.lineWidth=3,a.arc(l,k,2,0,Math.PI*2,!0),a.closePath(),a.stroke(),a.fill()}}if(this.Xf){o=
this.Oe;a.font="8pt Helvetica";a.textAlign=this.t.Ig||"center";a.textBaseline="top";r=o.length/this.Xf;p=this.s.height-this.s.tb+2;for(b=0;b<o.length;b+=r)c=this.I+this.ca*(b+0.5),a.fillStyle="#999999",qb||a.fillText(o[Math.floor(b)],c,p)}if(this.di){a.fillStyle="#CC3333";o=this.di;r=this.s.height-this.s.tb+2;for(p=0;p<o.length;p++)o[p]&&(b=Math.round(this.ca*(p+0.5)+this.I),zi(a,b,r));zi(a,10,r+20);a.fillStyle="#999999";a.textAlign="left";a.textBaseline="bottom";qb||a.fillText(this.Qk,20,r+30)}if(this.s.Lb<
0)o=xi(this.s),a.beginPath(),a.strokeStyle="#CCCCCC",a.moveTo(this.I,o),a.lineTo(this.width-1,o),a.stroke();a.textAlign="right";a.textBaseline="bottom";a.fillStyle="#999999";o=(this.s.C()?this.s:this.S).vf(this.ke);r=o.length;p=!1;for(b=0;b<r;b++)if(c=o[b],c.label.length<4){p=!0;break}else p=!1;for(b=0;b<r;b++){c=o[b];if(c.label>999999)d=Math.round(c.label)/1E6,c.label=Math.round(d*10)/10+"M";else if(c.label>1E3&&c.label<1E4&&p)d=Math.round(c.label)/1E3,c.label=Math.round(d*10)/10+"K";else if(c.label>
1E3)c.label=Math.round(c.label/1E3)+"K";qb||a.fillText(c.label,this.I-4,c.position)}if(this.t.Dm){a.lineWidth=1;a.strokeStyle="#FFFFFF";o=xi(this.s);r=o/4;for(p=0;p<4;p++)a.beginPath(),a.moveTo(this.I,o-p*r),a.lineTo(this.width-1,o-p*r),a.stroke()}if(!qb)a:if(this.fa!=q&&this.fa>=0){o=this.s.C();r=this.S.C();p=[];b=0;for(c=o.length;b<c;b++){d=0;for(e=o[b].length;d<e;d++)isNaN(p[d])&&(p[d]=0),p[d]+=o[b][d]}if(o)for(d=o.length;d--;)if(e=o[d][this.fa],isNaN(e/p[this.fa]))break a;a.fillStyle="rgba(80, 80, 80, 0.9)";
a.strokeStyle="rgba(0, 0, 0, 0)";d=15+(o?o.length:0)*12+(r?12:0)+10;e=this.t.km?130:100;b=this.ca*(this.fa+0.5)+this.I;f=-1;c=Math.round(this.ca);b>this.width/2&&(f=1,c=parseInt("-"+this.ca,10));Math.abs(c)<20&&(b+=c);c=Math.max(xi(this.s)-d-4,0);a.beginPath();a.moveTo(b,c);a.lineTo(b,c+(d/2-5));a.lineTo(b+f*10,c+d/2);a.lineTo(b,c+(d/2+5));a.lineTo(b,c+d);a.lineTo(b+f*-1*e,c+d);a.lineTo(b+f*-1*e,c);a.lineTo(b,c);a.closePath();a.fill();a.stroke();f==1?b-=e-5:b+=5;c+=5;a.textAlign="left";a.textBaseline=
"top";a.font="8pt Helvetica";a.fillStyle="#FFFFFF";qb||a.fillText(this.Oe[this.fa]+" "+this.Hm,b,c);c+=15;if(o)for(d=o.length;d--;)qb||(e=o[d][this.fa],this.t.km?(f=Math.round(e/p[this.fa]*100),a.fillText(this.ic.format(Math.abs(e))+" - "+this.ih[d]+" ("+f+"%)",b,c)):a.fillText(this.ic.format(Math.abs(e))+" - "+this.ih[d],b,c)),c+=12;r&&(qb||a.fillText(r[0][this.fa]+" "+this.si[0],b,c))}}};
function zi(a,b,c){a.beginPath();a.moveTo(b,c);a.lineTo(b+5,c+10);a.lineTo(b-5,c+10);a.lineTo(b,c);a.closePath();a.fill()}function yi(a,b,c,d,e,f,h){a.beginPath();var i=d-b,k=e-c,f=h?h:Math.floor(Math.sqrt(i*i*k*k)/(f||2));i/=f;k/=f;for(h=0;h<f;h++)b+=i,c+=k,a[h%2===0?"moveTo":"lineTo"](b,c);a[h%2===0?"moveTo":"lineTo"](d,e);a.closePath();a.stroke()}function si(a){this.height=a;this.tb=this.Ag=0}t=si.prototype;t.Ac=ba("Ag");t.Ub=ba("tb");
t.ye=function(a,b){if(this.rb=a.length?a:q){var c=0,d=0,e=0;if(typeof a[0]==="undefined")this.Lb=this.de=0;else{for(var f=0;f<a.length;f++)e=Math.max(e,a[f].length);for(var h=0;h<e;h++){for(var i=0,f=0;f<a.length;f++){var k=a[f][h];k&&(d=Math.min(k,d),b?i+=k>0?k:0:i=Math.max(i,k))}c=Math.max(i,c)}this.Lb=d;c>50&&(c=Math.ceil(c/10)*10);c>200&&(c=Math.ceil(c/100)*100);this.de=c}this.jg=(this.height-(this.tb+this.Ag))/(this.de-this.Lb)}};t.C=s("rb");
t.hb=function(a){this.Lb>0&&(a-=this.Lb);return Math.abs(this.jg*a)};function xi(a){return a.de*a.jg+a.Ag}t.vf=function(a){if(!a)return[];for(var b=[],c=(this.de-this.Lb)/a,d=1;d<a+1;d++){var e=c*d+this.Lb;b.push({label:String(Math.abs(Math.floor(e))),position:this.height-this.tb-e*this.jg})}return b};function Ai(a,b,c,d){Y.call(this,a,b,c,"engagement","Engagement");this.Wl=new gi("readGauge",80,45,"#FED98E",!0);this.Gm=new gi("writeGauge",80,45,"#FE9929",!0);d||(Jb(this.e,"selectableWidget",!0),P(this.e,"click",y(this.od,this,"Engagement",q)));this.ic=new ai(1);this.Vl=new hi("readValue");this.Fm=new hi("writeValue");this.Sk=new hi("idleValue");if(this.oj=L("visitLengthChart"))this.Gg=new ri("visitLengthChart",180,120)}A(Ai,Y);
Ai.prototype.ib=function(){return{title:"Engagement",body:"Reading visitors are people actively on your page; they've moved their mouse or scrolled down in the last few seconds.<br><br>Writing visitors are actively on your site and typing something.<br><br>Idle visitors are not active on your site and might have it in the background or have left their computer.",$c:"engagement"}};
Ai.prototype.draw=function(){var a=this.data.Fe;if(a){var b=a.get("read_max"),c=a.get("write_max"),d=Cg(this.data),e=Dg(this.data),f=this.state.w,h=this.state.w=="Page",i=this.state.w=="Engagement",k=L("scrollDepthContainer");k&&R(k,h);Wh(this,!!f,h||i);if(d){if(e&&k){f=L("scrollDepthChart");f.innerHTML="";h=0;for(i=e.length;h<i;h++){var k=document.createElement("div"),l=document.createElement("span");l.innerHTML=this.ic.format(e[h]);var m=e[h]/e[0],m=Math.round(m*100)/100-0.15;k.appendChild(l);f.appendChild(k);
Q(k,"opacity",m)}}e=d.read;f=d.write;this.Wl.draw(a.get("read_min"),b,a.get("read_avg"),b,e);this.Gm.draw(a.get("write_min"),c,a.get("write_avg"),c,f);a=this.data;a.state.getValue();if(a=Ag(a.state)?a.z?q:dg(a.oa):dg(a.m)){b=["write","read","idle"];c=["#FE9929","#FED98E","#B2ABD2"];h=["writing","reading","idle"];i=[1,2,3,4,5,6,10,15,30,60];k=[];l=a.length;for(m=0;m<b.length;m++){for(var n=[],o=b[m],r=0;r<l;r++)n.push((o=="idle"?-1:1)*(a[r][o]||0));k.push(n)}this.oj&&(ti(this.Gg,i,i.length,"minutes"),
vi(this.Gg,k,h,c),this.Gg.draw())}this.Vl.setValue(e);this.Fm.setValue(f);this.Sk.setValue(d.idle)}}};function Bi(a){U.call(this,a,"");this.uri="/data_series/"}A(Bi,U);t=Bi.prototype;t.pg=function(a){this.k.days=a};t.setMinutes=function(a){this.k.minutes=a};t.Bc=function(a,b){this.k.type=a;this.k.val=b||""};t.ja=function(a){this.Bc("path",a)};t.Md=function(a,b,c,d,e){this.k.days=a;this.k.minutes=b;if(c)this.k.type=c,this.k.val=d||"";e&&(this.k.timestamp=e);this.o()};function Ci(a,b,c){Y.call(this,a,b,c,"history");this.U=new Bi(c.L);this.hc=new Ng("MMM d k:mm");this.xg=new Ng("k:mm");this.sa=new ri("bigHistoryChart",Di,190);this.sa.I=25;this.sa.t={Ig:"left",Dm:!0};this.sa.ke=4;this.sa.Ac(15);this.H=new ri("historyChart",Di,60);this.H.I=30;this.H.t={Ig:"left",xh:!0};this.H.ke=2;this.H.Ac(15);this.zb=240;P(this.state,"history",this.draw,!1,this);P(this.state,"days",this.draw,!1,this);P(this.U,"loaded",this.xa,!1,this)}A(Ci,Y);var Di=725;
Ci.prototype.draw=function(){var a=this.state.w,b=this.state.getValue(),c=this.state.Ok;R(L("historyWidget"),c);if(c){Wh(this,!0,!0);var c=this.state.F,d=this.state.getMinutes()*4,e=[a,b,c,d],f;if(!(f=!this.li)){a:if(f=this.li,!ia(f)||!ia(e)||f.length!=e.length)f=!1;else{for(var h=f.length,i=0;i<h;i++)if(f[i]!==e[i]){f=!1;break a}f=!0}f=!f}if(f){this.li=e;var k;this.Xc=a;a=="Page"||a=="Referrer"?k=a=="Page"?"page":"ref":a=="Engagement"?(k="summary",b="write,read,idle"):a=="Active Visits"?(k="summary",
b="new,return"):a=="Performance"&&(k="perf",b="");this.U.Md(c,d,k,b)}}};
Ci.prototype.xa=function(){var a=this.U.getData();if(a){var b=a.dates||a[0];if(b){var c=[],d=[],e=[],f=this.Xc,h=this.state.F>1?this.hc:this.xg,i=["#E84406"],k=["#666666"],l=[],m=[],n=q,o=q;f=="Page"||f=="Referrer"?(l.push(a[1]),c=["visits"],i=["lightblue"]):f=="Engagement"?(l.push(a.write),l.push(a.read),l.push(a.idle),i=["#FE9929","#FED98E","#B2ABD2"],c=["writing","reading","idle"]):f=="Performance"?(l.push(a.domload),c=["page load"],m.push(a.loadtime),d=["server load"],n=a.errmsg,i=["#74C476"],
o="Server downtime. (Uptime: "+Math.round(a.uptime*1E4)/100+"%)"):f=="Active Visits"&&(l.push(a["new"]),l.push(a["return"]),i=["darkblue","lightblue"],c=["new","returning"]);for(a=0;a<b.length;a++)e[a]=h.format(new Date(b[a]*1E3));R(L("bigHistoryChart"),this.B);R(L("historyChart"),!this.B);this.B?(ti(this.sa,e,8,""),ui(this.sa,n,o),vi(this.sa,l,c,i),wi(this.sa,m,d,k),this.sa.draw()):(ti(this.H,e,8,""),ui(this.H,n,o),vi(this.H,l,c,i),wi(this.H,m,d,k),this.H.draw())}}};
Ci.prototype.zg=function(){Ci.f.zg.call(this);this.xa()};function Ei(a){Bi.call(this,a);this.c=T("chartbeat.feeds.Bitly");this.data={};this.uri="/tpd_api/bitly_clicks"}A(Ei,Bi);Ei.prototype.ja=function(a){this.k.path=a};function Fi(a,b,c){this.title="BitlyHistory";this.c=T("chartbeat.widgets.BitlyHistory");this.Ad=new Ei(c.L);P(this.Ad,"loaded",y(this.xa,this));Ci.call(this,a,b,c)}A(Fi,Ci);Fi.prototype.draw=function(){Fi.f.draw.call(this)};function Gi(a,b){if(!a||a.length==0||!b||a.length==0)return[];a=Sa(a,function(a){return a?Math.round(a):0});a.length>b.length&&(a=Ya(a,a.length-b.length+1));return a}
Fi.prototype.me=function(){var a=this.state.getValue();if(a){var b=this.state.F,c=this.state.getMinutes()*4;this.Ad.ja(a);this.Ad.Md(b,c)}};Fi.prototype.xa=function(){Fi.f.xa.call(this);var a=this.Xc;if(!(a!="Page"&&a!="Referrer")){var b=this.Ad.getData();if(b&&b.data&&(a=this.U.getData())){var c=b.data.clicks,b=[],a=a[1],c=Gi(c,a);b.push(c);a=this.B?this.sa:this.H;wi(a,b,["bitly clicks"],["#666666"]);a.draw()}}};function Hi(a){Bi.call(this,a);this.c=T("chartbeat.feeds.Gnip");this.data={};this.uri="/tpd_api/references";Ii(this)}A(Hi,Bi);Hi.prototype.Md=function(a,b){this.k.days_ago=a-1;this.k.frequency=b;this.o()};Hi.prototype.yc=function(a,b){b?(this.k.group_name=b,this.k.group_type=a):Ii(this)};Hi.prototype.ja=function(a){a?(this.k.group_name=a,this.k.group_type="page"):Ii(this)};function Ii(a){a.k.group_name="site";a.k.group_type="site"};function Ji(a,b,c){this.title="GnipHistory";this.c=T("chartbeat.widgets.GnipHistory");this.Qd=new Hi(c.L);P(this.Qd,"loaded",y(this.xa,this));Ci.call(this,a,b,c)}A(Ji,Ci);Ji.prototype.draw=function(){Ji.f.draw.call(this)};function Ki(a,b){if(!a||a.length==0||!b||a.length==0)return[];a=Sa(a,function(a){return a?Math.round(a):0});a.length>b.length&&(a=Ya(a,a.length-b.length+1));return a}
Ji.prototype.me=function(){var a=this.state.getValue();if(a){var b=this.state.F,c=this.state.getMinutes()*4,d=this.Qd;d.k.group_name=a;d.k.group_type="page";this.Qd.Md(b,c)}};Ji.prototype.xa=function(){Ji.f.xa.call(this);var a=this.Xc;if(!(a!="Page"&&a!="Referrer")){var b=this.Qd.getData();if(b&&b.data&&(a=this.U.getData())){var c=b.data.references,b=[],a=a[1],c=Ki(c,a);b.push(c);a=this.B?this.sa:this.H;wi(a,b,["gnip references"],["#666666"]);a.draw()}}};function Li(a){this.q=[];typeof a=="number"?this.cc(a):this.ra(a)}
Li.prototype.ra=function(a){for(var b=!1,c="",d=0;d<a.length;d++){var e=a.charAt(d);if(e==" "){c.length>0&&(this.q.push({text:c,count:0,bc:!1}),c="");for(this.q.push({text:" ",count:0,bc:!1});d<a.length-1&&a.charAt(d+1)==" ";)d++}else if(b)e=="'"?d+1<a.length&&a.charAt(d+1)=="'"?(c+="'",d++):b=!1:c+=e;else if(Mi.indexOf(e)>=0){c.length>0&&(this.q.push({text:c,count:0,bc:!1}),c="");var f;f=a.charAt(d);for(var h=d+1;h<a.length&&a.charAt(h)==f;)h++;f=h-d;this.q.push({text:e,count:f,bc:!1});d+=f-1}else e==
"'"?d+1<a.length&&a.charAt(d+1)=="'"?(c+="'",d++):b=!0:c+=e}c.length>0&&this.q.push({text:c,count:0,bc:!1});a=!1;for(b=0;b<this.q.length;b++)if(Ni(this.q[b])){if(!a&&b+1<this.q.length&&Ni(this.q[b+1]))a=!0,this.q[b].bc=!0}else a=!1};Li.prototype.cc=function(a){a>11&&(a=10);this.ra(a<4?W.vd[a]:a<8?W.wd[a-4]:W.vd[a-8]+" "+W.wd[a-8])};
Li.prototype.parse=function(a,b,c){a:{for(var c=c||0,d=new Oi,e=[c],f=-1,h=0,i=0,k=0;k<this.q.length;k++)if(this.q[k].count>0)if(f<0&&this.q[k].bc&&(f=k,h=c,i=0),f>=0){var l=this.q[k].count;if(k==f&&(l-=i,i++,l==0)){b=0;break a}Pi(a,e,this.q[k],l,d)||(k=f-1,e[0]=h)}else{if(f=-1,!Pi(a,e,this.q[k],0,d)){b=0;break a}}else{f=-1;if(this.q[k].text.charAt(0)==" "){if(l=e[0],Qi(a,e),e[0]>l)continue}else if(a.indexOf(this.q[k].text,e[0])==e[0]){e[0]+=this.q[k].text.length;continue}b=0;break a}b:{if(d.Eh!=
j&&d.ac!=j&&d.Eh==0&&d.ac>0)d.ac=-(d.ac-1);d.ac!=j&&b.setFullYear(d.ac);a=b.getDate();b.setDate(1);d.he!=j&&b.setMonth(d.he);d.Fd!=j?b.setDate(d.Fd):b.setDate(a);if(ka(b.setHours)){if(d.M==j)d.M=b.getHours();d.ah!=j&&d.ah>0&&d.M<12&&(d.M+=12);b.setHours(d.M)}ka(b.setMinutes)&&d.ba!=j&&b.setMinutes(d.ba);ka(b.setSeconds)&&d.da!=j&&b.setSeconds(d.da);ka(b.setMilliseconds)&&d.Ai!=j&&b.setMilliseconds(d.Ai);d.Dg!=j&&b.setTime(b.getTime()+(d.Dg-b.getTimezoneOffset())*6E4);d.Qj&&(a=new Date,a.setFullYear(a.getFullYear()-
80),b.getTime()<a.getTime()&&b.setFullYear(a.getFullYear()+100));if(d.hf!=j)if(d.Fd==j)d=(7+d.hf-b.getDay())%7,d>3&&(d-=7),a=b.getMonth(),b.setDate(b.getDate()+d),b.getMonth()!=a&&b.setDate(b.getDate()+(d>0?-7:7));else if(d.hf!=b.getDay()){b=!1;break b}b=!0}b=b?e[0]-c:0}return b};var Mi="GyMdkHmsSEDahKzZvQ";function Ni(a){if(a.count<=0)return!1;var b="MydhHmsSDkK".indexOf(a.text.charAt(0));return b>0||b==0&&a.count<3}function Qi(a,b){var c=a.substring(b[0]).match(/^\s+/);c&&(b[0]+=c[0].length)}
function Pi(a,b,c,d,e){Qi(a,b);var f=b[0],h=c.text.charAt(0),i=-1;if(Ni(c))if(d>0){if(f+d>a.length)return!1;i=Ri(a.substring(0,f+d),b)}else i=Ri(a,b);switch(h){case "G":return e.Eh=Si(a,b,W.Mg),!0;case "M":a:{c=i;if(c<0){c=Si(a,b,W.Rg);c<0&&(c=Si(a,b,W.Vg));if(c<0){e=!1;break a}e.he=c}else e.he=c-1;e=!0}return e;case "E":return c=Si(a,b,W.Yg),c<0&&(c=Si(a,b,W.Xg)),c<0?e=!1:(e.hf=c,e=!0),e;case "a":return e.ah=Si(a,b,W.Jg),!0;case "y":a:{var k;if(i<0){k=a.charAt(b[0]);if(k!="+"&&k!="-"){e=!1;break a}b[0]++;
i=Ri(a,b);if(i<0){e=!1;break a}k=="-"&&(i=-i)}!k&&b[0]-f==2&&c.count==2?(a=i,b=(new Date).getFullYear()-80,c=b%100,e.Qj=a==c,a+=Math.floor(b/100)*100+(a<c?100:0),e.ac=a):e.ac=i;e=!0}return e;case "Q":return i<0?(c=Si(a,b,W.Ug),c<0&&(c=Si(a,b,W.Wg)),c<0?e=!1:(e.he=c*3,e.Fd=1,e=!0)):e=!1,e;case "d":return e.Fd=i,!0;case "S":return a=b[0]-f,e.Ai=a<3?i*Math.pow(10,3-a):Math.round(i/Math.pow(10,a-3)),!0;case "h":i==12&&(i=0);case "K":case "H":case "k":return e.M=i,!0;case "m":return e.ba=i,!0;case "s":return e.da=
i,!0;case "z":case "Z":case "v":a.indexOf("GMT",b[0])==b[0]&&(b[0]+=3);a:if(b[0]>=a.length)e.Dg=0,e=!0;else{c=1;switch(a.charAt(b[0])){case "-":c=-1;case "+":b[0]++}f=b[0];i=Ri(a,b);if(i==0&&b[0]==f)e=!1;else{if(b[0]<a.length&&a.charAt(b[0])==":"){k=i*60;b[0]++;f=b[0];i=Ri(a,b);if(i==0&&b[0]==f){e=!1;break a}k+=i}else k=i,k<24&&b[0]-f<=2?k*=60:k=k%100+k/100*60;k*=c;e.Dg=-k;e=!0}}return e;default:return!1}}
function Ri(a,b){var c=a.substring(b[0]).match(/^\d+/);if(!c)return-1;b[0]+=c[0].length;return parseInt(c[0],10)}function Si(a,b,c){for(var d=0,e=-1,a=a.substring(b[0]).toLowerCase(),f=0;f<c.length;f++){var h=c[f].length;h>d&&a.indexOf(c[f].toLowerCase())==0&&(e=f,d=h)}e>=0&&(b[0]+=d);return e}function Oi(){};function Ti(a,b){U.call(this,a,"/api/topgroups/");b&&this.Bc(b);this.data={}}A(Ti,U);Ti.prototype.Bc=function(a){this.k.type=a};function Ui(a,b,c,d,e){Y.call(this,a,b,c,d);this.qa=e;this.Pj="all "+this.qa+"s";this.Ta();P(this.cf,"click",y(this.hj,this));P(this.Bd,"click",y(this.ak,this));P(this.Qc,"click",y(this.gm,this));this.mc=new Ti(c.L,e);P(this.mc,"loaded",y(this.za,this));this.mc.o();u.setInterval(y(this.mc.o,this.mc),1E4);Vi(this)}A(Ui,Y);t=Ui.prototype;
t.Ta=function(){this.Bd=M("span",{"class":"groupClear",style:"display: none"},["( clear )"]);this.cf=M("span",{"class":"groupCurrent"});var a=M("div",{"class":"groupMain"},[this.cf," ",this.Bd]);this.Qc=M("div",{"class":"groupSelector"});R(this.Qc,!1);ec(this.e,[a,this.Qc])};t.draw=aa();
t.za=function(){var a=this.mc.getData()&&this.mc.getData().groups;if(a){for(var b=[],c=0;c<Math.min(a.length,12);c++)b.push({Rd:a[c].group,Gk:a[c].group,Cm:a[c].visitors});a=[];a.push('<table style="width: 100%">');for(var d=0;d<Math.min(b.length,6);d++){a.push("<tr>");for(c=d*2;c<d*2+2;++c){var e=b[c];e?a.push('<td jsaction="selectGroup" style="width: 100px" jsvalue="',e.Rd,'" class="subsliceTitle"><div class="focusLink">',e.Gk,"</div></td><td><b>",e.Cm,"</b></td>"):a.push("<td></td>")}a.push("</tr>")}a.push("</table>");
this.Qc.innerHTML=a.join("");Vi(this)}};function Vi(a){var b=a.state?a.state.W[a.qa]:q;b?(b=a.qa+": "+b,R(a.Bd,!0)):(b=a.Pj,R(a.Bd,!1));a.cf.innerHTML=b}t.hj=function(){var a=this.Qc;R(a,a.style.display=="none");Vi(this)};t.ak=function(){this.state.yc(this.qa,"");Vi(this)};t.gm=function(a){a=Kf(a);a.action=="selectGroup"&&(this.state.yc(this.qa,a.value),Vi(this),this.hj())};function Wi(a,b,c){Y.call(this,a,b,c,"recent");this.hc=new Ng("h:mm:ss");this.Nb=[];this.Mc=[];this.tg={};this.$i=0;this.B=!0;window.setInterval(y(this.Nj,this),2500)}A(Wi,Y);
Wi.prototype.draw=function(){if(Eg(this.data)){if(this.Nb.length>50||this.state.w!=this.Xc||this.state.getValue()!=this.lb||!!this.data.z!=this.al)this.Nb=[];this.Xc=this.state.w;this.lb=this.state.getValue();this.al=!!this.data.z;for(var a=Eg(this.data);a.length;){var b=a.pop();b.vb=new Date(b.utc*1E3);b.title=cg(this.data.m,b.path);if(!this.tg[b.id]){this.tg[b.id]=!0;if(this.$i++>200)this.tg={},this.$i=0;this.Nb.push(b)}}this.Nb.sort(function(a,b){return b.vb-a.vb})}};
Wi.prototype.Nj=function(){if(!this.paused&&this.Nb.length&&!this.Mc.length){for(var a=Math.min(this.Nb.length,3),b=0;b<a;b++)this.Mc.push(Xi(this,this.Nb.pop()));Lf([0],[1],300,this)}};
function Xi(a,b){var c=L("recent");if(c.childNodes.length>20){var d;if(c.lastElementChild!=j)d=c.lastElementChild;else for(d=c.lastChild;d&&d.nodeType!=1;)d=d.previousSibling;fc(d)}d=Yi(b.referer);var e=b.int_referer;e&&a.host&&(d=Yi(Nf(a.host,e)));e=M("div",{"class":"entry"});ud(e,0);var f=Wf[b.country],h=Xf[b.region];h&&(f=h+", "+f);var i;a.host&&b.path&&(i=Nf(a.host,b.path));h=[];i&&h.push('<a class="recentLink" href="javascript:openSafely(\'',i,"')\">");h.push(b.title);i&&h.push("</a>");h.push('<span class="meta">',
d,"</span>",'<span class="meta">',a.hc.format(b.vb)," &nbsp; ",Math.round(b.domload/1E3*100)/100," seconds to load</span>",'<span class="meta">',f,"</span>");e.innerHTML=h.join("");c=c.firstChild;c.parentNode&&c.parentNode.insertBefore(e,c);return e}function Yi(a){var b=a;if(a)var c=Qf(a),a=c?"search: "+c:a.replace(Sf,""),a='from <a class="recentSource" href="javascript:openSafely(\''+b+"')\">"+a+"</a>";else a="";return a}
Wi.prototype.Za=function(a){for(var b=0;b<this.Mc.length;b++)ud(this.Mc[b],a.coords[0])};Wi.prototype.dd=function(a){this.Za(a);this.Mc=[]};window.amClickedOnSeries=function(a,b){var c=Zi[a];c&&c(b)};window.amSliceClick=function(a,b,c){(a=Zi[a])&&a(c)};var Zi={};function $i(a,b,c,d){this.width=b;this.height=c;this.Sl=d;this.id=a;this.canvas=M("canvas",{style:"position:relative; margin: 5px;",width:b,height:c});this.cl=M("div");L(a).appendChild(this.canvas);L(a).appendChild(this.cl)}A($i,S);$i.prototype.we=ba("zf");$i.prototype.setData=function(a,b,c,d){this.pc=a;this.rb=b;this.ec=c;this.Sm=d};
$i.prototype.te=function(){var a=this.canvas.getContext("2d");a.clearRect(0,0,this.width,this.height);a.save();a.strokeStyle="#4f474b";a.lineWidth=1;a.lineCap="butt";for(var b=0,c=0;c<this.rb.length;c++)b+=this.rb[c];var d=this.Sl/2,e=d,f=d;d-=2;this.yd=[];for(var h=Math.PI*3/2,c=0;c<this.pc.length;c++){this.pc[c]==this.zf&&(this.ec[c]="#ffcc66");a.fillStyle=this.ec[c];var i=h+this.rb[c]*2*Math.PI/b;isNaN(i)||(a.beginPath(),a.moveTo(e,f),a.arc(e,f,d,h,i,!1),a.fill(),this.yd.push(i),h=i)}};
$i.prototype.le=function(a){var b=a.offsetX,a=a.offsetY;if(a>130){if(b=Math.floor((a-130)/15),b>this.yd.length)return}else{var c=this.width/2;b-=c;a-=c;a=(Math.atan2(b,-a)+3*Math.PI/2)%(2*Math.PI);b=0;for(c=this.yd.length-2;c>-1;c--)if(a>this.yd[c]){b=c+1;break}}this.dispatchEvent({type:"click",data:this.pc[b]})};function aj(a,b,c){Y.call(this,a,b,c,"sources");this.se=new $i("sourcePie",180,180,180,y(this.Dl,this));this.kk=new hi("directCount");this.em=new hi("searchCount");this.el=new hi("linkCount");this.c=T("sources");a=y(this.Jl,this);b=["Domains","Searches","Pages"];for(c=0;c<b.length;c++)P(L("top"+b[c]),"click",a);this.zb=1E3;this.bj=M("canvas",{style:"background-color: white; position:relative; cursor: pointer; opacity: 1.0",width:700,height:800});L("pageDetails").appendChild(this.bj)}A(aj,Y);t=aj.prototype;
t.ib=function(){return{title:"Sources",body:"This shows you where people are arriving from when they visit your site, including what searches they are using.<br><br>Clicking on a domain shows the history of traffic from that domain and the specific URLs users are coming from.",$c:"sources"}};
t.draw=function(){var a=this.state.w,b=a=="Page"&&!this.data.z,c=a=="Referrer";R(L("pageDetails"),b);R(L("sourcePie"),!b);R(L("topDomains"),!b);R(L("topSearches"),!b&&!c);R(L("topPages"),!b&&c);Wh(this,!!a,c||b);if(b){if(!qb&&!hg(this.data.re,this.draw,this)){var a=this.data.re.getData(this.state.getValue()),d=this.bj.getContext("2d");d.clearRect(0,0,700,800);d.textBaseline="bottom";d.font="12pt Helvetica";d.fillStyle="#666666";d.fillText("Arrived from",0,17);d.font="12pt Helvetica";d.fillStyle="#666666";
d.fillText("Now on",370,17);d.font="10pt Helvetica";d.fillStyle="#FE9929";d.beginPath();d.fillRect(350,20,1,780);if(c=Cg(this.data))c=c.total||c.people,d.textBaseline="top",b=new Bd(a.pm),b.xd(a.qm),this.of(d,b,700,800,!0,c),a=new Bd(a.jk),this.of(d,a,700,800,!1,c)}}else if(this.data.m){var a=this.data.m.Eb(),b=a.Ae.slice(),e={link:a.Of+a.aj+a.sh+a.ej,search:a.og,direct:a.kf};b.unshift({count:e.search,domain:"search"});b.unshift({count:e.direct,domain:"direct"});var f="#fd8d3c,#74c476,#6baed6,#9ecae1,#c6dbef,#deebf7,#f7fbff".split(","),
h=[],i=[],k=c?this.state.getValue():"";this.se.we(-1);for(var l=0;l<Math.min(f.length,b.length);l++){var m=b[l].domain;m==k&&this.se.we(l);i.push(b[l].count);h.push(b[l].domain)}this.se.setData(h,i,f);this.se.te("sourcePie",180,180);this.kk.setValue(e.direct);this.em.setValue(e.search);this.el.setValue(e.link);e=['<table class="subsubsliceTable" cellspacing=0>'];f=Math.min(this.B?50:12,b.length);for(l=2;l<f;l++)m=b[l].domain,h=m.replace(Sf,""),h!=this.host&&e.push('<tr><td class="subsliceTitle"><div class="focusLink ',
m==k?" selectedFocusLink ":"",'" jsaction="selectDomain" jsvalue="',l-2,'">',h,'</div></td><td class="subsliceCount">',b[l].count,"</td></tr>");e.push("</table>");if(b=L("topDomainsList"))b.innerHTML=e.join("");if(c){if(c=this.state.getValue()){d=Zf(a,c);a=["Top Pages from ",Ja(c.replace(Sf,""),20),'<br><table class="subsubsliceTable">'];c=Math.min(this.B?100:10,d.length);for(b=0;b<c;b++)a.push('<tr><td class="subsliceTitle link','" jsaction="selectPage" jsvalue="',b,'">',d[b].path,'</td><td class="subsliceCount">',
d[b].count,"</td></tr>");a.push("</table>");L("topPages").innerHTML=a.join("")}}else{c=['<table class="subsubsliceTable">'];b=[];for(d in a.Tb)b.push({search:d,count:a.Tb[d],example:a.Wi[d]});this.Tb=d=a.sort(b);a=Math.min((this.B?100:8)-0,d.length);for(b=0;b<a;b++)try{c.push('<tr><td class="subsliceTitle link','" jsaction="selectSearch" jsvalue="',b,'">',decodeURIComponent(d[b].search),'</td><td class="subsliceCount">',d[b].count,"</td></tr>")}catch(n){Ee(this.c,"Failed to decode search term, ignoring "+
d[b].search)}c.push("</table>");if(d=L("topSearchesList"))d.innerHTML=c.join("")}}};t.Jl=function(a){var b=Kf(a),a=b.action,b=b.value,c=this.state.w,d=this.state.getValue(),c=c=="Referrer",e=this.data.m.Eb();a=="selectDomain"?this.od("Referrer",e.Ae[parseInt(b,10)].domain):a=="selectPage"?(a=c?d+Zf(e,d)[parseInt(b,10)].path:e.Eb()[parseInt(b,10)].url,Jf("http://"+a)):a=="selectSearch"&&Jf("http://"+this.Tb[parseInt(b,10)].example)};
t.of=function(a,b,c,d,e,f){d=20;e=e?0:c/2+20;a.textAlign="left";a.textBaseline="middle";var h=b.Fa();if(h){var i=h.length;h.sort(function(a,c){return parseInt(b.get(c),10)-parseInt(b.get(a),10)});for(var k=[20,30,40],l=[10,12,14],m=0;m<i;m++){var n=h[m];if(n){var o=parseInt(b.get(n),10),r=Wd(n),p=r.eb;!p||p==this.host||p=="www."+this.host?(n=cg(this.data.m,r.Oc()),p="#dddddd"):(n=(r=Qf(n))?"search: "+r:n.replace(Sf,""),p="#aaaaaa");n=Ja(n,27);if(n!==""){var E=Math.floor(o*20/f),r=k[Math.min(k.length-
1,E)];a.fillStyle=p;a.beginPath();a.moveTo(e,d);a.lineTo(e+(c/2-30),d);a.lineTo(e+(c/2-20),d+r/2);a.lineTo(e+(c/2-30),d+r);a.lineTo(e,d+r);a.lineTo(e+10,d+r/2);a.closePath();a.fill();a.fillStyle="black";p=l[Math.min(l.length-1,E)]+"pt Helvetica";a.font="bold "+p;a.fillText(o+"",e+20,d+r/2);a.font=p;a.fillText(n,e+70,d+r/2);d+=r+10}}}}};t.Dl=function(a){a==this.state.getValue()?this.state.xc(q):this.state.xc("Referrer",a)};function bj(a,b,c,d){Y.call(this,a,b,c);this.lf=d;P(L("clearFilter"),"click",y(this.state.xc,this.state,q));P(L("filterDomain"),"click",y(this.state.xc,this.state,q))}A(bj,Y);
bj.prototype.draw=function(){var a=this.state.w,b=Rf(this.state.getValue());L("filterDomain").innerHTML=this.host;var c=L("filterContainer");this.qj&&!a?(new Xg(c,200)).play():!this.qj&&a&&(new Yg(c,200)).play();this.qj=!!a;a=="Page"?b='<a class="filterLink" href="javascript:openSafely(\''+Nf(this.lf,b)+"')\">"+Ja(cg(this.data.m,b),50)+"</a>":a=="Referrer"?b=""+Ja(b,70):a&&(b=Rf(a));if(b)L("currentFilter").innerHTML='<span style="font-size: 83%; color: #ccc">Filter</span> '+b};function cj(a,b,c){this.target=a;this.handle=b||a;this.ae=c||new dd(NaN,NaN,NaN,NaN);this.j=K(a);this.J=new dh(this);P(this.handle,["touchstart","mousedown"],this.Ee,!1,this)}A(cj,S);var dj=F||G&&I("1.9.3");t=cj.prototype;t.clientX=0;t.clientY=0;t.screenX=0;t.screenY=0;t.cj=0;t.dj=0;t.jc=0;t.cb=0;t.V=!0;t.gb=!1;t.ci=0;t.il=0;t.Tk=!1;t.uf=s("J");t.Vb=ba("V");
t.g=function(){cj.f.g.call(this);Sc(this.handle,["touchstart","mousedown"],this.Ee,!1,this);this.J.G();delete this.target;delete this.handle;delete this.J};
t.Ee=function(a){var b=a.type=="mousedown";if(this.V&&!this.gb&&(!b||(lc?a.R.button==0:a.type=="click"||a.R.button&tc[0])&&(!H||!ib||!a.ctrlKey))){ej(a);if(this.ci==0)if(fj(this,a),this.gb)a.preventDefault();else return;else a.preventDefault();var b=this.j,c=b.documentElement,d=!dj;X(this.J,b,["touchmove","mousemove"],this.Lk,d);X(this.J,b,["touchend","mouseup"],this.Kd,d);dj?(c.setCapture(!1),X(this.J,c,"losecapture",this.Kd)):X(this.J,b?b.parentWindow||b.defaultView:window,"blur",this.Kd);F&&this.Tk&&
X(this.J,b,"dragstart",qc);this.dm&&X(this.J,this.dm,"scroll",this.Il,d);this.clientX=this.cj=a.clientX;this.clientY=this.dj=a.clientY;this.screenX=a.screenX;this.screenY=a.screenY;this.jc=this.target.offsetLeft;this.cb=this.target.offsetTop;this.eg=jc(Ub(this.j));this.il=z()}else this.dispatchEvent("earlycancel")};function fj(a,b){if(a.dispatchEvent(new gj("start",a,b.clientX,b.clientY,b))!==!1)a.gb=!0}
t.Kd=function(a,b){this.J.removeAll();dj&&this.j.releaseCapture();var c=hj(this,this.jc),d=ij(this,this.cb);this.gb?(ej(a),this.gb=!1,this.dispatchEvent(new gj("end",this,a.clientX,a.clientY,a,c,d,b||a.type=="touchcancel"))):this.dispatchEvent("earlycancel");(a.type=="touchend"||a.type=="touchcancel")&&a.preventDefault()};
function ej(a){var b=a.type;b=="touchstart"||b=="touchmove"?a.Ia(a.R.targetTouches[0],a.currentTarget):(b=="touchend"||b=="touchcancel")&&a.Ia(a.R.changedTouches[0],a.currentTarget)}
t.Lk=function(a){if(this.V){ej(a);var b=a.clientX-this.clientX,c=a.clientY-this.clientY;this.clientX=a.clientX;this.clientY=a.clientY;this.screenX=a.screenX;this.screenY=a.screenY;if(!this.gb){var d=this.cj-this.clientX,e=this.dj-this.clientY;if(d*d+e*e>this.ci&&(fj(this,a),!this.gb)){this.Kd(a);return}}c=jj(this,b,c);b=c.x;c=c.y;this.gb&&this.dispatchEvent(new gj("beforedrag",this,a.clientX,a.clientY,a,b,c))!==!1&&(kj(this,a,b,c),a.preventDefault())}};
function jj(a,b,c){var d=jc(Ub(a.j));b+=d.x-a.eg.x;c+=d.y-a.eg.y;a.eg=d;a.jc+=b;a.cb+=c;b=hj(a,a.jc);a=ij(a,a.cb);return new J(b,a)}t.Il=function(a){var b=jj(this,0,0);a.clientX=this.clientX;a.clientY=this.clientY;kj(this,a,b.x,b.y)};function kj(a,b,c,d){a.target.style.left=c+"px";a.target.style.top=d+"px";a.dispatchEvent(new gj("drag",a,b.clientX,b.clientY,b,c,d))}
function hj(a,b){var c=a.ae,d=!isNaN(c.left)?c.left:q,c=!isNaN(c.width)?c.width:0;return Math.min(d!=q?d+c:Infinity,Math.max(d!=q?d:-Infinity,b))}function ij(a,b){var c=a.ae,d=!isNaN(c.top)?c.top:q,c=!isNaN(c.height)?c.height:0;return Math.min(d!=q?d+c:Infinity,Math.max(d!=q?d:-Infinity,b))}function gj(a,b,c,d,e,f,h,i){N.call(this,a);this.clientX=c;this.clientY=d;this.Qm=e;this.left=ea(f)?f:b.jc;this.top=ea(h)?h:b.cb;this.Ah=b;this.Rm=!!i}A(gj,N);function lj(a,b,c){cj.call(this,a,b,c)}A(lj,cj);lj.prototype.Ee=function(a){a.preventDefault();lj.f.Ee.call(this,a)};function mj(a,b,c,d){this.width=b;this.height=c;this.Va=d;this.I=40;this.xf=this.width-this.I;this.sb=new ri(a,b,c-5,y(this.pl,this));this.sb.Ac(20);if(this.Va)b=M("div",{style:"position: absolute; left: 0; top: 0"}),c=M("div",{style:"position: absolute; background-color: #0B6E97"}),rd(c,2,this.height+5),id(c,19,0),ud(c,0.6),b.appendChild(c),c=M("div",{style:"position: absolute"}),c.innerHTML='<img src="http://static2.chartbeat.com/dashboard2/images/cb_thumb.png">',rd(c,40,24),Q(c,"cursor","pointer"),
id(c,0,this.height+5),b.appendChild(c),this.nm=new lj(b,q,new dd(this.I-20,0,this.xf,0)),P(this.nm,"end",y(this.vl,this)),this.wg=b,L(a).appendChild(this.wg)}mj.prototype.we=ba("zf");function nj(a,b){var c=a.pc[Math.round(b*a.pc.length)];c&&a.Va(c)}mj.prototype.vl=function(a){nj(this,(a.left-a.Ah.ae.left)/a.Ah.ae.width)};mj.prototype.pl=function(a){nj(this,(a.offsetX-this.I)/this.xf)};
mj.prototype.draw=function(a,b,c){this.wg&&id(this.wg,this.zf/a.length*this.xf+this.I-20,0);this.pc=a;this.sb.I=40;this.sb.ke=3;ti(this.sb,a,8,"");wi(this.sb,b,["",""],c);this.sb.t={Ig:"left",xh:!0};this.sb.draw()};function oj(a,b,c,d){Y.call(this,a,b,c);this.Wf=!!d;this.Gd={timelineToday:1,timelineWeek:7,timelineMonth:30};for(var e in this.Gd)P(L(e),"click",y(this.sl,this,this.Gd[e]));this.Wf||(P(L("timelineBack"),"click",this.am,!1,this),P(L("timelineFwd"),"click",this.Oj,!1,this),P(L("timelinePause"),"click",this.jj,!1,this),P(L("realTime"),"click",y(this.Fl,this)),P(L("replayTime"),"click",y(this.Hl,this)));this.lk=new Ng("MMM d h:mm a");this.mk=new Ng("h:mm:ss a");this.hc=new Ng("MMM d k:mm");this.xg=new Ng("k:mm");
this.gk=new Li("MMM d k:mm");this.wm=new Li("k:mm");this.U=new Bi(c.L);this.U.Bc("traffic");this.Wf&&(a=L("replayTime"))&&R(a,!1);P(this.U,"loaded",this.xa,!1,this);P(this.state,yg,this.bg,!1,this);var f;this.Wf||(f=y(this.le,this));this.H=new mj("timeline",pj,90,f)}A(oj,Y);var pj=740;t=oj.prototype;
t.draw=function(){var a=(new Date).getTime(),b=this.state.F,c=this.state.getMinutes();a>this.bl+18E4||b!=this.Yk||c!=this.$k?(this.bl=a,this.Yk=b,this.$k=c,this.U.pg(b),this.U.setMinutes(c),this.U.data=q,this.U.o()):this.xa();var a=this.data.getDate(),b=!!this.data.z,c=L("timeDate"),d=L("replayControls"),e=L("realTime"),f=L("replayTime");if(b){if(c)c.innerHTML=this.lk.format(a)}else if(c)c.innerHTML=this.mk.format(a);e&&Ib(e,"timeModeSelected");f&&Hb(f,"timeModeSelected");d&&R(d,b)};
t.Fl=function(){var a=this.data;a.paused=!1;a.o();this.data.setDate(q)};t.Hl=function(){if(!this.data.z&&!this.data.paused){var a=new Date;this.data.setDate(new Date(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),Math.floor(a.getMinutes()/5)*5));this.jj()}};t.Oj=function(){this.data.Vf(5)};t.am=function(){this.data.Vf(-5)};t.sl=function(a){for(var b in this.Gd)L(b).style.color=a==this.Gd[b]?"white":"";qj(!0);this.state.pg(a);this.draw()};
t.le=function(a){var b=new Date;(this.state.F>1?this.gk:this.wm).parse(a,b);this.data.setDate(b)};t.jj=function(){if(this.data.paused){var a=this.data;a.paused=!1;a.o();L("timelinePause").innerHTML="Pause"}else this.data.pause(),L("timelinePause").innerHTML="Play"};
t.xa=function(){var a=this.U.getData();if(a){var b=a.current&&a.current.dates;if(b){var c=this.data.getDate(),d=[];qj(!1);for(var e=this.state.F>1?this.hc:this.xg,f=0,h=0;h<b.length;h++){var i=new Date(b[h]*1E3);d[h]=e.format(i);i>c&&!f&&(f=h,this.data.m&&(i=bg(this.data.m))&&(a.current.values[h]=Math.max(i.people,a.current.values[h])))}this.H.we(f);a.historical.values?this.H.draw(d,[a.historical.values,a.current.values],["#CCCCCC","#FF0000"]):this.H.draw(d,[a.current.values],["#FF0000"])}}};
t.bg=function(a){qj(!0);this.U.yc(a.Rd,a.value);this.U.data=q;this.U.o()};function qj(a){var b=L("timelineWidget"),c=L("timeline");a?(ud(c,0.2),b&&(a=Wb(),a||(a=M("div",{"class":"loading"},"Loading..."),b.appendChild(a)))):(ud(c,1),(a=Wb())&&b.removeChild(a))};function rj(a,b){a&&this.Ve(a,b)}A(rj,S);t=rj.prototype;t.a=q;t.Zd=q;t.Gf=q;t.$d=q;t.kb=-1;t.jb=-1;
var sj={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},tj={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},uj={61:187,59:186},vj=F||H&&I("525");t=rj.prototype;
t.Jk=function(a){if(H&&(this.kb==17&&!a.ctrlKey||this.kb==18&&!a.altKey))this.jb=this.kb=-1;vj&&!gh(a.keyCode,this.kb,a.shiftKey,a.ctrlKey,a.altKey)?this.handleEvent(a):this.jb=G&&a.keyCode in uj?uj[a.keyCode]:a.keyCode};t.Kk=function(){this.jb=this.kb=-1};
t.handleEvent=function(a){var b=a.R,c,d;F&&a.type=="keypress"?(c=this.jb,d=c!=13&&c!=27?b.keyCode:0):H&&a.type=="keypress"?(c=this.jb,d=b.charCode>=0&&b.charCode<63232&&hh(c)?b.charCode:0):pb?(c=this.jb,d=hh(c)?b.keyCode:0):(c=b.keyCode||this.jb,d=b.charCode||0,ib&&d==63&&!c&&(c=191));var e=c,f=b.keyIdentifier;c?c>=63232&&c in sj?e=sj[c]:c==25&&a.shiftKey&&(e=9):f&&f in tj&&(e=tj[f]);a=e==this.kb;this.kb=e;b=new wj(e,d,a,b);try{this.dispatchEvent(b)}finally{b.G()}};t.h=s("a");
t.Ve=function(a,b){this.$d&&this.detach();this.a=a;this.Zd=P(this.a,"keypress",this,b);this.Gf=P(this.a,"keydown",this.Jk,b,this);this.$d=P(this.a,"keyup",this.Kk,b,this)};t.detach=function(){if(this.Zd)Uc(this.Zd),Uc(this.Gf),Uc(this.$d),this.$d=this.Gf=this.Zd=q;this.a=q;this.jb=this.kb=-1};t.g=function(){rj.f.g.call(this);this.detach()};function wj(a,b,c,d){d&&this.Ia(d,j);this.type="key";this.keyCode=a;this.charCode=b;this.repeat=c}A(wj,sc);function xj(a){this.a=a;this.ui=P(this.a,G?"DOMMouseScroll":"mousewheel",this)}A(xj,S);
xj.prototype.handleEvent=function(a){var b=0,c=0,d=0,a=a.R;if(a.type=="mousewheel"){c=1;if(F||H&&(jb||I("532.0")))c=40;d=H&&ib&&-a.wheelDelta%c!=0?-a.wheelDelta:-a.wheelDelta/c;ea(a.wheelDeltaX)?(b=H&&ib&&-a.wheelDeltaX%c!=0?-a.wheelDeltaX:-a.wheelDeltaX/c,c=H&&ib&&-a.wheelDeltaY%c!=0?-a.wheelDeltaY:-a.wheelDeltaY/c):c=d}else d=a.detail,d>100?d=3:d<-100&&(d=-3),ea(a.axis)&&a.axis===a.HORIZONTAL_AXIS?b=d:c=d;ja(this.xi)&&(b=Math.min(Math.max(b,-this.xi),this.xi));ja(this.Tf)&&(c=Math.min(Math.max(c,
-this.Tf),this.Tf));b=new yj(d,a,b,c);try{this.dispatchEvent(b)}finally{b.G()}};xj.prototype.g=function(){xj.f.g.call(this);Uc(this.ui);delete this.ui};function yj(a,b,c,d){b&&this.Ia(b,j);this.type="mousewheel";this.detail=a;this.jc=c;this.cb=d}A(yj,sc);function zj(a,b){this.x=a;this.y=b}A(zj,J);zj.prototype.clone=function(){return new zj(this.x,this.y)};zj.prototype.scale=function(a){this.x*=a;this.y*=a;return this};zj.prototype.add=function(a){this.x+=a.x;this.y+=a.y;return this};function Aj(){this.K=[];this.b=[];this.Oa=[]}Aj.prototype.dc=q;Aj.prototype.Q=q;Aj.prototype.Cc=!0;var Bj=[2,2,6,6,0];t=Aj.prototype;t.clear=function(){this.K.length=0;this.b.length=0;this.Oa.length=0;delete this.dc;delete this.Q;delete this.Cc;return this};t.moveTo=function(a,b){this.K[this.K.length-1]==0?this.Oa.length-=2:(this.K.push(0),this.b.push(1));this.Oa.push(a,b);this.Q=this.dc=[a,b];return this};
t.lineTo=function(a){var b=this.K[this.K.length-1];b==q&&g(Error("Path cannot start with lineTo"));b!=1&&(this.K.push(1),this.b.push(0));for(b=0;b<arguments.length;b+=2){var c=arguments[b],d=arguments[b+1];this.Oa.push(c,d)}this.b[this.b.length-1]+=b/2;this.Q=[c,d];return this};
t.th=function(a){var b=this.K[this.K.length-1];b==q&&g(Error("Path cannot start with curve"));b!=2&&(this.K.push(2),this.b.push(0));for(b=0;b<arguments.length;b+=6){var c=arguments[b+4],d=arguments[b+5];this.Oa.push(arguments[b],arguments[b+1],arguments[b+2],arguments[b+3],c,d)}this.b[this.b.length-1]+=b/6;this.Q=[c,d];return this};t.close=function(){var a=this.K[this.K.length-1];a==q&&g(Error("Path cannot start with close"));if(a!=4)this.K.push(4),this.b.push(1),this.Q=this.dc;return this};
t.arc=function(a,b,c,d,e,f,h){a+=c*Math.cos(Af(e));b+=d*Math.sin(Af(e));h?(!this.Q||a!=this.Q[0]||b!=this.Q[1])&&this.lineTo(a,b):this.moveTo(a,b);return this.arcTo(c,d,e,f)};t.arcTo=function(a,b,c,d){var e=this.Q[0]-a*Math.cos(Af(c))+a*Math.cos(Af(c+d)),f=this.Q[1]-b*Math.sin(Af(c))+b*Math.sin(Af(c+d));this.K.push(3);this.b.push(1);this.Oa.push(a,b,c,d,e,f);this.Cc=!1;this.Q=[e,f];return this};
t.Sj=function(a,b,c,d){var e=this.Q[0]-a*Math.cos(Af(c)),f=this.Q[1]-b*Math.sin(Af(c)),h=Af(d),d=Math.ceil(Math.abs(h)/Math.PI*2);h/=d;for(var c=Af(c),i=0;i<d;i++){var k=Math.cos(c),l=Math.sin(c),m=4/3*Math.sin(h/2)/(1+Math.cos(h/2)),n=e+(k-m*l)*a,o=f+(l+m*k)*b;c+=h;k=Math.cos(c);l=Math.sin(c);this.th(n,o,e+(k+m*l)*a,f+(l-m*k)*b,e+k*a,f+l*b)}return this};function Cj(a,b){for(var c=a.Oa,d=0,e=0,f=a.K.length;e<f;e++){var h=a.K[e],i=Bj[h]*a.b[e];b(h,c.slice(d,d+i));d+=i}}
t.clone=function(){var a=new this.constructor;a.K=this.K.concat();a.b=this.b.concat();a.Oa=this.Oa.concat();a.dc=this.dc&&this.dc.concat();a.Q=this.Q&&this.Q.concat();a.Cc=this.Cc;return a};var Dj={};Dj[0]=Aj.prototype.moveTo;Dj[1]=Aj.prototype.lineTo;Dj[4]=Aj.prototype.close;Dj[2]=Aj.prototype.th;Dj[3]=Aj.prototype.Sj;function Ej(a){if(a.Cc)return a.clone();var b=new Aj;Cj(a,function(a,d){Dj[a].apply(b,d)});return b};function Fj(){}(function(a){a.Lh=function(){return a.Vk||(a.Vk=new a)}})(Fj);Fj.prototype.ml=0;Fj.Lh();function Gj(a){this.aa=a||Ub();this.bm=Hj}A(Gj,S);Gj.prototype.Rk=Fj.Lh();var Hj=q;t=Gj.prototype;t.Fb=q;t.ga=!1;t.a=q;t.bm=q;t.hl=q;t.na=q;t.$=q;t.Gc=q;t.pj=!1;t.h=s("a");t.uf=function(){return this.nc||(this.nc=new dh(this))};t.getParent=s("na");t.rg=function(a){this.na&&this.na!=a&&g(Error("Method not supported"));Gj.f.rg.call(this,a)};t.tf=s("aa");t.Ba=function(){this.a=this.aa.createElement("div")};t.te=function(a){this.lg(a)};
t.lg=function(a,b){this.ga&&g(Error("Component already rendered"));this.a||this.Ba();a?a.insertBefore(this.a,b||q):this.aa.j.body.appendChild(this.a);(!this.na||this.na.ga)&&this.xb()};t.vh=function(a){if(this.ga)g(Error("Component already rendered"));else if(a){this.pj=!0;if(!this.aa||this.aa.j!=K(a))this.aa=Ub(a);this.a=a;this.xb()}else g(Error("Invalid element to decorate"))};t.xb=function(){this.ga=!0;Ij(this,function(a){!a.ga&&a.h()&&a.xb()})};
t.Lc=function(){Ij(this,function(a){a.ga&&a.Lc()});this.nc&&this.nc.removeAll();this.ga=!1};t.g=function(){Gj.f.g.call(this);this.ga&&this.Lc();this.nc&&(this.nc.G(),delete this.nc);Ij(this,function(a){a.G()});!this.pj&&this.a&&fc(this.a);this.na=this.hl=this.a=this.Gc=this.$=q};function Ij(a,b){a.$&&D(a.$,b,j)}
t.removeChild=function(a,b){if(a){var c=w(a)?a:a.Fb||(a.Fb=":"+(a.Rk.ml++).toString(36)),a=this.Gc&&c?(c in this.Gc?this.Gc[c]:j)||q:q;if(c&&a)Rb(this.Gc,c),Ta(this.$,a),b&&(a.Lc(),a.a&&fc(a.a)),c=a,c==q&&g(Error("Unable to set parent component")),c.na=q,Gj.f.rg.call(c,q)}a||g(Error("Child is not in parent component"));return a};function Jj(a,b,c,d,e){Gj.call(this,e);this.width=a;this.height=b;this.Dd=c||q;this.oh=d||q}A(Jj,Gj);t=Jj.prototype;t.Pa=q;t.ph=0;t.qh=0;t.Db=function(){return this.ga?sd(this.h()):ja(this.width)&&ja(this.height)?new Lb(this.width,this.height):q};t.Ge=aa();t.ue=aa();function Kj(a,b,c,d,e,f){arguments.length==6?this.setTransform(a,b,c,d,e,f):arguments.length!=0?g(Error("Insufficient matrix parameters")):(this.Wa=this.Ya=1,this.Ja=this.Xa=this.mb=this.nb=0)}t=Kj.prototype;t.clone=function(){return new Kj(this.Wa,this.Ja,this.Xa,this.Ya,this.mb,this.nb)};t.setTransform=function(a,b,c,d,e,f){(!ja(a)||!ja(b)||!ja(c)||!ja(d)||!ja(e)||!ja(f))&&g(Error("Invalid transform parameters"));this.Wa=a;this.Ja=b;this.Xa=c;this.Ya=d;this.mb=e;this.nb=f;return this};
t.scale=function(a,b){this.Wa*=a;this.Ja*=a;this.Xa*=b;this.Ya*=b;return this};t.translate=function(a,b){this.mb+=a*this.Wa+b*this.Xa;this.nb+=a*this.Ja+b*this.Ya;return this};t.rotate=function(a,b,c){var d=new Kj,e=Math.cos(a),a=Math.sin(a),b=d.setTransform(e,a,-a,e,b-b*e+c*a,c-b*a-c*e),c=this.Wa,d=this.Xa;this.Wa=b.Wa*c+b.Ja*d;this.Xa=b.Xa*c+b.Ya*d;this.mb+=b.mb*c+b.nb*d;c=this.Ja;d=this.Ya;this.Ja=b.Wa*c+b.Ja*d;this.Ya=b.Xa*c+b.Ya*d;this.nb+=b.mb*c+b.nb*d;return this};
t.toString=function(){return"matrix("+[this.Wa,this.Ja,this.Xa,this.Ya,this.mb,this.nb].join(",")+")"};function Lj(a,b){this.a=a;this.l=b;this.ef=!1}A(Lj,S);t=Lj.prototype;t.l=q;t.a=q;t.kj=q;t.h=s("a");t.addEventListener=function(a,b,c,d){P(this.a,a,b,c,d)};t.removeEventListener=function(a,b,c,d){Sc(this.a,a,b,c,d)};t.g=function(){Lj.f.g.call(this);Wc(this.a)};function Mj(a,b,c,d){Lj.call(this,a,b);this.vg=c;this.l.X();this.fill=d;this.l.X()}A(Mj,Lj);Mj.prototype.fill=q;Mj.prototype.vg=q;Mj.prototype.Bk=s("fill");Mj.prototype.Dk=s("vg");function Nj(a,b,c,d){Mj.call(this,a,b,c,d)}A(Nj,Mj);function Oj(a,b){Lj.call(this,a,b)}A(Oj,Lj);function Pj(a,b){Lj.call(this,a,b)}A(Pj,Lj);function Tj(a,b,c,d){Mj.call(this,a,b,c,d)}A(Tj,Mj);function Uj(a){Lj.call(this,q,a);this.$=[]}A(Uj,Oj);Uj.prototype.clear=function(){if(this.$.length)this.$.length=0,this.l.X()};Uj.prototype.sg=aa();Uj.prototype.appendChild=function(a){this.$.push(a)};Uj.prototype.draw=function(){for(var a=0,b=this.$.length;a<b;a++)Vj(this.l,this.$[a])};function Wj(a,b,c,d,e,f,h,i){Mj.call(this,a,b,h,i);this.ff=c;this.gf=d;this.Ui=e;this.Vi=f;this.n=new Aj;Xj(this);this.fg=new Yj(q,b,this.n,h,i)}A(Wj,Nj);
function Xj(a){a.n.clear();a.n.moveTo(a.ff+a.Ui*Math.cos(Af(0)),a.gf+a.Vi*Math.sin(Af(0)));a.n.arcTo(a.Ui,a.Vi,0,360);a.n.close()}Wj.prototype.draw=function(a){this.fg.draw(a)};function Yj(a,b,c,d,e){Mj.call(this,a,b,d,e);this.ja(c)}A(Yj,Tj);Yj.prototype.kc=!1;Yj.prototype.ja=function(a){this.n=a.Cc?a:Ej(a);this.kc&&this.l.X()};
Yj.prototype.draw=function(a){this.kc=!0;a.beginPath();Cj(this.n,function(b,c){switch(b){case 0:a.moveTo(c[0],c[1]);break;case 1:for(var d=0;d<c.length;d+=2)a.lineTo(c[d],c[d+1]);break;case 2:for(d=0;d<c.length;d+=6)a.bezierCurveTo(c[d],c[d+1],c[d+2],c[d+3],c[d+4],c[d+5]);break;case 3:g(Error("Canvas paths cannot contain arcs"));case 4:a.closePath()}})};function Zj(a,b,c,d,e,f,h){Lj.call(this,a,b);this.rj=c;this.sj=d;this.Hg=e;this.Af=f;this.sm=h}A(Zj,Pj);t=Zj.prototype;t.kc=!1;
t.xe=function(a,b){this.rj=a;this.sj=b;this.kc&&this.l.X()};t.sg=function(a,b){this.Hg=a;this.Af=b;this.kc&&this.l.X()};t.draw=function(a){this.ei?(this.Hg&&this.Af&&a.drawImage(this.ei,this.rj,this.sj,this.Hg,this.Af),this.kc=!0):(a=new Image,a.onload=y(this.Ik,this,a),a.src=this.sm)};t.Ik=function(a){this.ei=a;this.l.X()};function $j(){};function ak(a,b){this.Ze=a;this.Oi=b||1}A(ak,$j);function bk(){this.Ne=1;this.Ze="#fe9929"};function ck(a,b,c,d,e){Jj.call(this,a,b,c,d,e)}A(ck,Jj);function dk(a,b){var c=a.getContext();c.save();var d=b.kj?b.kj.clone():new Kj,e=d.mb,f=d.nb;(e||f)&&c.translate(e,f);(d=d.Ja)&&c.rotate(Math.asin(d))}t=ck.prototype;t.Ba=function(){var a=this.aa.Ba("div",{style:"position:relative;overflow:hidden"});this.a=a;this.Fc=this.aa.Ba("canvas");a.appendChild(this.Fc);this.Jf=this.Pa=new Uj(this);this.Zl=0;ek(this)};
t.getContext=function(){this.h()||this.Ba();if(!this.fc)this.fc=this.Fc.getContext("2d"),this.fc.save();return this.fc};t.sg=function(a,b){this.width=a;this.height=b;ek(this);this.X()};t.Db=function(){var a=this.width,b=this.height,c=w(a)&&a.indexOf("%")!=-1,d=w(b)&&b.indexOf("%")!=-1;if(!this.ga&&(c||d))return q;var e,f;if(c)e=this.h().parentNode,f=sd(e),a=parseFloat(a)*f.width/100;d&&(e=e||this.h().parentNode,f=f||sd(e),b=parseFloat(b)*f.height/100);return new Lb(a,b)};
function ek(a){rd(a.h(),a.width,a.height);var b=a.Db();if(b)rd(a.Fc,b.width,b.height),a.Fc.width=b.width,a.Fc.height=b.height,a.fc=q}t.reset=function(){var a=this.getContext();a.restore();var b=this.Db();b.width&&b.height&&a.clearRect(0,0,b.width,b.height);a.save()};t.clear=function(){this.reset();this.Pa.clear();for(var a=this.h();a.childNodes.length>1;)a.removeChild(a.lastChild)};
t.X=function(){if(this.Qi)this.Ci=!0;else if(this.ga){this.reset();if(this.Dd){var a=this.Db();this.getContext().scale(a.width/this.Dd,a.height/this.oh)}(this.ph||this.qh)&&this.getContext().translate(-this.ph,-this.qh);dk(this,this.Pa);this.Pa.draw(this.fc);this.getContext().restore()}};
function Vj(a,b){var c=a.getContext();dk(a,b);if(!b.Bk||!b.Dk)b.draw(c);else{var d=b.fill;if(d)if(d instanceof ak){if(d.Oi!=0)c.globalAlpha=d.Oi,c.fillStyle=d.Ze,b.draw(c),c.fill(),c.globalAlpha=1}else{var e=c.createLinearGradient(d.Wm(),d.Ym(),d.Xm(),d.Zm());e.addColorStop(0,d.Um());e.addColorStop(1,d.Vm());c.fillStyle=e;b.draw(c);c.fill()}if(d=b.vg)b.draw(c),c.strokeStyle=d.Ze,d=d.Ne,w(d)&&d.indexOf("px")!=-1&&(d=parseFloat(d),e=(e=a.Db())?e.width/(a.Dd?new Lb(a.Dd,a.oh):a.Db()).width:0,d/=e),c.lineWidth=
d,c.stroke()}a.getContext().restore()}t.append=function(a,b){b=b||this.Pa;b.appendChild(a);this.ga&&!this.Zl&&!(b!=this.Pa&&b!=this.Jf)&&Vj(this,a)};t.drawImage=function(a,b,c,d,e,f){a=new Zj(q,this,a,b,c,d,e);this.append(a,f);return a};t.of=function(a,b,c,d){a=new Yj(q,this,a,b,c);this.append(a,d);return a};function fk(a){var b,c=new Uj(a);b=b||a.Pa;if(b==a.Pa||b==a.Jf)a.Jf=c;a.append(c,b);return c}t.g=function(){this.fc=q;ck.f.g.call(this)};
t.xb=function(){var a=this.Db();ck.f.xb.call(this);a||(ek(this),this.dispatchEvent("resize"));this.X()};t.Ge=function(){this.Qi=!0};t.ue=function(){this.Qi=!1;if(this.Ci)this.X(),this.Ci=!1};try{eval("document.namespaces")}catch(gk){};function hk(a,b,c,d){Gj.call(this,d);this.Ne=a;this.$h=b;this.Kh=Math.pow(2,this.ee)*this.He;this.qk=new ak("#fe9929");this.rk=new bk;this.l=new ck(a,b,q,q,d);this.l.Ba();this.l.te();this.fj=fk(this.l);this.nf=fk(this.l);c||(c={});this.ha=ik(this,c.lat||30,c.lng||0);this.P=c.zoomLevel||0;this.Ol=c.osm||!1;jk(this)}A(hk,Gj);t=hk.prototype;t.He=256;t.ee=2;t.fb=q;t.Vc=q;t.ie=q;t.Jc=[];t.sk=q;t.Rf=q;t.Qf=q;t.ng=q;t.Ff=!1;t.Kb=q;t.Wd={};t.c=T("chartbeat.widgets.SlippyMap");
t.Ba=function(){var a=this.tf().Ba("div","chartbeat-slippymap",this.l.h());this.a=a;Q(a,"cursor","move");this.fb=new lj(this.h());this.Vc=new rj(this.h());this.ie=new xj(this.h());this.ie.Tf=1};function ik(a,b,c){c=(c+180)/360;b=(1-Math.log(Math.tan(b*Math.PI/180)+1/Math.cos(b*Math.PI/180))/Math.PI)/2;return new J(Math.floor(c*a.Kh),Math.floor(b*a.Kh))}function kk(a){return new dd(a.ha.x-a.Rf/2,a.ha.y-a.Qf/2,a.ha.x+a.Rf/2,a.ha.y+a.Qf/2)}
function lk(a){if(a.ga){for(var b=kk(a),c=Math.max(0,Math.floor(b.left/a.Kb)),d=Math.min(Math.ceil(b.width/a.Kb),Math.pow(2,a.P)),e=Math.max(0,Math.floor(b.top/a.Kb)),f=Math.min(Math.ceil(b.height/a.Kb),Math.pow(2,a.P)),h={};c<d;++c)for(var i=e;i<f;++i){var k=Math.round((c*a.Kb-b.left)/a.Ra),l=Math.round((i*a.Kb-b.top)/a.Ra),m=new Fd((a.Ol?"http://c.tile.openstreetmap.org/":"http://static2.chartbeat.com/images/tiles/")+(a.P+"/"+c+"/"+i+".png")),n=a.Wd[m];n?(h[m]=n,Rb(a.Wd,m),n.xe(k,l)):h[m]=a.l.drawImage(k,
l,a.He,a.He,m.toString(),a.fj)}Mb(a.Wd,function(a){a.sg(0,0);fc(a.h())},a);a.Wd=h;mk(a,b)}}function mk(a,b){if(!a.Jd){var c=b||kk(a);a.l.Ge();D(a.Jc,function(a){if(!a.Hc)a.Hc=ik(this,a.x,a.y);var b=Math.floor((a.Hc.x-c.left)/this.Ra),f=Math.floor((a.Hc.y-c.top)/this.Ra),h=a.size||2;if(a.element)a=a.element,a.ff=b,a.gf=f,Xj(a),a.fg.ja(a.n);else{var i=this.l,k=this.nf,b=new Wj(q,i,b,f,h,h,this.rk,this.qk);i.append(b,k);a.element=b}},a);a.l.ue();a.l.X()}}
function nk(a){a.l.Ge();D(a.Jc,function(a){if(a.element)a=a.element,a.ff=-100,a.gf=-100,Xj(a),a.fg.ja(a.n)},a);a.l.ue()}t.X=function(){lk(this)};function ok(a,b){D(b,function(a){var b={};b.x=parseFloat(a[0]);b.y=parseFloat(a[1]);b.size=parseInt(a[2],10)/2;this.Jc.push(b)},a)}function pk(a,b){qk(a);a.Jc=[];ok(a,b);mk(a)}function rk(a,b){if(!(b==a.ha||(!b||!a.ha?0:b.x==a.ha.x&&b.y==a.ha.y)))a.ha=b,a.X()}t.xe=function(a){rk(this,a)};
function qk(a,b){a.l.Ge();a.nf.clear();D(a.Jc,function(a){if(a.element)a.element=q;if(b&&a.Hc)a.Hc=q},a);a.l.ue()}function sk(a,b){var c=a.P;a.P=b;if(a.P<0)a.P=0;else if(a.P>a.ee)a.P=a.ee;if(a.P!=c)qk(a,!0),jk(a),a.l.clear(),a.fj=fk(a.l),a.nf=fk(a.l),a.X()}function jk(a){a.Ra=Math.pow(2,a.ee-a.P);a.Rf=a.Ne*a.Ra;a.Qf=a.$h*a.Ra;a.Kb=a.He*a.Ra}
t.xb=function(){hk.f.xb.call(this);X(X(X(X(X(X(this.uf(),this.h(),"dblclick",this.Ph),this.Vc,"key",this.Th),this.ie,"mousewheel",this.Wh),this.fb,"start",this.Qh),this.fb,"end",this.Hk),this.fb,"drag",this.Rh);qb&&this.h().addEventListener("gestureend",y(this.Li,this),!1);this.X()};t.Li=function(a){a.preventDefault();a.scale<1?sk(this,this.P-1):sk(this,this.P+1)};
t.Lc=function(){hk.f.Lc.call(this);qb&&this.h().removeEventListener("gestureend",y(this.Li,this),!1);fh(fh(fh(fh(fh(this.uf(),this.h(),"dblclick",this.Ph),this.Vc,"key",this.Th),this.ie,"mousewheel",this.Wh),this.fb,"start",this.Qh),this.fb,"drag",this.Rh)};t.g=function(){this.Vc.G();delete this.Vc;this.fb.G();delete this.fb;this.l.G();delete this.l;hk.f.g.call(this)};t.Ph=function(a){tk(this,new J(a.offsetX,a.offsetY));sk(this,this.P+1)};
t.Th=function(a){switch(a.keyCode){case 107:sk(this,this.P+1);break;case 109:sk(this,this.P-1)}};t.Wh=function(a){this.ng&&clearTimeout(this.ng);this.ng=setTimeout(y(this.bk,this),30);a.preventDefault();if(!this.Ff)this.Ff=!0,a.cb<0&&tk(this,new J(a.offsetX,a.offsetY)),sk(this,this.P-a.cb)};t.bk=function(){this.Ff=!1};t.Hk=function(){this.Jd=q;mk(this)};t.Qh=function(a){nk(this);this.Jd=new zj(this.ha.x,this.ha.y);this.sk=new J(a.clientX,a.clientY)};
function tk(a,b){var c=new zj(Math.round(a.Ne/2),Math.round(a.$h/2)),d=new zj(b.x,b.y),c=new zj(d.x-c.x,d.y-c.y);c.scale(a.Ra);rk(a,c.add(new zj(a.ha.x,a.ha.y)))}t.Rh=function(a){this.Jd&&(a=new zj(-a.left,-a.top),a.scale(this.Ra),rk(this,a.add(this.Jd)))};window.amRegisterClick=aa();function uk(a,b,c){Y.call(this,a,b,c,"users")}A(uk,Y);uk.prototype.ib=function(){return{title:"Locations",body:"The top locations for your users. For large sites, this data may be sampled."}};uk.prototype.draw=function(){var a=!!this.state.w,b=Ag(this.state)&&!this.data.z,c=a&&!b;Wh(this,a,b);R(L("map"),!c);a=this.data;a.state.getValue();if(a=Ag(a.state)&&!a.z?a.oa.data?a.oa.data.geo:q:a.state.w?q:a.m.data?a.m.data.geo:q)(b=a.lat_lngs)&&b.length&&vk(this,b),wk(this,a)};
function wk(a,b){var c=b.countries,d=0,e;for(e in c)d+=c[e];var f=!1;Math.abs((d-Bg(a.data))/d)>0.1&&(f=!0);var h=['<table class="subsliceTable" style="background-color: white">'],i=(new Bd(c)).Fa();i.sort(function(a,b){return c[b]-c[a]});for(var k=Math.min(i.length,6),l=0;l<k;l++){e=i[l];var m=c[e],n=Math.round(m*100/d);n>0&&(f&&(m=n+"%"),h.push('<tr><td class="subsliceTitle">',Wf[e],"</td>",'<td class="subsliceCount">',m,"</td></tr>"))}h.push('</table><br><br><table class="subsliceTable" style="background-color: white">');
c=b.regions;i=(new Bd(c)).Fa();i.sort(function(a,b){return c[b]-c[a]});k=Math.min(i.length,6);for(e=l=0;l<i.length&&e<k;l++){var o=Xf[i[l]];o&&(e++,m=c[i[l]],n=Math.round(m*100/d),n>0&&(f&&(m=n+"%"),h.push('<tr><td class="subsliceTitle">',o,"</td>",'<td class="subsliceCount">',m,"</td></tr>")))}h.push("</table><br><br>");L("mapList").innerHTML=h.join("")}function vk(a,b){if(!a.H)a.H=new hk(450,240),a.H.te(L("map"));D(b,function(a){a[2]=Math.ceil(a[2]/10)*2+2});pk(a.H,b)};function xk(a,b,c,d){this.width=b;this.height=c;this.nl=!!d;this.Yf=new ai("#,##0");this.canvas=M("canvas",{width:b,height:c});L(a).appendChild(this.canvas)}function yk(a,b){var c=[225,0.6,18],d=[100,0.8,22],e=a.length;if(e){for(var f=[],h=[],i=0;i<c.length;++i)f.push(c[i]),h.push((d[i]-c[i])/e);for(c=0;c<e;++c){b(a[c],f);for(d=0;d<f.length;++d)f[d]+=h[d]}}}
xk.prototype.draw=function(a,b,c,d,e){function f(b){var c=0;i&&(c=(b-a)/i*l);return c}var h=this.width/3,i=b-a,c=Math.ceil((c-a)/i*h),k=this.canvas.getContext("2d");k.clearRect(0,0,this.width,this.height);for(b=0;b<h;b++)k.fillStyle=b<=c?"#74C476":"#AAAAAA",k.fillRect(b*3,10,2,12);if(!this.nl){k.textBaseline="top";k.textAlign="left";k.font="10pt Helvetica";for(b=0;b<4;b++)k.fillStyle="#666666",h=Math.round(a+b*i/3),h>1E3?h=Math.floor(h/1E3)+"k":h+="",qb||k.fillText(h,this.width*b/3,32),k.textAlign=
b<2?"center":"right"}var l=this.width;e&&yk(e,y(function(a,b){var c=Math.floor(b[0]);zk(this,k,f(a),b[2],"rgba("+c+","+c+","+c+","+b[1]+")")},this));zk(this,k,f(d),23,"#333333")};function zk(a,b,c,d,e){if(!isNaN(c))b.save(),b.fillStyle=e,c=Math.max(Math.min(a.width-4,c),4),b.translate(c,8),b.rotate(-Math.PI),b.beginPath(),b.moveTo(4,4),b.lineTo(0,-1*d*1.1),b.lineTo(-4,4),b.quadraticCurveTo(0,10,4,4),b.closePath(),b.fill(),b.restore()};function Ak(a,b,c){Y.call(this,a,b,c,"perf","Performance");this.ok=new xk("domloadCanvas",180,45);this.um=new xk("srvloadCanvas",180,45);this.nk=new hi("domloadValue");this.tm=new hi("srvloadValue");this.Be=L("srvloadGauge");this.Pc=new ri("domLoadTimes",180,150);P(this.e,"click",y(this.od,this,"Performance",q))}A(Ak,Y);
Ak.prototype.ib=function(){return{title:"Site Performance",body:"User page load time is the time it takes from when a user starts to load your page until the initial page elements (images) are done loading. The histogram shows the distribution of these load times.<br><br>The server load time is the time to load the HTML of your home page, as measured by our servers on the East Coast of the United States.",$c:"performance"}};
Ak.prototype.draw=function(){var a=this.state.w,b=a=="Performance";Wh(this,!!a,b||Ag(this.state));var c=this.state.w,d=c=="Performance",c=!c||Ag(this.state)||d;R(L("domLoadTimes"),c);R(L("domLoadTitle"),c);var e,c=this.data;c.state.getValue();if(e=Ag(c.state)?c.z?q:c.oa.hg:c.m.hg){c=e.vf();ti(this.Pc,c,c.length,"seconds");var f=this.Pc;var h=e.Nk,i=nf.length,k=of.length,l=[];if(h)if(e.zi>5E3){for(var m=e=0;m<i;m++)e+=h[m];l.push(e);for(m=1;m<k;m++)l.push(h[m+i])}else{for(m=0;m<i;m++)l.push(h[m]);
for(m=0;m<k;m++)l[i-1]+=h[i+m]}vi(f,[l],["users"],["#74C476"]);if(d){d=bg(this.data.m).domload;typeof d=="object"&&(d=d.median);f=[];for(h=0;h<c.length;h++)f.push(Vf(c[h]*1E3-1E3,d));this.Pc.gg=f}else this.Pc.gg=q;this.Pc.draw()}this.state.W.section||this.state.W.author?(this.Be.style[Na("display")]||"")!="none"&&R(this.Be,!1):(this.Be.style[Na("display")]||"")!=""&&R(this.Be,!a||b);var b=Cg(this.data),a=this.data.Fe.data,n;a:{var d=this.data.mj,o;for(o in d.data){c=d.data[o];h=c.snaptime;if(!h){n=
q;break a}f=h.length-1;if(f<0){n=q;break a}h=new Date(h[f].replace(/-/g,"/"));if(!n||n.vb<h){n={vb:h};for(var r in c)n[r]=c[r][f]}}}if(a&&b)o=b.domload,typeof o=="object"&&(o=o.median),this.ok.draw(a.domload_min/1E3,a.domload_max/1E3,a.domload_avg/1E3,o/1E3),this.nk.setValue(Math.floor(o/100)/10);a&&n&&(this.um.draw(a.srvload_min,a.srvload_max,a.srvload_avg,n.loadtime),this.tm.setValue(n.loadtime))};function Bk(a,b,c,d){this.title="Bitly";this.e=L(d);Hb(this.e,"filteredWidget");d=M("div",{"class":"widgetControls"});this.Ga=M("div",{"class":"helpIcon"});d.appendChild(this.Ga);this.e.appendChild(d);Y.call(this,a,b,c);P(this.state,xg,this.ed,!1,this);this.dh=new be("http://api.bit.ly/v3/lookup?login=chartbeatdash&apiKey=R_1a4976cf09bebc37cc20adff1d5cfeb9");this.eh=new be("http://api.bit.ly/stats?version=2.0.1&login=chartbeatdash&apiKey=R_1a4976cf09bebc37cc20adff1d5cfeb9");this.Rj=new be("http://api.bit.ly/beta/recommended_links?login=beaufour&apiKey=R_1a4976cf09bebc37cc20adff1d5cfeb9&exclude="+
a);this.Ef=this.Ld=this.ce=this.ld=this.Ue=q;this.Ta()}A(Bk,Y);var Ck=new ai("#,##0");t=Bk.prototype;t.ed=function(){this.za()};t.ib=function(){return{title:"bit.ly",body:"Shows bit.ly link information for individual pages."}};
t.Ta=function(){this.N=M("div",{"class":"widgetTitle"},[this.title]);this.e.appendChild(this.N);this.Da=M("div",{style:"display:none"});this.Pf=M("span",{"class":"bitly-link"});this.ti=M("a",{href:"http://bit.ly",target:"_new"},[this.Pf]);this.Da.appendChild(M("div",{},[M("span",{"class":"ministatTitle"},["Link: "]),this.ti]));this.Zf=M("span",{"class":"bitly-number"});this.Da.appendChild(M("div",{},[M("span",{"class":"ministatTitle"},["Clicks: "]),this.Zf]));this.Da.appendChild(M("div",{"class":"ministatTitle",
style:"margin-top: 8px"},["Top referrers:"]));this.Bg=M("div");this.Da.appendChild(this.Bg);this.Da.appendChild(M("div",{"class":"ministatTitle",style:"margin-top: 8px"},["Recommendations:"]));this.kg=M("div");this.Da.appendChild(this.kg);this.e.appendChild(this.Da);this.Hd=M("div",{style:"display:none"},["No information available"]);this.e.appendChild(this.Hd)};t.c=T("chartbeat.widgets.Bitly");t.draw=aa();
t.za=function(){var a=Ag(this.state);R(this.e,a);if(this.ce)this.dh.cancel(this.ce),this.ce=q;if(this.ld)this.eh.cancel(this.ld),this.ld=q;this.Pf.innerHTML="";this.Zf.innerHTML="";this.Bg.innerHTML="";this.kg.innerHTML="";R(this.Da,!0);R(this.Hd,!1);this.Ef&&u.clearInterval(this.Ef);this.Ef=a?u.setInterval(y(this.za,this),6E4):q;if(a)this.ce=this.dh.send({url:"http://"+this.host+this.state.getValue()},y(this.Al,this))};
t.Al=function(a){var a=a.data.lookup[0],b=a.error;b?(R(this.Da,!1),R(this.Hd,!0),this.c.info("api error: "+b)):(a=a.global_hash,this.Pf.innerHTML=a,this.ti.setAttribute("href","http://bit.ly/"+a+"+"),this.ld=this.eh.send({hash:a},y(this.Ll,this)),this.ld=this.Rj.send({hash:a},y(this.Gl,this)))};
t.Ll=function(a){a=a.results;this.Zf.innerHTML=Ck.format(a.clicks);var b=[];Mb(a.referrers,function(a,c){var d=0;Mb(a,function(a){d+=a},this);b.push({domain:c,count:d})},this);cb(b);b.reverse();for(var a=[],c=0,d=0;d<b.length&&c<5;++d){var e=b[d].domain;e&&(a.push("<span style='width: 40px; text-align: right; display: inline-block;'>"),a.push(Ck.format(b[d].count)),a.push("</span>"),a.push(" "+e.replace(/^www./,"")),a.push("<br/>"),++c)}this.Bg.innerHTML=a.join("");R(this.Da,!0);R(this.Hd,!1)};
t.Gl=function(a){if(a.status_code!=200)this.c.info("api error: "+a.status_txt);else{if(this.Ld)this.Ue.cancel(this.Ld),this.Ld=q;a=a.data.recommendations;if(a.length){for(var b="http://api.bit.ly/v3/expand?login=chartbeatdash&apiKey=R_991f505cf23190c2ce187de20bcc0c2c",c=0,d=0;d<a.length&&c<10;++d){if(a[d].score<10)break;b+="&hash="+a[d].global_hash;++c}c?(this.Ue=new be(b),this.Ld=this.Ue.send({},y(this.xl,this))):this.c.info("No recommendations with score > 10")}else this.c.info("No recommendations")}};
t.xl=function(a){for(var b=[],a=a.data.expand,c=0,d=0;d<a.length&&c<5;++d){var e=a[d].long_url;b.push("<span>");b.push('<a href="'+e+'">'+e+"</a></br>");b.push("</span>");++c}this.kg.innerHTML=b.join("")};function Dk(a,b,c,d){this.title="States";this.e=L(d);R(this.e,!1);Y.call(this,a,b,c);this.ua=new U(c.L,"");P(this.ua,"loaded",y(this.draw,this));window.setInterval(y(this.Eg,this),3E3);this.n=q;this.Wb();P(this.state,xg,this.ed,!1,this);this.Ea={};this.Ta()}A(Dk,Y);t=Dk.prototype;t.ed=function(){if(Ag(this.state))this.n=this.state.getValue(),this.Wb();else if(this.n)this.n=q,this.Wb()};t.Ta=function(){this.N=M("div",{"class":"widgetTitle"},[this.title]);this.e.appendChild(this.N)};t.Eg=function(){this.ua.o()};
t.Wb=function(){var a="/api/summary/?keys=A&types=s";this.n&&(a+="&path="+this.n);this.ua.uri=a;this.ua.o()};t.c=T("chartbeat.widgets.States");t.Df=function(a){var a=M("div",{"class":"ministatTitle"},[a]),b=M("div"),c=new gi(b,80,45,"#9ECAE1"),d=M("div",{"class":"ministat"});this.e.appendChild(M("div",{style:"float: left"},[a,d,b]));return{Cb:c,cd:d}};
t.draw=function(){var a=this.ua.data;if(!a||!a.A||!a.A.data)this.c.info("No data...");else{var b={};Mb(a.A.data,function(a,d){var e=this.Ea[d];e||(this.c.info("Inserting gauge for: "+d),e=this.Df(d));delete this.Ea[d];b[d]=e;e.Cb.draw(0,0,0,25,a);e.cd.innerHTML=a},this);Mb(this.Ea,function(a,d){a.Cb.draw(0,0,0,25,0);a.cd.innerHTML="0";b[d]=a},this);this.Ea=b;Qb(this.Ea)||R(this.e,!0)}};function Ek(a,b,c,d){this.title="Video";this.e=L(d);R(this.e,!1);Y.call(this,a,b,c);this.ua=new U(c.L,"");P(this.ua,"loaded",y(this.draw,this));window.setInterval(y(this.Eg,this),3E3);this.n=q;this.Wb();P(this.state,xg,this.ed,!1,this);this.Ea={};this.Ta()}A(Ek,Y);var Fk={s0:"unstarted",s1:"playing",s2:"paused",s3:"ended"},Gk={p0:"1st quar",p25:"2nd quar",p50:"3rd quar",p75:"4th quar"};function Hk(a,b){var c={},d;for(d in a)b[d]&&(c[b[d]]=a[d]);return c}
function Ik(a,b){return Nb(a,function(a,d){return Ra(Pb(b),d)>=0})}t=Ek.prototype;t.ed=function(){if(Ag(this.state))this.n=this.state.getValue(),this.Wb();else if(this.n)this.n=q,this.Wb()};t.Ta=function(){this.N=M("div",{"class":"widgetTitle"},[this.title]);this.e.appendChild(this.N)};t.Eg=function(){this.ua.o()};t.Wb=function(){var a="/api/summary/?keys=A&types=s";this.n&&(a+="&path="+this.n);this.ua.uri=a;this.ua.o()};t.c=T("chartbeat.widgets.Video");
t.Df=function(a){var a=M("div",{"class":"ministatTitle"},[a]),b=M("div"),c=new gi(b,80,45,"#9ECAE1"),d=M("div",{"class":"ministat"});this.e.appendChild(M("div",{style:"float: left"},[a,d,b]));return{Cb:c,cd:d}};function Jk(a){var a=Uf(a),a=Ik(a,Fk),a=Hk(a,Fk),b=0,c;for(c in a)b+=a[c];a["total viewers"]=b;return a}function Kk(a){a=Nb(a,function(a,c){return c.indexOf("s0")<0&&c.indexOf("s3")<0});a=Uf(a);a=Ik(a,Gk);return a=Hk(a,Gk)}
t.draw=function(){var a=this.ua.data;if(!a||!a.A||!a.A.data)this.c.info("No data...");else{var b={},c=a.A.data,a=Kk(c),c=Jk(c),a=Tf(a,c);Mb(a,function(a,c){var f=this.Ea[c];f||(this.c.info("Insert gauge for: "+c+", el: "+a),f=this.Df(c));delete this.Ea[c];b[c]=f;f.Cb.draw(0,0,0,25,a);f.cd.innerHTML=a},this);Mb(this.Ea,function(a,c){a.Cb.draw(0,0,0,25,0);a.cd.innerHTML="0";b[c]=a},this);this.Ea=b;R(this.e,a["total viewers"])}};function Lk(a){U.call(this,a,"/action_api/total_engagement/")}A(Lk,U);function Mk(a,b,c,d){Y.call(this,a,b,c);this.title="Online airtime";this.state=b;this.e=L(d);this.ol=new ai("#,##0");this.pf=new Lk(c.L);P(this.state,xg,y(this.za,this),!1,this);P(this.state,yg,y(this.za,this),!1,this);P(this.pf,"loaded",y(this.ql,this),!1,this);this.Ta()}A(Mk,Y);Mk.prototype.Ta=function(){this.N=M("header");this.N.appendChild(M("h1",{},[this.title]));this.jh=M("div",{id:"sumEngagedMinutesWidget",className:"container"},["Loading..."]);this.e.appendChild(this.N);this.e.appendChild(this.jh)};
Mk.prototype.draw=aa();Mk.prototype.za=function(){var a=Ag(this.state)||!!this.state.W.author||!!this.state.W.section;R(this.e,a);if(a){a={};if(this.state.value)a.path=this.state.value;else if(this.state.W.fm)a.section=this.state.W.fm;else if(this.state.W.Tj)a.author=this.state.W.Tj;var b=this.pf;b.k.path=a.path;b.k.section=a.section;b.k.author=a.author;this.pf.o()}};
Mk.prototype.ql=function(a){(a=a.target.data.data)?this.jh.innerHTML="Engaged for <strong>"+this.ol.format(Math.floor(a.engaged_secs/60))+"</strong> minutes":R(this.e,!1)};function Nk(a,b,c,d){this.Pk=a;this.Y=b;this.Kc=c;for(a=0;a<d.length;++a)if(b=Ok[d[a]])if(this.Y.product!==b.product)Ee(this.c,"Passing on "+d[a]+". Requirements are not present.");else{var e=b.after||"conversationWidget";(c=L(e))?(this.c.info("Inserting "+d[a]+"after "+e),e=M("div",{"class":"widget"}),c.parentNode&&c.parentNode.insertBefore(e,c.nextSibling),new b.Ed(this.Pk,this.Y,this.Kc,e)):Ee(this.c,"Can not find element to insert after: "+e)}else Ee(this.c,"Does not know about: "+d[a])}
var Ok={bitly:{Ed:Bk,after:"countWidget",product:"Chartbeat"},states:{Ed:Dk,after:"countWidget",product:"Chartbeat"},video:{Ed:Ek,after:"countWidget",product:"Chartbeat"},sumengagedminutes:{Ed:Mk,after:"countWidget",product:"Newsbeat"}};Nk.prototype.c=T("chartbeat.widgets.WidgetManager");function Pk(a){this.t=a;var b=a.host;this.host=b.replace(Sf,"");this.lf=b;this.hd=bd.get("sessionid");this.state=new Sh;this.bh=a.apikey||q;this.td=a.widgets||[];this.W=a.groups=="1"}
Pk.prototype.start=function(){this.data=new wg(this.state,this.host,this.hd,this.bh,3);this.state.product="Chartbeat";this.mn=new oj(this.host,this.state,this.data);this.vk=new Ai(this.host,this.state,this.data);this.rm=new aj(this.host,this.state,this.data);if(this.W)this.jn=new Ui(this.host,this.state,this.data,"section","section"),this.Nm=new Ui(this.host,this.state,this.data,"author","author");this.Yl=new Wi(this.host,this.state,this.data);this.history=this.td&&this.td.indexOf("bitlyhistory")>
0?new Fi(this.host,this.state,this.data):this.td&&this.td.indexOf("gniphistory")>0?new Ji(this.host,this.state,this.data):new Ci(this.host,this.state,this.data);this.kn=new bj(this.host,this.state,this.data,this.lf);this.Fg=new uk(this.host,this.state,this.data);this.count=new ji(this.host,this.state,this.data);this.hk=new qi(this.host,this.state,this.data);this.Rl=new Ak(this.host,this.state,this.data);this.gc=new Yh(this.host,this.state,this.data);this.nn=new Nk(this.host,this.state,this.data,this.td);
this.data.Ia();Rc(this.data,"loaded",y(this.Xl,this));var a=this.zm=new Hg("dashboard");D(["realTime","replayTime","timeline","timelineBack","timelinePause","timelineFwd","timelineToday","timelineWeek","timelineMonth","clearFilter","conversationSettings",this.vk,this.rm,this.Yl,this.history,this.Fg,this.count,this.hk,this.Rl,this.gc],a.ym,a)};Pk.prototype.Xl=function(){window.setTimeout(y(function(){this.state.history.Vb(!0)},this),0)};
window.startDashboard=function(a){var b=Wd(window.location.href);a.host=b.ia.get("host")||b.ia.get("url")||"avc.com";(new Pk(a)).start()};
